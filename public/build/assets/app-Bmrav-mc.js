function zr(me){return me&&me.__esModule&&Object.prototype.hasOwnProperty.call(me,"default")?me.default:me}var Kt={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Ur=Kt.exports,Xi;function Ji(){return Xi||(Xi=1,function(me){(function(f,R){me.exports=f.document?R(f,!0):function(_e){if(!_e.document)throw new Error("jQuery requires a window with a document");return R(_e)}})(typeof window<"u"?window:Ur,function(f,R){var _e=[],ke=Object.getPrototypeOf,fe=_e.slice,Ge=_e.flat?function(t){return _e.flat.call(t)}:function(t){return _e.concat.apply([],t)},at=_e.push,Pe=_e.indexOf,Q={},ot=Q.toString,it=Q.hasOwnProperty,gt=it.toString,Ke=gt.call(Object),Y={},te=function(n){return typeof n=="function"&&typeof n.nodeType!="number"&&typeof n.item!="function"},He=function(n){return n!=null&&n===n.window},Z=f.document,e={type:!0,src:!0,nonce:!0,noModule:!0};function o(t,n,l){l=l||Z;var c,h,u=l.createElement("script");if(u.text=t,n)for(c in e)h=n[c]||n.getAttribute&&n.getAttribute(c),h&&u.setAttribute(c,h);l.head.appendChild(u).parentNode.removeChild(u)}function r(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?Q[ot.call(t)]||"object":typeof t}var s="3.7.1",a=/HTML$/i,i=function(t,n){return new i.fn.init(t,n)};i.fn=i.prototype={jquery:s,constructor:i,length:0,toArray:function(){return fe.call(this)},get:function(t){return t==null?fe.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=i.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return i.each(this,t)},map:function(t){return this.pushStack(i.map(this,function(n,l){return t.call(n,l,n)}))},slice:function(){return this.pushStack(fe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(t,n){return(n+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(t,n){return n%2}))},eq:function(t){var n=this.length,l=+t+(t<0?n:0);return this.pushStack(l>=0&&l<n?[this[l]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:_e.sort,splice:_e.splice},i.extend=i.fn.extend=function(){var t,n,l,c,h,u,_=arguments[0]||{},w=1,k=arguments.length,T=!1;for(typeof _=="boolean"&&(T=_,_=arguments[w]||{},w++),typeof _!="object"&&!te(_)&&(_={}),w===k&&(_=this,w--);w<k;w++)if((t=arguments[w])!=null)for(n in t)c=t[n],!(n==="__proto__"||_===c)&&(T&&c&&(i.isPlainObject(c)||(h=Array.isArray(c)))?(l=_[n],h&&!Array.isArray(l)?u=[]:!h&&!i.isPlainObject(l)?u={}:u=l,h=!1,_[n]=i.extend(T,u,c)):c!==void 0&&(_[n]=c));return _},i.extend({expando:"jQuery"+(s+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var n,l;return!t||ot.call(t)!=="[object Object]"?!1:(n=ke(t),n?(l=it.call(n,"constructor")&&n.constructor,typeof l=="function"&&gt.call(l)===Ke):!0)},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},globalEval:function(t,n,l){o(t,{nonce:n&&n.nonce},l)},each:function(t,n){var l,c=0;if(d(t))for(l=t.length;c<l&&n.call(t[c],c,t[c])!==!1;c++);else for(c in t)if(n.call(t[c],c,t[c])===!1)break;return t},text:function(t){var n,l="",c=0,h=t.nodeType;if(!h)for(;n=t[c++];)l+=i.text(n);return h===1||h===11?t.textContent:h===9?t.documentElement.textContent:h===3||h===4?t.nodeValue:l},makeArray:function(t,n){var l=n||[];return t!=null&&(d(Object(t))?i.merge(l,typeof t=="string"?[t]:t):at.call(l,t)),l},inArray:function(t,n,l){return n==null?-1:Pe.call(n,t,l)},isXMLDoc:function(t){var n=t&&t.namespaceURI,l=t&&(t.ownerDocument||t).documentElement;return!a.test(n||l&&l.nodeName||"HTML")},merge:function(t,n){for(var l=+n.length,c=0,h=t.length;c<l;c++)t[h++]=n[c];return t.length=h,t},grep:function(t,n,l){for(var c,h=[],u=0,_=t.length,w=!l;u<_;u++)c=!n(t[u],u),c!==w&&h.push(t[u]);return h},map:function(t,n,l){var c,h,u=0,_=[];if(d(t))for(c=t.length;u<c;u++)h=n(t[u],u,l),h!=null&&_.push(h);else for(u in t)h=n(t[u],u,l),h!=null&&_.push(h);return Ge(_)},guid:1,support:Y}),typeof Symbol=="function"&&(i.fn[Symbol.iterator]=_e[Symbol.iterator]),i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){Q["[object "+n+"]"]=n.toLowerCase()});function d(t){var n=!!t&&"length"in t&&t.length,l=r(t);return te(t)||He(t)?!1:l==="array"||n===0||typeof n=="number"&&n>0&&n-1 in t}function g(t,n){return t.nodeName&&t.nodeName.toLowerCase()===n.toLowerCase()}var p=_e.pop,m=_e.sort,v=_e.splice,x="[\\x20\\t\\r\\n\\f]",S=new RegExp("^"+x+"+|((?:^|[^\\\\])(?:\\\\.)*)"+x+"+$","g");i.contains=function(t,n){var l=n&&n.parentNode;return t===l||!!(l&&l.nodeType===1&&(t.contains?t.contains(l):t.compareDocumentPosition&&t.compareDocumentPosition(l)&16))};var N=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function j(t,n){return n?t==="\0"?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}i.escapeSelector=function(t){return(t+"").replace(N,j)};var O=Z,D=at;(function(){var t,n,l,c,h,u=D,_,w,k,T,P,H=i.expando,E=0,M=0,ee=It(),le=It(),ne=It(),we=It(),xe=function(y,C){return y===C&&(h=!0),0},Xe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ye="(?:\\\\[\\da-fA-F]{1,6}"+x+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",oe="\\["+x+"*("+Ye+")(?:"+x+"*([*^$|!~]?=)"+x+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ye+"))|)"+x+"*\\]",ht=":("+Ye+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+oe+")*)|.*)\\)|)",de=new RegExp(x+"+","g"),ye=new RegExp("^"+x+"*,"+x+"*"),jt=new RegExp("^"+x+"*([>+~]|"+x+")"+x+"*"),ni=new RegExp(x+"|>"),Je=new RegExp(ht),Lt=new RegExp("^"+Ye+"$"),Ve={ID:new RegExp("^#("+Ye+")"),CLASS:new RegExp("^\\.("+Ye+")"),TAG:new RegExp("^("+Ye+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ht),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+x+"*(even|odd|(([+-]|)(\\d*)n|)"+x+"*(?:([+-]|)"+x+"*(\\d+)|))"+x+"*\\)|)","i"),bool:new RegExp("^(?:"+Xe+")$","i"),needsContext:new RegExp("^"+x+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+x+"*((?:-\\d)?\\d*)"+x+"*\\)|)(?=[^-]|$)","i")},rt=/^(?:input|select|textarea|button)$/i,nt=/^h\d$/i,Fe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,si=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+x+"?|\\\\([^\\r\\n\\f])","g"),tt=function(y,C){var A="0x"+y.slice(1)-65536;return C||(A<0?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,A&1023|56320))},Mr=function(){st()},Fr=Wt(function(y){return y.disabled===!0&&g(y,"fieldset")},{dir:"parentNode",next:"legend"});function Ir(){try{return _.activeElement}catch{}}try{u.apply(_e=fe.call(O.childNodes),O.childNodes),_e[O.childNodes.length].nodeType}catch{u={apply:function(C,A){D.apply(C,fe.call(A))},call:function(C){D.apply(C,fe.call(arguments,1))}}}function ue(y,C,A,L){var q,F,W,K,B,se,V,ie=C&&C.ownerDocument,ae=C?C.nodeType:9;if(A=A||[],typeof y!="string"||!y||ae!==1&&ae!==9&&ae!==11)return A;if(!L&&(st(C),C=C||_,k)){if(ae!==11&&(B=Fe.exec(y)))if(q=B[1]){if(ae===9)if(W=C.getElementById(q)){if(W.id===q)return u.call(A,W),A}else return A;else if(ie&&(W=ie.getElementById(q))&&ue.contains(C,W)&&W.id===q)return u.call(A,W),A}else{if(B[2])return u.apply(A,C.getElementsByTagName(y)),A;if((q=B[3])&&C.getElementsByClassName)return u.apply(A,C.getElementsByClassName(q)),A}if(!we[y+" "]&&(!T||!T.test(y))){if(V=y,ie=C,ae===1&&(ni.test(y)||jt.test(y))){for(ie=si.test(y)&&ai(C.parentNode)||C,(ie!=C||!Y.scope)&&((K=C.getAttribute("id"))?K=i.escapeSelector(K):C.setAttribute("id",K=H)),se=Pt(y),F=se.length;F--;)se[F]=(K?"#"+K:":scope")+" "+Rt(se[F]);V=se.join(",")}try{return u.apply(A,ie.querySelectorAll(V)),A}catch{we(y,!0)}finally{K===H&&C.removeAttribute("id")}}}return Ui(y.replace(S,"$1"),C,A,L)}function It(){var y=[];function C(A,L){return y.push(A+" ")>n.cacheLength&&delete C[y.shift()],C[A+" "]=L}return C}function Be(y){return y[H]=!0,y}function kt(y){var C=_.createElement("fieldset");try{return!!y(C)}catch{return!1}finally{C.parentNode&&C.parentNode.removeChild(C),C=null}}function Rr(y){return function(C){return g(C,"input")&&C.type===y}}function Wr(y){return function(C){return(g(C,"input")||g(C,"button"))&&C.type===y}}function Ki(y){return function(C){return"form"in C?C.parentNode&&C.disabled===!1?"label"in C?"label"in C.parentNode?C.parentNode.disabled===y:C.disabled===y:C.isDisabled===y||C.isDisabled!==!y&&Fr(C)===y:C.disabled===y:"label"in C?C.disabled===y:!1}}function ut(y){return Be(function(C){return C=+C,Be(function(A,L){for(var q,F=y([],A.length,C),W=F.length;W--;)A[q=F[W]]&&(A[q]=!(L[q]=A[q]))})})}function ai(y){return y&&typeof y.getElementsByTagName<"u"&&y}function st(y){var C,A=y?y.ownerDocument||y:O;return A==_||A.nodeType!==9||!A.documentElement||(_=A,w=_.documentElement,k=!i.isXMLDoc(_),P=w.matches||w.webkitMatchesSelector||w.msMatchesSelector,w.msMatchesSelector&&O!=_&&(C=_.defaultView)&&C.top!==C&&C.addEventListener("unload",Mr),Y.getById=kt(function(L){return w.appendChild(L).id=i.expando,!_.getElementsByName||!_.getElementsByName(i.expando).length}),Y.disconnectedMatch=kt(function(L){return P.call(L,"*")}),Y.scope=kt(function(){return _.querySelectorAll(":scope")}),Y.cssHas=kt(function(){try{return _.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Y.getById?(n.filter.ID=function(L){var q=L.replace(et,tt);return function(F){return F.getAttribute("id")===q}},n.find.ID=function(L,q){if(typeof q.getElementById<"u"&&k){var F=q.getElementById(L);return F?[F]:[]}}):(n.filter.ID=function(L){var q=L.replace(et,tt);return function(F){var W=typeof F.getAttributeNode<"u"&&F.getAttributeNode("id");return W&&W.value===q}},n.find.ID=function(L,q){if(typeof q.getElementById<"u"&&k){var F,W,K,B=q.getElementById(L);if(B){if(F=B.getAttributeNode("id"),F&&F.value===L)return[B];for(K=q.getElementsByName(L),W=0;B=K[W++];)if(F=B.getAttributeNode("id"),F&&F.value===L)return[B]}return[]}}),n.find.TAG=function(L,q){return typeof q.getElementsByTagName<"u"?q.getElementsByTagName(L):q.querySelectorAll(L)},n.find.CLASS=function(L,q){if(typeof q.getElementsByClassName<"u"&&k)return q.getElementsByClassName(L)},T=[],kt(function(L){var q;w.appendChild(L).innerHTML="<a id='"+H+"' href='' disabled='disabled'></a><select id='"+H+"-\r\\' disabled='disabled'><option selected=''></option></select>",L.querySelectorAll("[selected]").length||T.push("\\["+x+"*(?:value|"+Xe+")"),L.querySelectorAll("[id~="+H+"-]").length||T.push("~="),L.querySelectorAll("a#"+H+"+*").length||T.push(".#.+[+~]"),L.querySelectorAll(":checked").length||T.push(":checked"),q=_.createElement("input"),q.setAttribute("type","hidden"),L.appendChild(q).setAttribute("name","D"),w.appendChild(L).disabled=!0,L.querySelectorAll(":disabled").length!==2&&T.push(":enabled",":disabled"),q=_.createElement("input"),q.setAttribute("name",""),L.appendChild(q),L.querySelectorAll("[name='']").length||T.push("\\["+x+"*name"+x+"*="+x+`*(?:''|"")`)}),Y.cssHas||T.push(":has"),T=T.length&&new RegExp(T.join("|")),xe=function(L,q){if(L===q)return h=!0,0;var F=!L.compareDocumentPosition-!q.compareDocumentPosition;return F||(F=(L.ownerDocument||L)==(q.ownerDocument||q)?L.compareDocumentPosition(q):1,F&1||!Y.sortDetached&&q.compareDocumentPosition(L)===F?L===_||L.ownerDocument==O&&ue.contains(O,L)?-1:q===_||q.ownerDocument==O&&ue.contains(O,q)?1:c?Pe.call(c,L)-Pe.call(c,q):0:F&4?-1:1)}),_}ue.matches=function(y,C){return ue(y,null,null,C)},ue.matchesSelector=function(y,C){if(st(y),k&&!we[C+" "]&&(!T||!T.test(C)))try{var A=P.call(y,C);if(A||Y.disconnectedMatch||y.document&&y.document.nodeType!==11)return A}catch{we(C,!0)}return ue(C,_,null,[y]).length>0},ue.contains=function(y,C){return(y.ownerDocument||y)!=_&&st(y),i.contains(y,C)},ue.attr=function(y,C){(y.ownerDocument||y)!=_&&st(y);var A=n.attrHandle[C.toLowerCase()],L=A&&it.call(n.attrHandle,C.toLowerCase())?A(y,C,!k):void 0;return L!==void 0?L:y.getAttribute(C)},ue.error=function(y){throw new Error("Syntax error, unrecognized expression: "+y)},i.uniqueSort=function(y){var C,A=[],L=0,q=0;if(h=!Y.sortStable,c=!Y.sortStable&&fe.call(y,0),m.call(y,xe),h){for(;C=y[q++];)C===y[q]&&(L=A.push(q));for(;L--;)v.call(y,A[L],1)}return c=null,y},i.fn.uniqueSort=function(){return this.pushStack(i.uniqueSort(fe.apply(this)))},n=i.expr={cacheLength:50,createPseudo:Be,match:Ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(y){return y[1]=y[1].replace(et,tt),y[3]=(y[3]||y[4]||y[5]||"").replace(et,tt),y[2]==="~="&&(y[3]=" "+y[3]+" "),y.slice(0,4)},CHILD:function(y){return y[1]=y[1].toLowerCase(),y[1].slice(0,3)==="nth"?(y[3]||ue.error(y[0]),y[4]=+(y[4]?y[5]+(y[6]||1):2*(y[3]==="even"||y[3]==="odd")),y[5]=+(y[7]+y[8]||y[3]==="odd")):y[3]&&ue.error(y[0]),y},PSEUDO:function(y){var C,A=!y[6]&&y[2];return Ve.CHILD.test(y[0])?null:(y[3]?y[2]=y[4]||y[5]||"":A&&Je.test(A)&&(C=Pt(A,!0))&&(C=A.indexOf(")",A.length-C)-A.length)&&(y[0]=y[0].slice(0,C),y[2]=A.slice(0,C)),y.slice(0,3))}},filter:{TAG:function(y){var C=y.replace(et,tt).toLowerCase();return y==="*"?function(){return!0}:function(A){return g(A,C)}},CLASS:function(y){var C=ee[y+" "];return C||(C=new RegExp("(^|"+x+")"+y+"("+x+"|$)"))&&ee(y,function(A){return C.test(typeof A.className=="string"&&A.className||typeof A.getAttribute<"u"&&A.getAttribute("class")||"")})},ATTR:function(y,C,A){return function(L){var q=ue.attr(L,y);return q==null?C==="!=":C?(q+="",C==="="?q===A:C==="!="?q!==A:C==="^="?A&&q.indexOf(A)===0:C==="*="?A&&q.indexOf(A)>-1:C==="$="?A&&q.slice(-A.length)===A:C==="~="?(" "+q.replace(de," ")+" ").indexOf(A)>-1:C==="|="?q===A||q.slice(0,A.length+1)===A+"-":!1):!0}},CHILD:function(y,C,A,L,q){var F=y.slice(0,3)!=="nth",W=y.slice(-4)!=="last",K=C==="of-type";return L===1&&q===0?function(B){return!!B.parentNode}:function(B,se,V){var ie,ae,J,pe,je,Te=F!==W?"nextSibling":"previousSibling",Ie=B.parentNode,Qe=K&&B.nodeName.toLowerCase(),wt=!V&&!K,Ne=!1;if(Ie){if(F){for(;Te;){for(J=B;J=J[Te];)if(K?g(J,Qe):J.nodeType===1)return!1;je=Te=y==="only"&&!je&&"nextSibling"}return!0}if(je=[W?Ie.firstChild:Ie.lastChild],W&&wt){for(ae=Ie[H]||(Ie[H]={}),ie=ae[y]||[],pe=ie[0]===E&&ie[1],Ne=pe&&ie[2],J=pe&&Ie.childNodes[pe];J=++pe&&J&&J[Te]||(Ne=pe=0)||je.pop();)if(J.nodeType===1&&++Ne&&J===B){ae[y]=[E,pe,Ne];break}}else if(wt&&(ae=B[H]||(B[H]={}),ie=ae[y]||[],pe=ie[0]===E&&ie[1],Ne=pe),Ne===!1)for(;(J=++pe&&J&&J[Te]||(Ne=pe=0)||je.pop())&&!((K?g(J,Qe):J.nodeType===1)&&++Ne&&(wt&&(ae=J[H]||(J[H]={}),ae[y]=[E,Ne]),J===B)););return Ne-=q,Ne===L||Ne%L===0&&Ne/L>=0}}},PSEUDO:function(y,C){var A,L=n.pseudos[y]||n.setFilters[y.toLowerCase()]||ue.error("unsupported pseudo: "+y);return L[H]?L(C):L.length>1?(A=[y,y,"",C],n.setFilters.hasOwnProperty(y.toLowerCase())?Be(function(q,F){for(var W,K=L(q,C),B=K.length;B--;)W=Pe.call(q,K[B]),q[W]=!(F[W]=K[B])}):function(q){return L(q,0,A)}):L}},pseudos:{not:Be(function(y){var C=[],A=[],L=di(y.replace(S,"$1"));return L[H]?Be(function(q,F,W,K){for(var B,se=L(q,null,K,[]),V=q.length;V--;)(B=se[V])&&(q[V]=!(F[V]=B))}):function(q,F,W){return C[0]=q,L(C,null,W,A),C[0]=null,!A.pop()}}),has:Be(function(y){return function(C){return ue(y,C).length>0}}),contains:Be(function(y){return y=y.replace(et,tt),function(C){return(C.textContent||i.text(C)).indexOf(y)>-1}}),lang:Be(function(y){return Lt.test(y||"")||ue.error("unsupported lang: "+y),y=y.replace(et,tt).toLowerCase(),function(C){var A;do if(A=k?C.lang:C.getAttribute("xml:lang")||C.getAttribute("lang"))return A=A.toLowerCase(),A===y||A.indexOf(y+"-")===0;while((C=C.parentNode)&&C.nodeType===1);return!1}}),target:function(y){var C=f.location&&f.location.hash;return C&&C.slice(1)===y.id},root:function(y){return y===w},focus:function(y){return y===Ir()&&_.hasFocus()&&!!(y.type||y.href||~y.tabIndex)},enabled:Ki(!1),disabled:Ki(!0),checked:function(y){return g(y,"input")&&!!y.checked||g(y,"option")&&!!y.selected},selected:function(y){return y.parentNode&&y.parentNode.selectedIndex,y.selected===!0},empty:function(y){for(y=y.firstChild;y;y=y.nextSibling)if(y.nodeType<6)return!1;return!0},parent:function(y){return!n.pseudos.empty(y)},header:function(y){return nt.test(y.nodeName)},input:function(y){return rt.test(y.nodeName)},button:function(y){return g(y,"input")&&y.type==="button"||g(y,"button")},text:function(y){var C;return g(y,"input")&&y.type==="text"&&((C=y.getAttribute("type"))==null||C.toLowerCase()==="text")},first:ut(function(){return[0]}),last:ut(function(y,C){return[C-1]}),eq:ut(function(y,C,A){return[A<0?A+C:A]}),even:ut(function(y,C){for(var A=0;A<C;A+=2)y.push(A);return y}),odd:ut(function(y,C){for(var A=1;A<C;A+=2)y.push(A);return y}),lt:ut(function(y,C,A){var L;for(A<0?L=A+C:A>C?L=C:L=A;--L>=0;)y.push(L);return y}),gt:ut(function(y,C,A){for(var L=A<0?A+C:A;++L<C;)y.push(L);return y})}},n.pseudos.nth=n.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=Rr(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=Wr(t);function zi(){}zi.prototype=n.filters=n.pseudos,n.setFilters=new zi;function Pt(y,C){var A,L,q,F,W,K,B,se=le[y+" "];if(se)return C?0:se.slice(0);for(W=y,K=[],B=n.preFilter;W;){(!A||(L=ye.exec(W)))&&(L&&(W=W.slice(L[0].length)||W),K.push(q=[])),A=!1,(L=jt.exec(W))&&(A=L.shift(),q.push({value:A,type:L[0].replace(S," ")}),W=W.slice(A.length));for(F in n.filter)(L=Ve[F].exec(W))&&(!B[F]||(L=B[F](L)))&&(A=L.shift(),q.push({value:A,type:F,matches:L}),W=W.slice(A.length));if(!A)break}return C?W.length:W?ue.error(y):le(y,K).slice(0)}function Rt(y){for(var C=0,A=y.length,L="";C<A;C++)L+=y[C].value;return L}function Wt(y,C,A){var L=C.dir,q=C.next,F=q||L,W=A&&F==="parentNode",K=M++;return C.first?function(B,se,V){for(;B=B[L];)if(B.nodeType===1||W)return y(B,se,V);return!1}:function(B,se,V){var ie,ae,J=[E,K];if(V){for(;B=B[L];)if((B.nodeType===1||W)&&y(B,se,V))return!0}else for(;B=B[L];)if(B.nodeType===1||W)if(ae=B[H]||(B[H]={}),q&&g(B,q))B=B[L]||B;else{if((ie=ae[F])&&ie[0]===E&&ie[1]===K)return J[2]=ie[2];if(ae[F]=J,J[2]=y(B,se,V))return!0}return!1}}function oi(y){return y.length>1?function(C,A,L){for(var q=y.length;q--;)if(!y[q](C,A,L))return!1;return!0}:y[0]}function Br(y,C,A){for(var L=0,q=C.length;L<q;L++)ue(y,C[L],A);return A}function Bt(y,C,A,L,q){for(var F,W=[],K=0,B=y.length,se=C!=null;K<B;K++)(F=y[K])&&(!A||A(F,L,q))&&(W.push(F),se&&C.push(K));return W}function li(y,C,A,L,q,F){return L&&!L[H]&&(L=li(L)),q&&!q[H]&&(q=li(q,F)),Be(function(W,K,B,se){var V,ie,ae,J,pe=[],je=[],Te=K.length,Ie=W||Br(C||"*",B.nodeType?[B]:B,[]),Qe=y&&(W||!C)?Bt(Ie,pe,y,B,se):Ie;if(A?(J=q||(W?y:Te||L)?[]:K,A(Qe,J,B,se)):J=Qe,L)for(V=Bt(J,je),L(V,[],B,se),ie=V.length;ie--;)(ae=V[ie])&&(J[je[ie]]=!(Qe[je[ie]]=ae));if(W){if(q||y){if(q){for(V=[],ie=J.length;ie--;)(ae=J[ie])&&V.push(Qe[ie]=ae);q(null,J=[],V,se)}for(ie=J.length;ie--;)(ae=J[ie])&&(V=q?Pe.call(W,ae):pe[ie])>-1&&(W[V]=!(K[V]=ae))}}else J=Bt(J===K?J.splice(Te,J.length):J),q?q(null,K,J,se):u.apply(K,J)})}function ci(y){for(var C,A,L,q=y.length,F=n.relative[y[0].type],W=F||n.relative[" "],K=F?1:0,B=Wt(function(ie){return ie===C},W,!0),se=Wt(function(ie){return Pe.call(C,ie)>-1},W,!0),V=[function(ie,ae,J){var pe=!F&&(J||ae!=l)||((C=ae).nodeType?B(ie,ae,J):se(ie,ae,J));return C=null,pe}];K<q;K++)if(A=n.relative[y[K].type])V=[Wt(oi(V),A)];else{if(A=n.filter[y[K].type].apply(null,y[K].matches),A[H]){for(L=++K;L<q&&!n.relative[y[L].type];L++);return li(K>1&&oi(V),K>1&&Rt(y.slice(0,K-1).concat({value:y[K-2].type===" "?"*":""})).replace(S,"$1"),A,K<L&&ci(y.slice(K,L)),L<q&&ci(y=y.slice(L)),L<q&&Rt(y))}V.push(A)}return oi(V)}function Kr(y,C){var A=C.length>0,L=y.length>0,q=function(F,W,K,B,se){var V,ie,ae,J=0,pe="0",je=F&&[],Te=[],Ie=l,Qe=F||L&&n.find.TAG("*",se),wt=E+=Ie==null?1:Math.random()||.1,Ne=Qe.length;for(se&&(l=W==_||W||se);pe!==Ne&&(V=Qe[pe])!=null;pe++){if(L&&V){for(ie=0,!W&&V.ownerDocument!=_&&(st(V),K=!k);ae=y[ie++];)if(ae(V,W||_,K)){u.call(B,V);break}se&&(E=wt)}A&&((V=!ae&&V)&&J--,F&&je.push(V))}if(J+=pe,A&&pe!==J){for(ie=0;ae=C[ie++];)ae(je,Te,W,K);if(F){if(J>0)for(;pe--;)je[pe]||Te[pe]||(Te[pe]=p.call(B));Te=Bt(Te)}u.apply(B,Te),se&&!F&&Te.length>0&&J+C.length>1&&i.uniqueSort(B)}return se&&(E=wt,l=Ie),je};return A?Be(q):q}function di(y,C){var A,L=[],q=[],F=ne[y+" "];if(!F){for(C||(C=Pt(y)),A=C.length;A--;)F=ci(C[A]),F[H]?L.push(F):q.push(F);F=ne(y,Kr(q,L)),F.selector=y}return F}function Ui(y,C,A,L){var q,F,W,K,B,se=typeof y=="function"&&y,V=!L&&Pt(y=se.selector||y);if(A=A||[],V.length===1){if(F=V[0]=V[0].slice(0),F.length>2&&(W=F[0]).type==="ID"&&C.nodeType===9&&k&&n.relative[F[1].type]){if(C=(n.find.ID(W.matches[0].replace(et,tt),C)||[])[0],C)se&&(C=C.parentNode);else return A;y=y.slice(F.shift().value.length)}for(q=Ve.needsContext.test(y)?0:F.length;q--&&(W=F[q],!n.relative[K=W.type]);)if((B=n.find[K])&&(L=B(W.matches[0].replace(et,tt),si.test(F[0].type)&&ai(C.parentNode)||C))){if(F.splice(q,1),y=L.length&&Rt(F),!y)return u.apply(A,L),A;break}}return(se||di(y,V))(L,C,!k,A,!C||si.test(y)&&ai(C.parentNode)||C),A}Y.sortStable=H.split("").sort(xe).join("")===H,st(),Y.sortDetached=kt(function(y){return y.compareDocumentPosition(_.createElement("fieldset"))&1}),i.find=ue,i.expr[":"]=i.expr.pseudos,i.unique=i.uniqueSort,ue.compile=di,ue.select=Ui,ue.setDocument=st,ue.tokenize=Pt,ue.escape=i.escapeSelector,ue.getText=i.text,ue.isXML=i.isXMLDoc,ue.selectors=i.expr,ue.support=i.support,ue.uniqueSort=i.uniqueSort})();var G=function(t,n,l){for(var c=[],h=l!==void 0;(t=t[n])&&t.nodeType!==9;)if(t.nodeType===1){if(h&&i(t).is(l))break;c.push(t)}return c},re=function(t,n){for(var l=[];t;t=t.nextSibling)t.nodeType===1&&t!==n&&l.push(t);return l},U=i.expr.match.needsContext,ce=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Se(t,n,l){return te(n)?i.grep(t,function(c,h){return!!n.call(c,h,c)!==l}):n.nodeType?i.grep(t,function(c){return c===n!==l}):typeof n!="string"?i.grep(t,function(c){return Pe.call(n,c)>-1!==l}):i.filter(n,t,l)}i.filter=function(t,n,l){var c=n[0];return l&&(t=":not("+t+")"),n.length===1&&c.nodeType===1?i.find.matchesSelector(c,t)?[c]:[]:i.find.matches(t,i.grep(n,function(h){return h.nodeType===1}))},i.fn.extend({find:function(t){var n,l,c=this.length,h=this;if(typeof t!="string")return this.pushStack(i(t).filter(function(){for(n=0;n<c;n++)if(i.contains(h[n],this))return!0}));for(l=this.pushStack([]),n=0;n<c;n++)i.find(t,h[n],l);return c>1?i.uniqueSort(l):l},filter:function(t){return this.pushStack(Se(this,t||[],!1))},not:function(t){return this.pushStack(Se(this,t||[],!0))},is:function(t){return!!Se(this,typeof t=="string"&&U.test(t)?i(t):t||[],!1).length}});var ve,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,he=i.fn.init=function(t,n,l){var c,h;if(!t)return this;if(l=l||ve,typeof t=="string")if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3?c=[null,t,null]:c=$.exec(t),c&&(c[1]||!n))if(c[1]){if(n=n instanceof i?n[0]:n,i.merge(this,i.parseHTML(c[1],n&&n.nodeType?n.ownerDocument||n:Z,!0)),ce.test(c[1])&&i.isPlainObject(n))for(c in n)te(this[c])?this[c](n[c]):this.attr(c,n[c]);return this}else return h=Z.getElementById(c[2]),h&&(this[0]=h,this.length=1),this;else return!n||n.jquery?(n||l).find(t):this.constructor(n).find(t);else{if(t.nodeType)return this[0]=t,this.length=1,this;if(te(t))return l.ready!==void 0?l.ready(t):t(i)}return i.makeArray(t,this)};he.prototype=i.fn,ve=i(Z);var Ce=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(t){var n=i(t,this),l=n.length;return this.filter(function(){for(var c=0;c<l;c++)if(i.contains(this,n[c]))return!0})},closest:function(t,n){var l,c=0,h=this.length,u=[],_=typeof t!="string"&&i(t);if(!U.test(t)){for(;c<h;c++)for(l=this[c];l&&l!==n;l=l.parentNode)if(l.nodeType<11&&(_?_.index(l)>-1:l.nodeType===1&&i.find.matchesSelector(l,t))){u.push(l);break}}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(t){return t?typeof t=="string"?Pe.call(i(t),this[0]):Pe.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,n){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(t,n))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function Ze(t,n){for(;(t=t[n])&&t.nodeType!==1;);return t}i.each({parent:function(t){var n=t.parentNode;return n&&n.nodeType!==11?n:null},parents:function(t){return G(t,"parentNode")},parentsUntil:function(t,n,l){return G(t,"parentNode",l)},next:function(t){return Ze(t,"nextSibling")},prev:function(t){return Ze(t,"previousSibling")},nextAll:function(t){return G(t,"nextSibling")},prevAll:function(t){return G(t,"previousSibling")},nextUntil:function(t,n,l){return G(t,"nextSibling",l)},prevUntil:function(t,n,l){return G(t,"previousSibling",l)},siblings:function(t){return re((t.parentNode||{}).firstChild,t)},children:function(t){return re(t.firstChild)},contents:function(t){return t.contentDocument!=null&&ke(t.contentDocument)?t.contentDocument:(g(t,"template")&&(t=t.content||t),i.merge([],t.childNodes))}},function(t,n){i.fn[t]=function(l,c){var h=i.map(this,n,l);return t.slice(-5)!=="Until"&&(c=l),c&&typeof c=="string"&&(h=i.filter(c,h)),this.length>1&&(Ae[t]||i.uniqueSort(h),Ce.test(t)&&h.reverse()),this.pushStack(h)}});var b=/[^\x20\t\r\n\f]+/g;function ze(t){var n={};return i.each(t.match(b)||[],function(l,c){n[c]=!0}),n}i.Callbacks=function(t){t=typeof t=="string"?ze(t):i.extend({},t);var n,l,c,h,u=[],_=[],w=-1,k=function(){for(h=h||t.once,c=n=!0;_.length;w=-1)for(l=_.shift();++w<u.length;)u[w].apply(l[0],l[1])===!1&&t.stopOnFalse&&(w=u.length,l=!1);t.memory||(l=!1),n=!1,h&&(l?u=[]:u="")},T={add:function(){return u&&(l&&!n&&(w=u.length-1,_.push(l)),function P(H){i.each(H,function(E,M){te(M)?(!t.unique||!T.has(M))&&u.push(M):M&&M.length&&r(M)!=="string"&&P(M)})}(arguments),l&&!n&&k()),this},remove:function(){return i.each(arguments,function(P,H){for(var E;(E=i.inArray(H,u,E))>-1;)u.splice(E,1),E<=w&&w--}),this},has:function(P){return P?i.inArray(P,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return h=_=[],u=l="",this},disabled:function(){return!u},lock:function(){return h=_=[],!l&&!n&&(u=l=""),this},locked:function(){return!!h},fireWith:function(P,H){return h||(H=H||[],H=[P,H.slice?H.slice():H],_.push(H),n||k()),this},fire:function(){return T.fireWith(this,arguments),this},fired:function(){return!!c}};return T};function ge(t){return t}function qe(t){throw t}function X(t,n,l,c){var h;try{t&&te(h=t.promise)?h.call(t).done(n).fail(l):t&&te(h=t.then)?h.call(t,n,l):n.apply(void 0,[t].slice(c))}catch(u){l.apply(void 0,[u])}}i.extend({Deferred:function(t){var n=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],l="pending",c={state:function(){return l},always:function(){return h.done(arguments).fail(arguments),this},catch:function(u){return c.then(null,u)},pipe:function(){var u=arguments;return i.Deferred(function(_){i.each(n,function(w,k){var T=te(u[k[4]])&&u[k[4]];h[k[1]](function(){var P=T&&T.apply(this,arguments);P&&te(P.promise)?P.promise().progress(_.notify).done(_.resolve).fail(_.reject):_[k[0]+"With"](this,T?[P]:arguments)})}),u=null}).promise()},then:function(u,_,w){var k=0;function T(P,H,E,M){return function(){var ee=this,le=arguments,ne=function(){var xe,Xe;if(!(P<k)){if(xe=E.apply(ee,le),xe===H.promise())throw new TypeError("Thenable self-resolution");Xe=xe&&(typeof xe=="object"||typeof xe=="function")&&xe.then,te(Xe)?M?Xe.call(xe,T(k,H,ge,M),T(k,H,qe,M)):(k++,Xe.call(xe,T(k,H,ge,M),T(k,H,qe,M),T(k,H,ge,H.notifyWith))):(E!==ge&&(ee=void 0,le=[xe]),(M||H.resolveWith)(ee,le))}},we=M?ne:function(){try{ne()}catch(xe){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(xe,we.error),P+1>=k&&(E!==qe&&(ee=void 0,le=[xe]),H.rejectWith(ee,le))}};P?we():(i.Deferred.getErrorHook?we.error=i.Deferred.getErrorHook():i.Deferred.getStackHook&&(we.error=i.Deferred.getStackHook()),f.setTimeout(we))}}return i.Deferred(function(P){n[0][3].add(T(0,P,te(w)?w:ge,P.notifyWith)),n[1][3].add(T(0,P,te(u)?u:ge)),n[2][3].add(T(0,P,te(_)?_:qe))}).promise()},promise:function(u){return u!=null?i.extend(u,c):c}},h={};return i.each(n,function(u,_){var w=_[2],k=_[5];c[_[1]]=w.add,k&&w.add(function(){l=k},n[3-u][2].disable,n[3-u][3].disable,n[0][2].lock,n[0][3].lock),w.add(_[3].fire),h[_[0]]=function(){return h[_[0]+"With"](this===h?void 0:this,arguments),this},h[_[0]+"With"]=w.fireWith}),c.promise(h),t&&t.call(h,h),h},when:function(t){var n=arguments.length,l=n,c=Array(l),h=fe.call(arguments),u=i.Deferred(),_=function(w){return function(k){c[w]=this,h[w]=arguments.length>1?fe.call(arguments):k,--n||u.resolveWith(c,h)}};if(n<=1&&(X(t,u.done(_(l)).resolve,u.reject,!n),u.state()==="pending"||te(h[l]&&h[l].then)))return u.then();for(;l--;)X(h[l],_(l),u.reject);return u.promise()}});var lt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,n){f.console&&f.console.warn&&t&&lt.test(t.name)&&f.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},i.readyException=function(t){f.setTimeout(function(){throw t})};var Re=i.Deferred();i.fn.ready=function(t){return Re.then(t).catch(function(n){i.readyException(n)}),this},i.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--i.readyWait:i.isReady)||(i.isReady=!0,!(t!==!0&&--i.readyWait>0)&&Re.resolveWith(Z,[i]))}}),i.ready.then=Re.then;function be(){Z.removeEventListener("DOMContentLoaded",be),f.removeEventListener("load",be),i.ready()}Z.readyState==="complete"||Z.readyState!=="loading"&&!Z.documentElement.doScroll?f.setTimeout(i.ready):(Z.addEventListener("DOMContentLoaded",be),f.addEventListener("load",be));var I=function(t,n,l,c,h,u,_){var w=0,k=t.length,T=l==null;if(r(l)==="object"){h=!0;for(w in l)I(t,n,w,l[w],!0,u,_)}else if(c!==void 0&&(h=!0,te(c)||(_=!0),T&&(_?(n.call(t,c),n=null):(T=n,n=function(P,H,E){return T.call(i(P),E)})),n))for(;w<k;w++)n(t[w],l,_?c:c.call(t[w],w,n(t[w],l)));return h?t:T?n.call(t):k?n(t[0],l):u},Vi=/^-ms-/,Qi=/-([a-z])/g;function Gi(t,n){return n.toUpperCase()}function Ue(t){return t.replace(Vi,"ms-").replace(Qi,Gi)}var Ct=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function Tt(){this.expando=i.expando+Tt.uid++}Tt.uid=1,Tt.prototype={cache:function(t){var n=t[this.expando];return n||(n={},Ct(t)&&(t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,configurable:!0}))),n},set:function(t,n,l){var c,h=this.cache(t);if(typeof n=="string")h[Ue(n)]=l;else for(c in n)h[Ue(c)]=n[c];return h},get:function(t,n){return n===void 0?this.cache(t):t[this.expando]&&t[this.expando][Ue(n)]},access:function(t,n,l){return n===void 0||n&&typeof n=="string"&&l===void 0?this.get(t,n):(this.set(t,n,l),l!==void 0?l:n)},remove:function(t,n){var l,c=t[this.expando];if(c!==void 0){if(n!==void 0)for(Array.isArray(n)?n=n.map(Ue):(n=Ue(n),n=n in c?[n]:n.match(b)||[]),l=n.length;l--;)delete c[n[l]];(n===void 0||i.isEmptyObject(c))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var n=t[this.expando];return n!==void 0&&!i.isEmptyObject(n)}};var z=new Tt,Ee=new Tt,Zi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$i=/[A-Z]/g;function er(t){return t==="true"?!0:t==="false"?!1:t==="null"?null:t===+t+""?+t:Zi.test(t)?JSON.parse(t):t}function hi(t,n,l){var c;if(l===void 0&&t.nodeType===1)if(c="data-"+n.replace($i,"-$&").toLowerCase(),l=t.getAttribute(c),typeof l=="string"){try{l=er(l)}catch{}Ee.set(t,n,l)}else l=void 0;return l}i.extend({hasData:function(t){return Ee.hasData(t)||z.hasData(t)},data:function(t,n,l){return Ee.access(t,n,l)},removeData:function(t,n){Ee.remove(t,n)},_data:function(t,n,l){return z.access(t,n,l)},_removeData:function(t,n){z.remove(t,n)}}),i.fn.extend({data:function(t,n){var l,c,h,u=this[0],_=u&&u.attributes;if(t===void 0){if(this.length&&(h=Ee.get(u),u.nodeType===1&&!z.get(u,"hasDataAttrs"))){for(l=_.length;l--;)_[l]&&(c=_[l].name,c.indexOf("data-")===0&&(c=Ue(c.slice(5)),hi(u,c,h[c])));z.set(u,"hasDataAttrs",!0)}return h}return typeof t=="object"?this.each(function(){Ee.set(this,t)}):I(this,function(w){var k;if(u&&w===void 0)return k=Ee.get(u,t),k!==void 0||(k=hi(u,t),k!==void 0)?k:void 0;this.each(function(){Ee.set(this,t,w)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ee.remove(this,t)})}}),i.extend({queue:function(t,n,l){var c;if(t)return n=(n||"fx")+"queue",c=z.get(t,n),l&&(!c||Array.isArray(l)?c=z.access(t,n,i.makeArray(l)):c.push(l)),c||[]},dequeue:function(t,n){n=n||"fx";var l=i.queue(t,n),c=l.length,h=l.shift(),u=i._queueHooks(t,n),_=function(){i.dequeue(t,n)};h==="inprogress"&&(h=l.shift(),c--),h&&(n==="fx"&&l.unshift("inprogress"),delete u.stop,h.call(t,_,u)),!c&&u&&u.empty.fire()},_queueHooks:function(t,n){var l=n+"queueHooks";return z.get(t,l)||z.access(t,l,{empty:i.Callbacks("once memory").add(function(){z.remove(t,[n+"queue",l])})})}}),i.fn.extend({queue:function(t,n){var l=2;return typeof t!="string"&&(n=t,t="fx",l--),arguments.length<l?i.queue(this[0],t):n===void 0?this:this.each(function(){var c=i.queue(this,t,n);i._queueHooks(this,t),t==="fx"&&c[0]!=="inprogress"&&i.dequeue(this,t)})},dequeue:function(t){return this.each(function(){i.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var l,c=1,h=i.Deferred(),u=this,_=this.length,w=function(){--c||h.resolveWith(u,[u])};for(typeof t!="string"&&(n=t,t=void 0),t=t||"fx";_--;)l=z.get(u[_],t+"queueHooks"),l&&l.empty&&(c++,l.empty.add(w));return w(),h.promise(n)}});var ui=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=new RegExp("^(?:([+-])=|)("+ui+")([a-z%]*)$","i"),$e=["Top","Right","Bottom","Left"],ct=Z.documentElement,_t=function(t){return i.contains(t.ownerDocument,t)},tr={composed:!0};ct.getRootNode&&(_t=function(t){return i.contains(t.ownerDocument,t)||t.getRootNode(tr)===t.ownerDocument});var qt=function(t,n){return t=n||t,t.style.display==="none"||t.style.display===""&&_t(t)&&i.css(t,"display")==="none"};function gi(t,n,l,c){var h,u,_=20,w=c?function(){return c.cur()}:function(){return i.css(t,n,"")},k=w(),T=l&&l[3]||(i.cssNumber[n]?"":"px"),P=t.nodeType&&(i.cssNumber[n]||T!=="px"&&+k)&&St.exec(i.css(t,n));if(P&&P[3]!==T){for(k=k/2,T=T||P[3],P=+k||1;_--;)i.style(t,n,P+T),(1-u)*(1-(u=w()/k||.5))<=0&&(_=0),P=P/u;P=P*2,i.style(t,n,P+T),l=l||[]}return l&&(P=+P||+k||0,h=l[1]?P+(l[1]+1)*l[2]:+l[2],c&&(c.unit=T,c.start=P,c.end=h)),h}var _i={};function ir(t){var n,l=t.ownerDocument,c=t.nodeName,h=_i[c];return h||(n=l.body.appendChild(l.createElement(c)),h=i.css(n,"display"),n.parentNode.removeChild(n),h==="none"&&(h="block"),_i[c]=h,h)}function pt(t,n){for(var l,c,h=[],u=0,_=t.length;u<_;u++)c=t[u],c.style&&(l=c.style.display,n?(l==="none"&&(h[u]=z.get(c,"display")||null,h[u]||(c.style.display="")),c.style.display===""&&qt(c)&&(h[u]=ir(c))):l!=="none"&&(h[u]="none",z.set(c,"display",l)));for(u=0;u<_;u++)h[u]!=null&&(t[u].style.display=h[u]);return t}i.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return typeof t=="boolean"?t?this.show():this.hide():this.each(function(){qt(this)?i(this).show():i(this).hide()})}});var Nt=/^(?:checkbox|radio)$/i,pi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=Z.createDocumentFragment(),n=t.appendChild(Z.createElement("div")),l=Z.createElement("input");l.setAttribute("type","radio"),l.setAttribute("checked","checked"),l.setAttribute("name","t"),n.appendChild(l),Y.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",Y.option=!!n.lastChild})();var Me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Y.option||(Me.optgroup=Me.option=[1,"<select multiple='multiple'>","</select>"]);function Oe(t,n){var l;return typeof t.getElementsByTagName<"u"?l=t.getElementsByTagName(n||"*"):typeof t.querySelectorAll<"u"?l=t.querySelectorAll(n||"*"):l=[],n===void 0||n&&g(t,n)?i.merge([t],l):l}function zt(t,n){for(var l=0,c=t.length;l<c;l++)z.set(t[l],"globalEval",!n||z.get(n[l],"globalEval"))}var rr=/<|&#?\w+;/;function vi(t,n,l,c,h){for(var u,_,w,k,T,P,H=n.createDocumentFragment(),E=[],M=0,ee=t.length;M<ee;M++)if(u=t[M],u||u===0)if(r(u)==="object")i.merge(E,u.nodeType?[u]:u);else if(!rr.test(u))E.push(n.createTextNode(u));else{for(_=_||H.appendChild(n.createElement("div")),w=(pi.exec(u)||["",""])[1].toLowerCase(),k=Me[w]||Me._default,_.innerHTML=k[1]+i.htmlPrefilter(u)+k[2],P=k[0];P--;)_=_.lastChild;i.merge(E,_.childNodes),_=H.firstChild,_.textContent=""}for(H.textContent="",M=0;u=E[M++];){if(c&&i.inArray(u,c)>-1){h&&h.push(u);continue}if(T=_t(u),_=Oe(H.appendChild(u),"script"),T&&zt(_),l)for(P=0;u=_[P++];)mi.test(u.type||"")&&l.push(u)}return H}var yi=/^([^.]*)(?:\.(.+)|)/;function mt(){return!0}function vt(){return!1}function Ut(t,n,l,c,h,u){var _,w;if(typeof n=="object"){typeof l!="string"&&(c=c||l,l=void 0);for(w in n)Ut(t,w,l,c,n[w],u);return t}if(c==null&&h==null?(h=l,c=l=void 0):h==null&&(typeof l=="string"?(h=c,c=void 0):(h=c,c=l,l=void 0)),h===!1)h=vt;else if(!h)return t;return u===1&&(_=h,h=function(k){return i().off(k),_.apply(this,arguments)},h.guid=_.guid||(_.guid=i.guid++)),t.each(function(){i.event.add(this,n,h,c,l)})}i.event={global:{},add:function(t,n,l,c,h){var u,_,w,k,T,P,H,E,M,ee,le,ne=z.get(t);if(Ct(t))for(l.handler&&(u=l,l=u.handler,h=u.selector),h&&i.find.matchesSelector(ct,h),l.guid||(l.guid=i.guid++),(k=ne.events)||(k=ne.events=Object.create(null)),(_=ne.handle)||(_=ne.handle=function(we){return typeof i<"u"&&i.event.triggered!==we.type?i.event.dispatch.apply(t,arguments):void 0}),n=(n||"").match(b)||[""],T=n.length;T--;)w=yi.exec(n[T])||[],M=le=w[1],ee=(w[2]||"").split(".").sort(),M&&(H=i.event.special[M]||{},M=(h?H.delegateType:H.bindType)||M,H=i.event.special[M]||{},P=i.extend({type:M,origType:le,data:c,handler:l,guid:l.guid,selector:h,needsContext:h&&i.expr.match.needsContext.test(h),namespace:ee.join(".")},u),(E=k[M])||(E=k[M]=[],E.delegateCount=0,(!H.setup||H.setup.call(t,c,ee,_)===!1)&&t.addEventListener&&t.addEventListener(M,_)),H.add&&(H.add.call(t,P),P.handler.guid||(P.handler.guid=l.guid)),h?E.splice(E.delegateCount++,0,P):E.push(P),i.event.global[M]=!0)},remove:function(t,n,l,c,h){var u,_,w,k,T,P,H,E,M,ee,le,ne=z.hasData(t)&&z.get(t);if(!(!ne||!(k=ne.events))){for(n=(n||"").match(b)||[""],T=n.length;T--;){if(w=yi.exec(n[T])||[],M=le=w[1],ee=(w[2]||"").split(".").sort(),!M){for(M in k)i.event.remove(t,M+n[T],l,c,!0);continue}for(H=i.event.special[M]||{},M=(c?H.delegateType:H.bindType)||M,E=k[M]||[],w=w[2]&&new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"),_=u=E.length;u--;)P=E[u],(h||le===P.origType)&&(!l||l.guid===P.guid)&&(!w||w.test(P.namespace))&&(!c||c===P.selector||c==="**"&&P.selector)&&(E.splice(u,1),P.selector&&E.delegateCount--,H.remove&&H.remove.call(t,P));_&&!E.length&&((!H.teardown||H.teardown.call(t,ee,ne.handle)===!1)&&i.removeEvent(t,M,ne.handle),delete k[M])}i.isEmptyObject(k)&&z.remove(t,"handle events")}},dispatch:function(t){var n,l,c,h,u,_,w=new Array(arguments.length),k=i.event.fix(t),T=(z.get(this,"events")||Object.create(null))[k.type]||[],P=i.event.special[k.type]||{};for(w[0]=k,n=1;n<arguments.length;n++)w[n]=arguments[n];if(k.delegateTarget=this,!(P.preDispatch&&P.preDispatch.call(this,k)===!1)){for(_=i.event.handlers.call(this,k,T),n=0;(h=_[n++])&&!k.isPropagationStopped();)for(k.currentTarget=h.elem,l=0;(u=h.handlers[l++])&&!k.isImmediatePropagationStopped();)(!k.rnamespace||u.namespace===!1||k.rnamespace.test(u.namespace))&&(k.handleObj=u,k.data=u.data,c=((i.event.special[u.origType]||{}).handle||u.handler).apply(h.elem,w),c!==void 0&&(k.result=c)===!1&&(k.preventDefault(),k.stopPropagation()));return P.postDispatch&&P.postDispatch.call(this,k),k.result}},handlers:function(t,n){var l,c,h,u,_,w=[],k=n.delegateCount,T=t.target;if(k&&T.nodeType&&!(t.type==="click"&&t.button>=1)){for(;T!==this;T=T.parentNode||this)if(T.nodeType===1&&!(t.type==="click"&&T.disabled===!0)){for(u=[],_={},l=0;l<k;l++)c=n[l],h=c.selector+" ",_[h]===void 0&&(_[h]=c.needsContext?i(h,this).index(T)>-1:i.find(h,this,null,[T]).length),_[h]&&u.push(c);u.length&&w.push({elem:T,handlers:u})}}return T=this,k<n.length&&w.push({elem:T,handlers:n.slice(k)}),w},addProp:function(t,n){Object.defineProperty(i.Event.prototype,t,{enumerable:!0,configurable:!0,get:te(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(l){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:l})}})},fix:function(t){return t[i.expando]?t:new i.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var n=this||t;return Nt.test(n.type)&&n.click&&g(n,"input")&&Ht(n,"click",!0),!1},trigger:function(t){var n=this||t;return Nt.test(n.type)&&n.click&&g(n,"input")&&Ht(n,"click"),!0},_default:function(t){var n=t.target;return Nt.test(n.type)&&n.click&&g(n,"input")&&z.get(n,"click")||g(n,"a")}},beforeunload:{postDispatch:function(t){t.result!==void 0&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}};function Ht(t,n,l){if(!l){z.get(t,n)===void 0&&i.event.add(t,n,mt);return}z.set(t,n,!1),i.event.add(t,n,{namespace:!1,handler:function(c){var h,u=z.get(this,n);if(c.isTrigger&1&&this[n]){if(u)(i.event.special[n]||{}).delegateType&&c.stopPropagation();else if(u=fe.call(arguments),z.set(this,n,u),this[n](),h=z.get(this,n),z.set(this,n,!1),u!==h)return c.stopImmediatePropagation(),c.preventDefault(),h}else u&&(z.set(this,n,i.event.trigger(u[0],u.slice(1),this)),c.stopPropagation(),c.isImmediatePropagationStopped=mt)}})}i.removeEvent=function(t,n,l){t.removeEventListener&&t.removeEventListener(n,l)},i.Event=function(t,n){if(!(this instanceof i.Event))return new i.Event(t,n);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===void 0&&t.returnValue===!1?mt:vt,this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&i.extend(this,n),this.timeStamp=t&&t.timeStamp||Date.now(),this[i.expando]=!0},i.Event.prototype={constructor:i.Event,isDefaultPrevented:vt,isPropagationStopped:vt,isImmediatePropagationStopped:vt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=mt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=mt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=mt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},i.event.addProp),i.each({focus:"focusin",blur:"focusout"},function(t,n){function l(c){if(Z.documentMode){var h=z.get(this,"handle"),u=i.event.fix(c);u.type=c.type==="focusin"?"focus":"blur",u.isSimulated=!0,h(c),u.target===u.currentTarget&&h(u)}else i.event.simulate(n,c.target,i.event.fix(c))}i.event.special[t]={setup:function(){var c;if(Ht(this,t,!0),Z.documentMode)c=z.get(this,n),c||this.addEventListener(n,l),z.set(this,n,(c||0)+1);else return!1},trigger:function(){return Ht(this,t),!0},teardown:function(){var c;if(Z.documentMode)c=z.get(this,n)-1,c?z.set(this,n,c):(this.removeEventListener(n,l),z.remove(this,n));else return!1},_default:function(c){return z.get(c.target,t)},delegateType:n},i.event.special[n]={setup:function(){var c=this.ownerDocument||this.document||this,h=Z.documentMode?this:c,u=z.get(h,n);u||(Z.documentMode?this.addEventListener(n,l):c.addEventListener(t,l,!0)),z.set(h,n,(u||0)+1)},teardown:function(){var c=this.ownerDocument||this.document||this,h=Z.documentMode?this:c,u=z.get(h,n)-1;u?z.set(h,n,u):(Z.documentMode?this.removeEventListener(n,l):c.removeEventListener(t,l,!0),z.remove(h,n))}}}),i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){i.event.special[t]={delegateType:n,bindType:n,handle:function(l){var c,h=this,u=l.relatedTarget,_=l.handleObj;return(!u||u!==h&&!i.contains(h,u))&&(l.type=_.origType,c=_.handler.apply(this,arguments),l.type=n),c}}}),i.fn.extend({on:function(t,n,l,c){return Ut(this,t,n,l,c)},one:function(t,n,l,c){return Ut(this,t,n,l,c,1)},off:function(t,n,l){var c,h;if(t&&t.preventDefault&&t.handleObj)return c=t.handleObj,i(t.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if(typeof t=="object"){for(h in t)this.off(h,n,t[h]);return this}return(n===!1||typeof n=="function")&&(l=n,n=void 0),l===!1&&(l=vt),this.each(function(){i.event.remove(this,t,l,n)})}});var nr=/<script|<style|<link/i,sr=/checked\s*(?:[^=]|=\s*.checked.)/i,ar=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function xi(t,n){return g(t,"table")&&g(n.nodeType!==11?n:n.firstChild,"tr")&&i(t).children("tbody")[0]||t}function or(t){return t.type=(t.getAttribute("type")!==null)+"/"+t.type,t}function lr(t){return(t.type||"").slice(0,5)==="true/"?t.type=t.type.slice(5):t.removeAttribute("type"),t}function ki(t,n){var l,c,h,u,_,w,k;if(n.nodeType===1){if(z.hasData(t)&&(u=z.get(t),k=u.events,k)){z.remove(n,"handle events");for(h in k)for(l=0,c=k[h].length;l<c;l++)i.event.add(n,h,k[h][l])}Ee.hasData(t)&&(_=Ee.access(t),w=i.extend({},_),Ee.set(n,w))}}function cr(t,n){var l=n.nodeName.toLowerCase();l==="input"&&Nt.test(t.type)?n.checked=t.checked:(l==="input"||l==="textarea")&&(n.defaultValue=t.defaultValue)}function yt(t,n,l,c){n=Ge(n);var h,u,_,w,k,T,P=0,H=t.length,E=H-1,M=n[0],ee=te(M);if(ee||H>1&&typeof M=="string"&&!Y.checkClone&&sr.test(M))return t.each(function(le){var ne=t.eq(le);ee&&(n[0]=M.call(this,le,ne.html())),yt(ne,n,l,c)});if(H&&(h=vi(n,t[0].ownerDocument,!1,t,c),u=h.firstChild,h.childNodes.length===1&&(h=u),u||c)){for(_=i.map(Oe(h,"script"),or),w=_.length;P<H;P++)k=h,P!==E&&(k=i.clone(k,!0,!0),w&&i.merge(_,Oe(k,"script"))),l.call(t[P],k,P);if(w)for(T=_[_.length-1].ownerDocument,i.map(_,lr),P=0;P<w;P++)k=_[P],mi.test(k.type||"")&&!z.access(k,"globalEval")&&i.contains(T,k)&&(k.src&&(k.type||"").toLowerCase()!=="module"?i._evalUrl&&!k.noModule&&i._evalUrl(k.src,{nonce:k.nonce||k.getAttribute("nonce")},T):o(k.textContent.replace(ar,""),k,T))}return t}function wi(t,n,l){for(var c,h=n?i.filter(n,t):t,u=0;(c=h[u])!=null;u++)!l&&c.nodeType===1&&i.cleanData(Oe(c)),c.parentNode&&(l&&_t(c)&&zt(Oe(c,"script")),c.parentNode.removeChild(c));return t}i.extend({htmlPrefilter:function(t){return t},clone:function(t,n,l){var c,h,u,_,w=t.cloneNode(!0),k=_t(t);if(!Y.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!i.isXMLDoc(t))for(_=Oe(w),u=Oe(t),c=0,h=u.length;c<h;c++)cr(u[c],_[c]);if(n)if(l)for(u=u||Oe(t),_=_||Oe(w),c=0,h=u.length;c<h;c++)ki(u[c],_[c]);else ki(t,w);return _=Oe(w,"script"),_.length>0&&zt(_,!k&&Oe(t,"script")),w},cleanData:function(t){for(var n,l,c,h=i.event.special,u=0;(l=t[u])!==void 0;u++)if(Ct(l)){if(n=l[z.expando]){if(n.events)for(c in n.events)h[c]?i.event.remove(l,c):i.removeEvent(l,c,n.handle);l[z.expando]=void 0}l[Ee.expando]&&(l[Ee.expando]=void 0)}}}),i.fn.extend({detach:function(t){return wi(this,t,!0)},remove:function(t){return wi(this,t)},text:function(t){return I(this,function(n){return n===void 0?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,t,arguments.length)},append:function(){return yt(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=xi(this,t);n.appendChild(t)}})},prepend:function(){return yt(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=xi(this,t);n.insertBefore(t,n.firstChild)}})},before:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,n=0;(t=this[n])!=null;n++)t.nodeType===1&&(i.cleanData(Oe(t,!1)),t.textContent="");return this},clone:function(t,n){return t=t??!1,n=n??t,this.map(function(){return i.clone(this,t,n)})},html:function(t){return I(this,function(n){var l=this[0]||{},c=0,h=this.length;if(n===void 0&&l.nodeType===1)return l.innerHTML;if(typeof n=="string"&&!nr.test(n)&&!Me[(pi.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;c<h;c++)l=this[c]||{},l.nodeType===1&&(i.cleanData(Oe(l,!1)),l.innerHTML=n);l=0}catch{}}l&&this.empty().append(n)},null,t,arguments.length)},replaceWith:function(){var t=[];return yt(this,arguments,function(n){var l=this.parentNode;i.inArray(this,t)<0&&(i.cleanData(Oe(this)),l&&l.replaceChild(n,this))},t)}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){i.fn[t]=function(l){for(var c,h=[],u=i(l),_=u.length-1,w=0;w<=_;w++)c=w===_?this:this.clone(!0),i(u[w])[n](c),at.apply(h,c.get());return this.pushStack(h)}});var Xt=new RegExp("^("+ui+")(?!px)[a-z%]+$","i"),Yt=/^--/,bt=function(t){var n=t.ownerDocument.defaultView;return(!n||!n.opener)&&(n=f),n.getComputedStyle(t)},Ci=function(t,n,l){var c,h,u={};for(h in n)u[h]=t.style[h],t.style[h]=n[h];c=l.call(t);for(h in n)t.style[h]=u[h];return c},dr=new RegExp($e.join("|"),"i");(function(){function t(){if(T){k.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",T.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ct.appendChild(k).appendChild(T);var P=f.getComputedStyle(T);l=P.top!=="1%",w=n(P.marginLeft)===12,T.style.right="60%",u=n(P.right)===36,c=n(P.width)===36,T.style.position="absolute",h=n(T.offsetWidth/3)===12,ct.removeChild(k),T=null}}function n(P){return Math.round(parseFloat(P))}var l,c,h,u,_,w,k=Z.createElement("div"),T=Z.createElement("div");T.style&&(T.style.backgroundClip="content-box",T.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle=T.style.backgroundClip==="content-box",i.extend(Y,{boxSizingReliable:function(){return t(),c},pixelBoxStyles:function(){return t(),u},pixelPosition:function(){return t(),l},reliableMarginLeft:function(){return t(),w},scrollboxSize:function(){return t(),h},reliableTrDimensions:function(){var P,H,E,M;return _==null&&(P=Z.createElement("table"),H=Z.createElement("tr"),E=Z.createElement("div"),P.style.cssText="position:absolute;left:-11111px;border-collapse:separate",H.style.cssText="box-sizing:content-box;border:1px solid",H.style.height="1px",E.style.height="9px",E.style.display="block",ct.appendChild(P).appendChild(H).appendChild(E),M=f.getComputedStyle(H),_=parseInt(M.height,10)+parseInt(M.borderTopWidth,10)+parseInt(M.borderBottomWidth,10)===H.offsetHeight,ct.removeChild(P)),_}}))})();function At(t,n,l){var c,h,u,_,w=Yt.test(n),k=t.style;return l=l||bt(t),l&&(_=l.getPropertyValue(n)||l[n],w&&_&&(_=_.replace(S,"$1")||void 0),_===""&&!_t(t)&&(_=i.style(t,n)),!Y.pixelBoxStyles()&&Xt.test(_)&&dr.test(n)&&(c=k.width,h=k.minWidth,u=k.maxWidth,k.minWidth=k.maxWidth=k.width=_,_=l.width,k.width=c,k.minWidth=h,k.maxWidth=u)),_!==void 0?_+"":_}function Ti(t,n){return{get:function(){if(t()){delete this.get;return}return(this.get=n).apply(this,arguments)}}}var Si=["Webkit","Moz","ms"],Ni=Z.createElement("div").style,Ai={};function fr(t){for(var n=t[0].toUpperCase()+t.slice(1),l=Si.length;l--;)if(t=Si[l]+n,t in Ni)return t}function Jt(t){var n=i.cssProps[t]||Ai[t];return n||(t in Ni?t:Ai[t]=fr(t)||t)}var hr=/^(none|table(?!-c[ea]).+)/,ur={position:"absolute",visibility:"hidden",display:"block"},Ei={letterSpacing:"0",fontWeight:"400"};function Oi(t,n,l){var c=St.exec(n);return c?Math.max(0,c[2]-(l||0))+(c[3]||"px"):n}function Vt(t,n,l,c,h,u){var _=n==="width"?1:0,w=0,k=0,T=0;if(l===(c?"border":"content"))return 0;for(;_<4;_+=2)l==="margin"&&(T+=i.css(t,l+$e[_],!0,h)),c?(l==="content"&&(k-=i.css(t,"padding"+$e[_],!0,h)),l!=="margin"&&(k-=i.css(t,"border"+$e[_]+"Width",!0,h))):(k+=i.css(t,"padding"+$e[_],!0,h),l!=="padding"?k+=i.css(t,"border"+$e[_]+"Width",!0,h):w+=i.css(t,"border"+$e[_]+"Width",!0,h));return!c&&u>=0&&(k+=Math.max(0,Math.ceil(t["offset"+n[0].toUpperCase()+n.slice(1)]-u-k-w-.5))||0),k+T}function Di(t,n,l){var c=bt(t),h=!Y.boxSizingReliable()||l,u=h&&i.css(t,"boxSizing",!1,c)==="border-box",_=u,w=At(t,n,c),k="offset"+n[0].toUpperCase()+n.slice(1);if(Xt.test(w)){if(!l)return w;w="auto"}return(!Y.boxSizingReliable()&&u||!Y.reliableTrDimensions()&&g(t,"tr")||w==="auto"||!parseFloat(w)&&i.css(t,"display",!1,c)==="inline")&&t.getClientRects().length&&(u=i.css(t,"boxSizing",!1,c)==="border-box",_=k in t,_&&(w=t[k])),w=parseFloat(w)||0,w+Vt(t,n,l||(u?"border":"content"),_,c,w)+"px"}i.extend({cssHooks:{opacity:{get:function(t,n){if(n){var l=At(t,"opacity");return l===""?"1":l}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,n,l,c){if(!(!t||t.nodeType===3||t.nodeType===8||!t.style)){var h,u,_,w=Ue(n),k=Yt.test(n),T=t.style;if(k||(n=Jt(w)),_=i.cssHooks[n]||i.cssHooks[w],l!==void 0){if(u=typeof l,u==="string"&&(h=St.exec(l))&&h[1]&&(l=gi(t,n,h),u="number"),l==null||l!==l)return;u==="number"&&!k&&(l+=h&&h[3]||(i.cssNumber[w]?"":"px")),!Y.clearCloneStyle&&l===""&&n.indexOf("background")===0&&(T[n]="inherit"),(!_||!("set"in _)||(l=_.set(t,l,c))!==void 0)&&(k?T.setProperty(n,l):T[n]=l)}else return _&&"get"in _&&(h=_.get(t,!1,c))!==void 0?h:T[n]}},css:function(t,n,l,c){var h,u,_,w=Ue(n),k=Yt.test(n);return k||(n=Jt(w)),_=i.cssHooks[n]||i.cssHooks[w],_&&"get"in _&&(h=_.get(t,!0,l)),h===void 0&&(h=At(t,n,c)),h==="normal"&&n in Ei&&(h=Ei[n]),l===""||l?(u=parseFloat(h),l===!0||isFinite(u)?u||0:h):h}}),i.each(["height","width"],function(t,n){i.cssHooks[n]={get:function(l,c,h){if(c)return hr.test(i.css(l,"display"))&&(!l.getClientRects().length||!l.getBoundingClientRect().width)?Ci(l,ur,function(){return Di(l,n,h)}):Di(l,n,h)},set:function(l,c,h){var u,_=bt(l),w=!Y.scrollboxSize()&&_.position==="absolute",k=w||h,T=k&&i.css(l,"boxSizing",!1,_)==="border-box",P=h?Vt(l,n,h,T,_):0;return T&&w&&(P-=Math.ceil(l["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(_[n])-Vt(l,n,"border",!1,_)-.5)),P&&(u=St.exec(c))&&(u[3]||"px")!=="px"&&(l.style[n]=c,c=i.css(l,n)),Oi(l,c,P)}}}),i.cssHooks.marginLeft=Ti(Y.reliableMarginLeft,function(t,n){if(n)return(parseFloat(At(t,"marginLeft"))||t.getBoundingClientRect().left-Ci(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),i.each({margin:"",padding:"",border:"Width"},function(t,n){i.cssHooks[t+n]={expand:function(l){for(var c=0,h={},u=typeof l=="string"?l.split(" "):[l];c<4;c++)h[t+$e[c]+n]=u[c]||u[c-2]||u[0];return h}},t!=="margin"&&(i.cssHooks[t+n].set=Oi)}),i.fn.extend({css:function(t,n){return I(this,function(l,c,h){var u,_,w={},k=0;if(Array.isArray(c)){for(u=bt(l),_=c.length;k<_;k++)w[c[k]]=i.css(l,c[k],!1,u);return w}return h!==void 0?i.style(l,c,h):i.css(l,c)},t,n,arguments.length>1)}});function De(t,n,l,c,h){return new De.prototype.init(t,n,l,c,h)}i.Tween=De,De.prototype={constructor:De,init:function(t,n,l,c,h,u){this.elem=t,this.prop=l,this.easing=h||i.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=c,this.unit=u||(i.cssNumber[l]?"":"px")},cur:function(){var t=De.propHooks[this.prop];return t&&t.get?t.get(this):De.propHooks._default.get(this)},run:function(t){var n,l=De.propHooks[this.prop];return this.options.duration?this.pos=n=i.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=n=t,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),l&&l.set?l.set(this):De.propHooks._default.set(this),this}},De.prototype.init.prototype=De.prototype,De.propHooks={_default:{get:function(t){var n;return t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null?t.elem[t.prop]:(n=i.css(t.elem,t.prop,""),!n||n==="auto"?0:n)},set:function(t){i.fx.step[t.prop]?i.fx.step[t.prop](t):t.elem.nodeType===1&&(i.cssHooks[t.prop]||t.elem.style[Jt(t.prop)]!=null)?i.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},De.propHooks.scrollTop=De.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},i.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},i.fx=De.prototype.init,i.fx.step={};var xt,Mt,gr=/^(?:toggle|show|hide)$/,_r=/queueHooks$/;function Qt(){Mt&&(Z.hidden===!1&&f.requestAnimationFrame?f.requestAnimationFrame(Qt):f.setTimeout(Qt,i.fx.interval),i.fx.tick())}function ji(){return f.setTimeout(function(){xt=void 0}),xt=Date.now()}function Ft(t,n){var l,c=0,h={height:t};for(n=n?1:0;c<4;c+=2-n)l=$e[c],h["margin"+l]=h["padding"+l]=t;return n&&(h.opacity=h.width=t),h}function Li(t,n,l){for(var c,h=(We.tweeners[n]||[]).concat(We.tweeners["*"]),u=0,_=h.length;u<_;u++)if(c=h[u].call(l,n,t))return c}function pr(t,n,l){var c,h,u,_,w,k,T,P,H="width"in n||"height"in n,E=this,M={},ee=t.style,le=t.nodeType&&qt(t),ne=z.get(t,"fxshow");l.queue||(_=i._queueHooks(t,"fx"),_.unqueued==null&&(_.unqueued=0,w=_.empty.fire,_.empty.fire=function(){_.unqueued||w()}),_.unqueued++,E.always(function(){E.always(function(){_.unqueued--,i.queue(t,"fx").length||_.empty.fire()})}));for(c in n)if(h=n[c],gr.test(h)){if(delete n[c],u=u||h==="toggle",h===(le?"hide":"show"))if(h==="show"&&ne&&ne[c]!==void 0)le=!0;else continue;M[c]=ne&&ne[c]||i.style(t,c)}if(k=!i.isEmptyObject(n),!(!k&&i.isEmptyObject(M))){H&&t.nodeType===1&&(l.overflow=[ee.overflow,ee.overflowX,ee.overflowY],T=ne&&ne.display,T==null&&(T=z.get(t,"display")),P=i.css(t,"display"),P==="none"&&(T?P=T:(pt([t],!0),T=t.style.display||T,P=i.css(t,"display"),pt([t]))),(P==="inline"||P==="inline-block"&&T!=null)&&i.css(t,"float")==="none"&&(k||(E.done(function(){ee.display=T}),T==null&&(P=ee.display,T=P==="none"?"":P)),ee.display="inline-block")),l.overflow&&(ee.overflow="hidden",E.always(function(){ee.overflow=l.overflow[0],ee.overflowX=l.overflow[1],ee.overflowY=l.overflow[2]})),k=!1;for(c in M)k||(ne?"hidden"in ne&&(le=ne.hidden):ne=z.access(t,"fxshow",{display:T}),u&&(ne.hidden=!le),le&&pt([t],!0),E.done(function(){le||pt([t]),z.remove(t,"fxshow");for(c in M)i.style(t,c,M[c])})),k=Li(le?ne[c]:0,c,E),c in ne||(ne[c]=k.start,le&&(k.end=k.start,k.start=0))}}function mr(t,n){var l,c,h,u,_;for(l in t)if(c=Ue(l),h=n[c],u=t[l],Array.isArray(u)&&(h=u[1],u=t[l]=u[0]),l!==c&&(t[c]=u,delete t[l]),_=i.cssHooks[c],_&&"expand"in _){u=_.expand(u),delete t[c];for(l in u)l in t||(t[l]=u[l],n[l]=h)}else n[c]=h}function We(t,n,l){var c,h,u=0,_=We.prefilters.length,w=i.Deferred().always(function(){delete k.elem}),k=function(){if(h)return!1;for(var H=xt||ji(),E=Math.max(0,T.startTime+T.duration-H),M=E/T.duration||0,ee=1-M,le=0,ne=T.tweens.length;le<ne;le++)T.tweens[le].run(ee);return w.notifyWith(t,[T,ee,E]),ee<1&&ne?E:(ne||w.notifyWith(t,[T,1,0]),w.resolveWith(t,[T]),!1)},T=w.promise({elem:t,props:i.extend({},n),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},l),originalProperties:n,originalOptions:l,startTime:xt||ji(),duration:l.duration,tweens:[],createTween:function(H,E){var M=i.Tween(t,T.opts,H,E,T.opts.specialEasing[H]||T.opts.easing);return T.tweens.push(M),M},stop:function(H){var E=0,M=H?T.tweens.length:0;if(h)return this;for(h=!0;E<M;E++)T.tweens[E].run(1);return H?(w.notifyWith(t,[T,1,0]),w.resolveWith(t,[T,H])):w.rejectWith(t,[T,H]),this}}),P=T.props;for(mr(P,T.opts.specialEasing);u<_;u++)if(c=We.prefilters[u].call(T,t,P,T.opts),c)return te(c.stop)&&(i._queueHooks(T.elem,T.opts.queue).stop=c.stop.bind(c)),c;return i.map(P,Li,T),te(T.opts.start)&&T.opts.start.call(t,T),T.progress(T.opts.progress).done(T.opts.done,T.opts.complete).fail(T.opts.fail).always(T.opts.always),i.fx.timer(i.extend(k,{elem:t,anim:T,queue:T.opts.queue})),T}i.Animation=i.extend(We,{tweeners:{"*":[function(t,n){var l=this.createTween(t,n);return gi(l.elem,t,St.exec(n),l),l}]},tweener:function(t,n){te(t)?(n=t,t=["*"]):t=t.match(b);for(var l,c=0,h=t.length;c<h;c++)l=t[c],We.tweeners[l]=We.tweeners[l]||[],We.tweeners[l].unshift(n)},prefilters:[pr],prefilter:function(t,n){n?We.prefilters.unshift(t):We.prefilters.push(t)}}),i.speed=function(t,n,l){var c=t&&typeof t=="object"?i.extend({},t):{complete:l||!l&&n||te(t)&&t,duration:t,easing:l&&n||n&&!te(n)&&n};return i.fx.off?c.duration=0:typeof c.duration!="number"&&(c.duration in i.fx.speeds?c.duration=i.fx.speeds[c.duration]:c.duration=i.fx.speeds._default),(c.queue==null||c.queue===!0)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){te(c.old)&&c.old.call(this),c.queue&&i.dequeue(this,c.queue)},c},i.fn.extend({fadeTo:function(t,n,l,c){return this.filter(qt).css("opacity",0).show().end().animate({opacity:n},t,l,c)},animate:function(t,n,l,c){var h=i.isEmptyObject(t),u=i.speed(n,l,c),_=function(){var w=We(this,i.extend({},t),u);(h||z.get(this,"finish"))&&w.stop(!0)};return _.finish=_,h||u.queue===!1?this.each(_):this.queue(u.queue,_)},stop:function(t,n,l){var c=function(h){var u=h.stop;delete h.stop,u(l)};return typeof t!="string"&&(l=n,n=t,t=void 0),n&&this.queue(t||"fx",[]),this.each(function(){var h=!0,u=t!=null&&t+"queueHooks",_=i.timers,w=z.get(this);if(u)w[u]&&w[u].stop&&c(w[u]);else for(u in w)w[u]&&w[u].stop&&_r.test(u)&&c(w[u]);for(u=_.length;u--;)_[u].elem===this&&(t==null||_[u].queue===t)&&(_[u].anim.stop(l),h=!1,_.splice(u,1));(h||!l)&&i.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var n,l=z.get(this),c=l[t+"queue"],h=l[t+"queueHooks"],u=i.timers,_=c?c.length:0;for(l.finish=!0,i.queue(this,t,[]),h&&h.stop&&h.stop.call(this,!0),n=u.length;n--;)u[n].elem===this&&u[n].queue===t&&(u[n].anim.stop(!0),u.splice(n,1));for(n=0;n<_;n++)c[n]&&c[n].finish&&c[n].finish.call(this);delete l.finish})}}),i.each(["toggle","show","hide"],function(t,n){var l=i.fn[n];i.fn[n]=function(c,h,u){return c==null||typeof c=="boolean"?l.apply(this,arguments):this.animate(Ft(n,!0),c,h,u)}}),i.each({slideDown:Ft("show"),slideUp:Ft("hide"),slideToggle:Ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){i.fn[t]=function(l,c,h){return this.animate(n,l,c,h)}}),i.timers=[],i.fx.tick=function(){var t,n=0,l=i.timers;for(xt=Date.now();n<l.length;n++)t=l[n],!t()&&l[n]===t&&l.splice(n--,1);l.length||i.fx.stop(),xt=void 0},i.fx.timer=function(t){i.timers.push(t),i.fx.start()},i.fx.interval=13,i.fx.start=function(){Mt||(Mt=!0,Qt())},i.fx.stop=function(){Mt=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fn.delay=function(t,n){return t=i.fx&&i.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(l,c){var h=f.setTimeout(l,t);c.stop=function(){f.clearTimeout(h)}})},function(){var t=Z.createElement("input"),n=Z.createElement("select"),l=n.appendChild(Z.createElement("option"));t.type="checkbox",Y.checkOn=t.value!=="",Y.optSelected=l.selected,t=Z.createElement("input"),t.value="t",t.type="radio",Y.radioValue=t.value==="t"}();var Pi,Et=i.expr.attrHandle;i.fn.extend({attr:function(t,n){return I(this,i.attr,t,n,arguments.length>1)},removeAttr:function(t){return this.each(function(){i.removeAttr(this,t)})}}),i.extend({attr:function(t,n,l){var c,h,u=t.nodeType;if(!(u===3||u===8||u===2)){if(typeof t.getAttribute>"u")return i.prop(t,n,l);if((u!==1||!i.isXMLDoc(t))&&(h=i.attrHooks[n.toLowerCase()]||(i.expr.match.bool.test(n)?Pi:void 0)),l!==void 0){if(l===null){i.removeAttr(t,n);return}return h&&"set"in h&&(c=h.set(t,l,n))!==void 0?c:(t.setAttribute(n,l+""),l)}return h&&"get"in h&&(c=h.get(t,n))!==null?c:(c=i.find.attr(t,n),c??void 0)}},attrHooks:{type:{set:function(t,n){if(!Y.radioValue&&n==="radio"&&g(t,"input")){var l=t.value;return t.setAttribute("type",n),l&&(t.value=l),n}}}},removeAttr:function(t,n){var l,c=0,h=n&&n.match(b);if(h&&t.nodeType===1)for(;l=h[c++];)t.removeAttribute(l)}}),Pi={set:function(t,n,l){return n===!1?i.removeAttr(t,l):t.setAttribute(l,l),l}},i.each(i.expr.match.bool.source.match(/\w+/g),function(t,n){var l=Et[n]||i.find.attr;Et[n]=function(c,h,u){var _,w,k=h.toLowerCase();return u||(w=Et[k],Et[k]=_,_=l(c,h,u)!=null?k:null,Et[k]=w),_}});var vr=/^(?:input|select|textarea|button)$/i,yr=/^(?:a|area)$/i;i.fn.extend({prop:function(t,n){return I(this,i.prop,t,n,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[i.propFix[t]||t]})}}),i.extend({prop:function(t,n,l){var c,h,u=t.nodeType;if(!(u===3||u===8||u===2))return(u!==1||!i.isXMLDoc(t))&&(n=i.propFix[n]||n,h=i.propHooks[n]),l!==void 0?h&&"set"in h&&(c=h.set(t,l,n))!==void 0?c:t[n]=l:h&&"get"in h&&(c=h.get(t,n))!==null?c:t[n]},propHooks:{tabIndex:{get:function(t){var n=i.find.attr(t,"tabindex");return n?parseInt(n,10):vr.test(t.nodeName)||yr.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Y.optSelected||(i.propHooks.selected={get:function(t){var n=t.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(t){var n=t.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});function dt(t){var n=t.match(b)||[];return n.join(" ")}function ft(t){return t.getAttribute&&t.getAttribute("class")||""}function Gt(t){return Array.isArray(t)?t:typeof t=="string"?t.match(b)||[]:[]}i.fn.extend({addClass:function(t){var n,l,c,h,u,_;return te(t)?this.each(function(w){i(this).addClass(t.call(this,w,ft(this)))}):(n=Gt(t),n.length?this.each(function(){if(c=ft(this),l=this.nodeType===1&&" "+dt(c)+" ",l){for(u=0;u<n.length;u++)h=n[u],l.indexOf(" "+h+" ")<0&&(l+=h+" ");_=dt(l),c!==_&&this.setAttribute("class",_)}}):this)},removeClass:function(t){var n,l,c,h,u,_;return te(t)?this.each(function(w){i(this).removeClass(t.call(this,w,ft(this)))}):arguments.length?(n=Gt(t),n.length?this.each(function(){if(c=ft(this),l=this.nodeType===1&&" "+dt(c)+" ",l){for(u=0;u<n.length;u++)for(h=n[u];l.indexOf(" "+h+" ")>-1;)l=l.replace(" "+h+" "," ");_=dt(l),c!==_&&this.setAttribute("class",_)}}):this):this.attr("class","")},toggleClass:function(t,n){var l,c,h,u,_=typeof t,w=_==="string"||Array.isArray(t);return te(t)?this.each(function(k){i(this).toggleClass(t.call(this,k,ft(this),n),n)}):typeof n=="boolean"&&w?n?this.addClass(t):this.removeClass(t):(l=Gt(t),this.each(function(){if(w)for(u=i(this),h=0;h<l.length;h++)c=l[h],u.hasClass(c)?u.removeClass(c):u.addClass(c);else(t===void 0||_==="boolean")&&(c=ft(this),c&&z.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||t===!1?"":z.get(this,"__className__")||""))}))},hasClass:function(t){var n,l,c=0;for(n=" "+t+" ";l=this[c++];)if(l.nodeType===1&&(" "+dt(ft(l))+" ").indexOf(n)>-1)return!0;return!1}});var xr=/\r/g;i.fn.extend({val:function(t){var n,l,c,h=this[0];return arguments.length?(c=te(t),this.each(function(u){var _;this.nodeType===1&&(c?_=t.call(this,u,i(this).val()):_=t,_==null?_="":typeof _=="number"?_+="":Array.isArray(_)&&(_=i.map(_,function(w){return w==null?"":w+""})),n=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||n.set(this,_,"value")===void 0)&&(this.value=_))})):h?(n=i.valHooks[h.type]||i.valHooks[h.nodeName.toLowerCase()],n&&"get"in n&&(l=n.get(h,"value"))!==void 0?l:(l=h.value,typeof l=="string"?l.replace(xr,""):l??"")):void 0}}),i.extend({valHooks:{option:{get:function(t){var n=i.find.attr(t,"value");return n??dt(i.text(t))}},select:{get:function(t){var n,l,c,h=t.options,u=t.selectedIndex,_=t.type==="select-one",w=_?null:[],k=_?u+1:h.length;for(u<0?c=k:c=_?u:0;c<k;c++)if(l=h[c],(l.selected||c===u)&&!l.disabled&&(!l.parentNode.disabled||!g(l.parentNode,"optgroup"))){if(n=i(l).val(),_)return n;w.push(n)}return w},set:function(t,n){for(var l,c,h=t.options,u=i.makeArray(n),_=h.length;_--;)c=h[_],(c.selected=i.inArray(i.valHooks.option.get(c),u)>-1)&&(l=!0);return l||(t.selectedIndex=-1),u}}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(t,n){if(Array.isArray(n))return t.checked=i.inArray(i(t).val(),n)>-1}},Y.checkOn||(i.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value})});var Ot=f.location,qi={guid:Date.now()},Zt=/\?/;i.parseXML=function(t){var n,l;if(!t||typeof t!="string")return null;try{n=new f.DOMParser().parseFromString(t,"text/xml")}catch{}return l=n&&n.getElementsByTagName("parsererror")[0],(!n||l)&&i.error("Invalid XML: "+(l?i.map(l.childNodes,function(c){return c.textContent}).join(`
`):t)),n};var Hi=/^(?:focusinfocus|focusoutblur)$/,bi=function(t){t.stopPropagation()};i.extend(i.event,{trigger:function(t,n,l,c){var h,u,_,w,k,T,P,H,E=[l||Z],M=it.call(t,"type")?t.type:t,ee=it.call(t,"namespace")?t.namespace.split("."):[];if(u=H=_=l=l||Z,!(l.nodeType===3||l.nodeType===8)&&!Hi.test(M+i.event.triggered)&&(M.indexOf(".")>-1&&(ee=M.split("."),M=ee.shift(),ee.sort()),k=M.indexOf(":")<0&&"on"+M,t=t[i.expando]?t:new i.Event(M,typeof t=="object"&&t),t.isTrigger=c?2:3,t.namespace=ee.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=l),n=n==null?[t]:i.makeArray(n,[t]),P=i.event.special[M]||{},!(!c&&P.trigger&&P.trigger.apply(l,n)===!1))){if(!c&&!P.noBubble&&!He(l)){for(w=P.delegateType||M,Hi.test(w+M)||(u=u.parentNode);u;u=u.parentNode)E.push(u),_=u;_===(l.ownerDocument||Z)&&E.push(_.defaultView||_.parentWindow||f)}for(h=0;(u=E[h++])&&!t.isPropagationStopped();)H=u,t.type=h>1?w:P.bindType||M,T=(z.get(u,"events")||Object.create(null))[t.type]&&z.get(u,"handle"),T&&T.apply(u,n),T=k&&u[k],T&&T.apply&&Ct(u)&&(t.result=T.apply(u,n),t.result===!1&&t.preventDefault());return t.type=M,!c&&!t.isDefaultPrevented()&&(!P._default||P._default.apply(E.pop(),n)===!1)&&Ct(l)&&k&&te(l[M])&&!He(l)&&(_=l[k],_&&(l[k]=null),i.event.triggered=M,t.isPropagationStopped()&&H.addEventListener(M,bi),l[M](),t.isPropagationStopped()&&H.removeEventListener(M,bi),i.event.triggered=void 0,_&&(l[k]=_)),t.result}},simulate:function(t,n,l){var c=i.extend(new i.Event,l,{type:t,isSimulated:!0});i.event.trigger(c,null,n)}}),i.fn.extend({trigger:function(t,n){return this.each(function(){i.event.trigger(t,n,this)})},triggerHandler:function(t,n){var l=this[0];if(l)return i.event.trigger(t,n,l,!0)}});var kr=/\[\]$/,Mi=/\r?\n/g,wr=/^(?:submit|button|image|reset|file)$/i,Cr=/^(?:input|select|textarea|keygen)/i;function $t(t,n,l,c){var h;if(Array.isArray(n))i.each(n,function(u,_){l||kr.test(t)?c(t,_):$t(t+"["+(typeof _=="object"&&_!=null?u:"")+"]",_,l,c)});else if(!l&&r(n)==="object")for(h in n)$t(t+"["+h+"]",n[h],l,c);else c(t,n)}i.param=function(t,n){var l,c=[],h=function(u,_){var w=te(_)?_():_;c[c.length]=encodeURIComponent(u)+"="+encodeURIComponent(w??"")};if(t==null)return"";if(Array.isArray(t)||t.jquery&&!i.isPlainObject(t))i.each(t,function(){h(this.name,this.value)});else for(l in t)$t(l,t[l],n,h);return c.join("&")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=i.prop(this,"elements");return t?i.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!i(this).is(":disabled")&&Cr.test(this.nodeName)&&!wr.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,n){var l=i(this).val();return l==null?null:Array.isArray(l)?i.map(l,function(c){return{name:n.name,value:c.replace(Mi,`\r
`)}}):{name:n.name,value:l.replace(Mi,`\r
`)}}).get()}});var Tr=/%20/g,Sr=/#.*$/,Nr=/([?&])_=[^&]*/,Ar=/^(.*?):[ \t]*([^\r\n]*)$/mg,Er=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Or=/^(?:GET|HEAD)$/,Dr=/^\/\//,Fi={},ei={},Ii="*/".concat("*"),ti=Z.createElement("a");ti.href=Ot.href;function Ri(t){return function(n,l){typeof n!="string"&&(l=n,n="*");var c,h=0,u=n.toLowerCase().match(b)||[];if(te(l))for(;c=u[h++];)c[0]==="+"?(c=c.slice(1)||"*",(t[c]=t[c]||[]).unshift(l)):(t[c]=t[c]||[]).push(l)}}function Wi(t,n,l,c){var h={},u=t===ei;function _(w){var k;return h[w]=!0,i.each(t[w]||[],function(T,P){var H=P(n,l,c);if(typeof H=="string"&&!u&&!h[H])return n.dataTypes.unshift(H),_(H),!1;if(u)return!(k=H)}),k}return _(n.dataTypes[0])||!h["*"]&&_("*")}function ii(t,n){var l,c,h=i.ajaxSettings.flatOptions||{};for(l in n)n[l]!==void 0&&((h[l]?t:c||(c={}))[l]=n[l]);return c&&i.extend(!0,t,c),t}function jr(t,n,l){for(var c,h,u,_,w=t.contents,k=t.dataTypes;k[0]==="*";)k.shift(),c===void 0&&(c=t.mimeType||n.getResponseHeader("Content-Type"));if(c){for(h in w)if(w[h]&&w[h].test(c)){k.unshift(h);break}}if(k[0]in l)u=k[0];else{for(h in l){if(!k[0]||t.converters[h+" "+k[0]]){u=h;break}_||(_=h)}u=u||_}if(u)return u!==k[0]&&k.unshift(u),l[u]}function Lr(t,n,l,c){var h,u,_,w,k,T={},P=t.dataTypes.slice();if(P[1])for(_ in t.converters)T[_.toLowerCase()]=t.converters[_];for(u=P.shift();u;)if(t.responseFields[u]&&(l[t.responseFields[u]]=n),!k&&c&&t.dataFilter&&(n=t.dataFilter(n,t.dataType)),k=u,u=P.shift(),u){if(u==="*")u=k;else if(k!=="*"&&k!==u){if(_=T[k+" "+u]||T["* "+u],!_){for(h in T)if(w=h.split(" "),w[1]===u&&(_=T[k+" "+w[0]]||T["* "+w[0]],_)){_===!0?_=T[h]:T[h]!==!0&&(u=w[0],P.unshift(w[1]));break}}if(_!==!0)if(_&&t.throws)n=_(n);else try{n=_(n)}catch(H){return{state:"parsererror",error:_?H:"No conversion from "+k+" to "+u}}}}return{state:"success",data:n}}i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:Er.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ii,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?ii(ii(t,i.ajaxSettings),n):ii(i.ajaxSettings,t)},ajaxPrefilter:Ri(Fi),ajaxTransport:Ri(ei),ajax:function(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};var l,c,h,u,_,w,k,T,P,H,E=i.ajaxSetup({},n),M=E.context||E,ee=E.context&&(M.nodeType||M.jquery)?i(M):i.event,le=i.Deferred(),ne=i.Callbacks("once memory"),we=E.statusCode||{},xe={},Xe={},Ye="canceled",oe={readyState:0,getResponseHeader:function(de){var ye;if(k){if(!u)for(u={};ye=Ar.exec(h);)u[ye[1].toLowerCase()+" "]=(u[ye[1].toLowerCase()+" "]||[]).concat(ye[2]);ye=u[de.toLowerCase()+" "]}return ye==null?null:ye.join(", ")},getAllResponseHeaders:function(){return k?h:null},setRequestHeader:function(de,ye){return k==null&&(de=Xe[de.toLowerCase()]=Xe[de.toLowerCase()]||de,xe[de]=ye),this},overrideMimeType:function(de){return k==null&&(E.mimeType=de),this},statusCode:function(de){var ye;if(de)if(k)oe.always(de[oe.status]);else for(ye in de)we[ye]=[we[ye],de[ye]];return this},abort:function(de){var ye=de||Ye;return l&&l.abort(ye),ht(0,ye),this}};if(le.promise(oe),E.url=((t||E.url||Ot.href)+"").replace(Dr,Ot.protocol+"//"),E.type=n.method||n.type||E.method||E.type,E.dataTypes=(E.dataType||"*").toLowerCase().match(b)||[""],E.crossDomain==null){w=Z.createElement("a");try{w.href=E.url,w.href=w.href,E.crossDomain=ti.protocol+"//"+ti.host!=w.protocol+"//"+w.host}catch{E.crossDomain=!0}}if(E.data&&E.processData&&typeof E.data!="string"&&(E.data=i.param(E.data,E.traditional)),Wi(Fi,E,n,oe),k)return oe;T=i.event&&E.global,T&&i.active++===0&&i.event.trigger("ajaxStart"),E.type=E.type.toUpperCase(),E.hasContent=!Or.test(E.type),c=E.url.replace(Sr,""),E.hasContent?E.data&&E.processData&&(E.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(E.data=E.data.replace(Tr,"+")):(H=E.url.slice(c.length),E.data&&(E.processData||typeof E.data=="string")&&(c+=(Zt.test(c)?"&":"?")+E.data,delete E.data),E.cache===!1&&(c=c.replace(Nr,"$1"),H=(Zt.test(c)?"&":"?")+"_="+qi.guid+++H),E.url=c+H),E.ifModified&&(i.lastModified[c]&&oe.setRequestHeader("If-Modified-Since",i.lastModified[c]),i.etag[c]&&oe.setRequestHeader("If-None-Match",i.etag[c])),(E.data&&E.hasContent&&E.contentType!==!1||n.contentType)&&oe.setRequestHeader("Content-Type",E.contentType),oe.setRequestHeader("Accept",E.dataTypes[0]&&E.accepts[E.dataTypes[0]]?E.accepts[E.dataTypes[0]]+(E.dataTypes[0]!=="*"?", "+Ii+"; q=0.01":""):E.accepts["*"]);for(P in E.headers)oe.setRequestHeader(P,E.headers[P]);if(E.beforeSend&&(E.beforeSend.call(M,oe,E)===!1||k))return oe.abort();if(Ye="abort",ne.add(E.complete),oe.done(E.success),oe.fail(E.error),l=Wi(ei,E,n,oe),!l)ht(-1,"No Transport");else{if(oe.readyState=1,T&&ee.trigger("ajaxSend",[oe,E]),k)return oe;E.async&&E.timeout>0&&(_=f.setTimeout(function(){oe.abort("timeout")},E.timeout));try{k=!1,l.send(xe,ht)}catch(de){if(k)throw de;ht(-1,de)}}function ht(de,ye,jt,ni){var Je,Lt,Ve,rt,nt,Fe=ye;k||(k=!0,_&&f.clearTimeout(_),l=void 0,h=ni||"",oe.readyState=de>0?4:0,Je=de>=200&&de<300||de===304,jt&&(rt=jr(E,oe,jt)),!Je&&i.inArray("script",E.dataTypes)>-1&&i.inArray("json",E.dataTypes)<0&&(E.converters["text script"]=function(){}),rt=Lr(E,rt,oe,Je),Je?(E.ifModified&&(nt=oe.getResponseHeader("Last-Modified"),nt&&(i.lastModified[c]=nt),nt=oe.getResponseHeader("etag"),nt&&(i.etag[c]=nt)),de===204||E.type==="HEAD"?Fe="nocontent":de===304?Fe="notmodified":(Fe=rt.state,Lt=rt.data,Ve=rt.error,Je=!Ve)):(Ve=Fe,(de||!Fe)&&(Fe="error",de<0&&(de=0))),oe.status=de,oe.statusText=(ye||Fe)+"",Je?le.resolveWith(M,[Lt,Fe,oe]):le.rejectWith(M,[oe,Fe,Ve]),oe.statusCode(we),we=void 0,T&&ee.trigger(Je?"ajaxSuccess":"ajaxError",[oe,E,Je?Lt:Ve]),ne.fireWith(M,[oe,Fe]),T&&(ee.trigger("ajaxComplete",[oe,E]),--i.active||i.event.trigger("ajaxStop")))}return oe},getJSON:function(t,n,l){return i.get(t,n,l,"json")},getScript:function(t,n){return i.get(t,void 0,n,"script")}}),i.each(["get","post"],function(t,n){i[n]=function(l,c,h,u){return te(c)&&(u=u||h,h=c,c=void 0),i.ajax(i.extend({url:l,type:n,dataType:u,data:c,success:h},i.isPlainObject(l)&&l))}}),i.ajaxPrefilter(function(t){var n;for(n in t.headers)n.toLowerCase()==="content-type"&&(t.contentType=t.headers[n]||"")}),i._evalUrl=function(t,n,l){return i.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(c){i.globalEval(c,n,l)}})},i.fn.extend({wrapAll:function(t){var n;return this[0]&&(te(t)&&(t=t.call(this[0])),n=i(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var l=this;l.firstElementChild;)l=l.firstElementChild;return l}).append(this)),this},wrapInner:function(t){return te(t)?this.each(function(n){i(this).wrapInner(t.call(this,n))}):this.each(function(){var n=i(this),l=n.contents();l.length?l.wrapAll(t):n.append(t)})},wrap:function(t){var n=te(t);return this.each(function(l){i(this).wrapAll(n?t.call(this,l):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(t){return!i.expr.pseudos.visible(t)},i.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new f.XMLHttpRequest}catch{}};var Pr={0:200,1223:204},Dt=i.ajaxSettings.xhr();Y.cors=!!Dt&&"withCredentials"in Dt,Y.ajax=Dt=!!Dt,i.ajaxTransport(function(t){var n,l;if(Y.cors||Dt&&!t.crossDomain)return{send:function(c,h){var u,_=t.xhr();if(_.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(u in t.xhrFields)_[u]=t.xhrFields[u];t.mimeType&&_.overrideMimeType&&_.overrideMimeType(t.mimeType),!t.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(u in c)_.setRequestHeader(u,c[u]);n=function(w){return function(){n&&(n=l=_.onload=_.onerror=_.onabort=_.ontimeout=_.onreadystatechange=null,w==="abort"?_.abort():w==="error"?typeof _.status!="number"?h(0,"error"):h(_.status,_.statusText):h(Pr[_.status]||_.status,_.statusText,(_.responseType||"text")!=="text"||typeof _.responseText!="string"?{binary:_.response}:{text:_.responseText},_.getAllResponseHeaders()))}},_.onload=n(),l=_.onerror=_.ontimeout=n("error"),_.onabort!==void 0?_.onabort=l:_.onreadystatechange=function(){_.readyState===4&&f.setTimeout(function(){n&&l()})},n=n("abort");try{_.send(t.hasContent&&t.data||null)}catch(w){if(n)throw w}},abort:function(){n&&n()}}}),i.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return i.globalEval(t),t}}}),i.ajaxPrefilter("script",function(t){t.cache===void 0&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),i.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var n,l;return{send:function(c,h){n=i("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",l=function(u){n.remove(),l=null,u&&h(u.type==="error"?404:200,u.type)}),Z.head.appendChild(n[0])},abort:function(){l&&l()}}}});var Bi=[],ri=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Bi.pop()||i.expando+"_"+qi.guid++;return this[t]=!0,t}}),i.ajaxPrefilter("json jsonp",function(t,n,l){var c,h,u,_=t.jsonp!==!1&&(ri.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ri.test(t.data)&&"data");if(_||t.dataTypes[0]==="jsonp")return c=t.jsonpCallback=te(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,_?t[_]=t[_].replace(ri,"$1"+c):t.jsonp!==!1&&(t.url+=(Zt.test(t.url)?"&":"?")+t.jsonp+"="+c),t.converters["script json"]=function(){return u||i.error(c+" was not called"),u[0]},t.dataTypes[0]="json",h=f[c],f[c]=function(){u=arguments},l.always(function(){h===void 0?i(f).removeProp(c):f[c]=h,t[c]&&(t.jsonpCallback=n.jsonpCallback,Bi.push(c)),u&&te(h)&&h(u[0]),u=h=void 0}),"script"}),Y.createHTMLDocument=function(){var t=Z.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}(),i.parseHTML=function(t,n,l){if(typeof t!="string")return[];typeof n=="boolean"&&(l=n,n=!1);var c,h,u;return n||(Y.createHTMLDocument?(n=Z.implementation.createHTMLDocument(""),c=n.createElement("base"),c.href=Z.location.href,n.head.appendChild(c)):n=Z),h=ce.exec(t),u=!l&&[],h?[n.createElement(h[1])]:(h=vi([t],n,u),u&&u.length&&i(u).remove(),i.merge([],h.childNodes))},i.fn.load=function(t,n,l){var c,h,u,_=this,w=t.indexOf(" ");return w>-1&&(c=dt(t.slice(w)),t=t.slice(0,w)),te(n)?(l=n,n=void 0):n&&typeof n=="object"&&(h="POST"),_.length>0&&i.ajax({url:t,type:h||"GET",dataType:"html",data:n}).done(function(k){u=arguments,_.html(c?i("<div>").append(i.parseHTML(k)).find(c):k)}).always(l&&function(k,T){_.each(function(){l.apply(this,u||[k.responseText,T,k])})}),this},i.expr.pseudos.animated=function(t){return i.grep(i.timers,function(n){return t===n.elem}).length},i.offset={setOffset:function(t,n,l){var c,h,u,_,w,k,T,P=i.css(t,"position"),H=i(t),E={};P==="static"&&(t.style.position="relative"),w=H.offset(),u=i.css(t,"top"),k=i.css(t,"left"),T=(P==="absolute"||P==="fixed")&&(u+k).indexOf("auto")>-1,T?(c=H.position(),_=c.top,h=c.left):(_=parseFloat(u)||0,h=parseFloat(k)||0),te(n)&&(n=n.call(t,l,i.extend({},w))),n.top!=null&&(E.top=n.top-w.top+_),n.left!=null&&(E.left=n.left-w.left+h),"using"in n?n.using.call(t,E):H.css(E)}},i.fn.extend({offset:function(t){if(arguments.length)return t===void 0?this:this.each(function(h){i.offset.setOffset(this,t,h)});var n,l,c=this[0];if(c)return c.getClientRects().length?(n=c.getBoundingClientRect(),l=c.ownerDocument.defaultView,{top:n.top+l.pageYOffset,left:n.left+l.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,n,l,c=this[0],h={top:0,left:0};if(i.css(c,"position")==="fixed")n=c.getBoundingClientRect();else{for(n=this.offset(),l=c.ownerDocument,t=c.offsetParent||l.documentElement;t&&(t===l.body||t===l.documentElement)&&i.css(t,"position")==="static";)t=t.parentNode;t&&t!==c&&t.nodeType===1&&(h=i(t).offset(),h.top+=i.css(t,"borderTopWidth",!0),h.left+=i.css(t,"borderLeftWidth",!0))}return{top:n.top-h.top-i.css(c,"marginTop",!0),left:n.left-h.left-i.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&i.css(t,"position")==="static";)t=t.offsetParent;return t||ct})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var l=n==="pageYOffset";i.fn[t]=function(c){return I(this,function(h,u,_){var w;if(He(h)?w=h:h.nodeType===9&&(w=h.defaultView),_===void 0)return w?w[n]:h[u];w?w.scrollTo(l?w.pageXOffset:_,l?_:w.pageYOffset):h[u]=_},t,c,arguments.length)}}),i.each(["top","left"],function(t,n){i.cssHooks[n]=Ti(Y.pixelPosition,function(l,c){if(c)return c=At(l,n),Xt.test(c)?i(l).position()[n]+"px":c})}),i.each({Height:"height",Width:"width"},function(t,n){i.each({padding:"inner"+t,content:n,"":"outer"+t},function(l,c){i.fn[c]=function(h,u){var _=arguments.length&&(l||typeof h!="boolean"),w=l||(h===!0||u===!0?"margin":"border");return I(this,function(k,T,P){var H;return He(k)?c.indexOf("outer")===0?k["inner"+t]:k.document.documentElement["client"+t]:k.nodeType===9?(H=k.documentElement,Math.max(k.body["scroll"+t],H["scroll"+t],k.body["offset"+t],H["offset"+t],H["client"+t])):P===void 0?i.css(k,T,w):i.style(k,T,P,w)},n,_?h:void 0,_)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,n){i.fn[n]=function(l){return this.on(n,l)}}),i.fn.extend({bind:function(t,n,l){return this.on(t,null,n,l)},unbind:function(t,n){return this.off(t,null,n)},delegate:function(t,n,l,c){return this.on(n,t,l,c)},undelegate:function(t,n,l){return arguments.length===1?this.off(t,"**"):this.off(n,t||"**",l)},hover:function(t,n){return this.on("mouseenter",t).on("mouseleave",n||t)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){i.fn[n]=function(l,c){return arguments.length>0?this.on(n,null,l,c):this.trigger(n)}});var qr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;i.proxy=function(t,n){var l,c,h;if(typeof n=="string"&&(l=t[n],n=t,t=l),!!te(t))return c=fe.call(arguments,2),h=function(){return t.apply(n||this,c.concat(fe.call(arguments)))},h.guid=t.guid=t.guid||i.guid++,h},i.holdReady=function(t){t?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=g,i.isFunction=te,i.isWindow=He,i.camelCase=Ue,i.type=r,i.now=Date.now,i.isNumeric=function(t){var n=i.type(t);return(n==="number"||n==="string")&&!isNaN(t-parseFloat(t))},i.trim=function(t){return t==null?"":(t+"").replace(qr,"$1")};var Hr=f.jQuery,br=f.$;return i.noConflict=function(t){return f.$===i&&(f.$=br),t&&f.jQuery===i&&(f.jQuery=Hr),i},typeof R>"u"&&(f.jQuery=f.$=i),i})}(Kt)),Kt.exports}var Xr=Ji();const Le=zr(Xr);var fi={exports:{}},Yi;function Yr(){return Yi||(Yi=1,function(me){(function(f){me.exports?me.exports=f(Ji()):f(jQuery)})(function(f,R){/*!
 * jsTree 3.3.17
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 *//*!
 * if using jslint please allow for the jQuery global and use following options:
 * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */if(!f.jstree){var _e=0,ke=!1,fe=!1,Ge=!1,at=[],Pe=f("script:last").attr("src"),Q=window.document,ot=window.setImmediate,it=window.Promise;!ot&&it&&(ot=function(e,o){it.resolve(o).then(e)}),f.jstree={version:"3.3.17",defaults:{plugins:[]},plugins:{},path:Pe&&Pe.indexOf("/")!==-1?Pe.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},f.jstree.create=function(e,o){var r=new f.jstree.core(++_e),s=o;return o=f.extend(!0,{},f.jstree.defaults,o),s&&s.plugins&&(o.plugins=s.plugins),f.each(o.plugins,function(a,i){a!=="core"&&(r=r.plugin(i,o[i]))}),f(e).data("jstree",r),r.init(e,o),r},f.jstree.destroy=function(){f(".jstree:jstree").jstree("destroy"),f(Q).off(".jstree")},f.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},f.jstree.reference=function(e){var o=null,r=null;if(e&&e.id&&(!e.tagName||!e.nodeType)&&(e=e.id),!r||!r.length)try{r=f(e)}catch{}if(!r||!r.length)try{r=f("#"+e.replace(f.jstree.idregex,"\\$&"))}catch{}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?o=r:f(".jstree").each(function(){var s=f(this).data("jstree");if(s&&s._model.data[e])return o=s,!1}),o},f.fn.jstree=function(e){var o=typeof e=="string",r=Array.prototype.slice.call(arguments,1),s=null;return e===!0&&!this.length?!1:(this.each(function(){var a=f.jstree.reference(this),i=o&&a?a[e]:null;if(s=o&&i?i.apply(a,r):null,!a&&!o&&(e===R||f.isPlainObject(e))&&f.jstree.create(this,e),(a&&!o||e===!0)&&(s=a||!1),s!==null&&s!==R)return!1}),s!==null&&s!==R?s:this)},f.expr.pseudos.jstree=f.expr.createPseudo(function(e){return function(o){return f(o).hasClass("jstree")&&f(o).data("jstree")!==R}}),f.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:f.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(e){e.type="click",f(e.currentTarget).trigger(e)},enter:function(e){e.type="click",f(e.currentTarget).trigger(e)},left:function(e){if(e.preventDefault(),this.is_open(e.currentTarget))this.close_node(e.currentTarget);else{var o=this.get_parent(e.currentTarget);o&&o.id!==f.jstree.root&&this.get_node(o,!0).children(".jstree-anchor").trigger("focus")}},up:function(e){e.preventDefault();var o=this.get_prev_dom(e.currentTarget);o&&o.length&&o.children(".jstree-anchor").trigger("focus")},right:function(e){if(e.preventDefault(),this.is_closed(e.currentTarget))this.open_node(e.currentTarget,function(r){this.get_node(r,!0).children(".jstree-anchor").trigger("focus")});else if(this.is_open(e.currentTarget)){var o=this.get_node(e.currentTarget,!0).children(".jstree-children")[0];o&&f(this._firstChild(o)).children(".jstree-anchor").trigger("focus")}},down:function(e){e.preventDefault();var o=this.get_next_dom(e.currentTarget);o&&o.length&&o.children(".jstree-anchor").trigger("focus")},"*":function(e){this.open_all()},home:function(e){e.preventDefault();var o=this._firstChild(this.get_container_ul()[0]);o&&f(o).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}},allow_reselect:!1},f.jstree.core.prototype={plugin:function(e,o){var r=f.jstree.plugins[e];return r?(this._data[e]={},r.prototype=this,new r(o,this)):this},init:function(e,o){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[f.jstree.root]={id:f.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=f(e).addClass("jstree jstree-"+this._id),this.settings=o,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl=this.element.css("direction")==="rtl",this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return this.nodeType===3&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(f.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch{}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e=Q.createElement("LI"),o,r;return e.setAttribute("role","none"),o=Q.createElement("I"),o.className="jstree-icon jstree-ocl",o.setAttribute("role","presentation"),e.appendChild(o),o=Q.createElement("A"),o.className="jstree-anchor",o.setAttribute("href","#"),o.setAttribute("tabindex","-1"),o.setAttribute("role","treeitem"),r=Q.createElement("I"),r.className="jstree-icon jstree-themeicon",r.setAttribute("role","presentation"),o.appendChild(r),e.appendChild(o),o=r=null,e},_kbevent_to_func:function(e){var o={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},r=[];if(e.ctrlKey&&r.push("ctrl"),e.altKey&&r.push("alt"),e.shiftKey&&r.push("shift"),r.push(o[e.which]?o[e.which].toLowerCase():e.which),r=r.sort().join("-").toLowerCase(),r==="shift-shift"||r==="ctrl-ctrl"||r==="alt-alt")return null;var s=this.settings.core.keyboard,a,i;for(a in s)if(s.hasOwnProperty(a)&&(i=a,i!=="-"&&i!=="+"&&(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS"),i=i.split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),i===r))return s[a];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")}),this.element=null},bind:function(){var e="",o=null,r=0;this.element.on("dblclick.jstree",function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;if(Q.selection&&Q.selection.empty)Q.selection.empty();else if(window.getSelection){var a=window.getSelection();try{a.removeAllRanges(),a.collapse()}catch{}}}).on("mousedown.jstree",(function(s){s.target===this.element[0]&&(s.preventDefault(),r=+new Date)}).bind(this)).on("mousedown.jstree",".jstree-ocl",function(s){s.preventDefault()}).on("click.jstree",".jstree-ocl",(function(s){this.toggle_node(s.target)}).bind(this)).on("dblclick.jstree",".jstree-anchor",(function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;this.settings.core.dblclick_toggle&&this.toggle_node(s.target)}).bind(this)).on("click.jstree",".jstree-anchor",(function(s){s.preventDefault(),s.currentTarget!==Q.activeElement&&f(s.currentTarget).trigger("focus"),this.activate_node(s.currentTarget,s)}).bind(this)).on("keydown.jstree",".jstree-anchor",(function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;this._data.core.rtl&&(s.which===37?s.which=39:s.which===39&&(s.which=37));var a=this._kbevent_to_func(s);if(a){var i=a.call(this,s);if(i===!1||i===!0)return i}}).bind(this)).on("load_node.jstree",(function(s,a){a.status&&(a.node.id===f.jstree.root&&!this._data.core.loaded&&(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout((function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var i=[],d,g;for(d=0,g=this._data.core.selected.length;d<g;d++)i=i.concat(this._model.data[this._data.core.selected[d]].parents);for(i=f.vakata.array_unique(i),d=0,g=i.length;d<g;d++)this.open_node(i[d],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}).bind(this),0))}).bind(this)).on("keypress.jstree",(function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;o&&clearTimeout(o),o=setTimeout(function(){e=""},500);var a=String.fromCharCode(s.which).toLowerCase(),i=this.element.find(".jstree-anchor").filter(":visible"),d=i.index(Q.activeElement)||0,g=!1;e+=a,!(e.length>1&&(i.slice(d).each((function(p,m){if(f(m).text().toLowerCase().indexOf(e)===0)return f(m).trigger("focus"),g=!0,!1}).bind(this)),g||(i.slice(0,d).each((function(p,m){if(f(m).text().toLowerCase().indexOf(e)===0)return f(m).trigger("focus"),g=!0,!1}).bind(this)),g)))&&new RegExp("^"+a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(e)&&(i.slice(d+1).each((function(p,m){if(f(m).text().toLowerCase().charAt(0)===a)return f(m).trigger("focus"),g=!0,!1}).bind(this)),g||i.slice(0,d+1).each((function(p,m){if(f(m).text().toLowerCase().charAt(0)===a)return f(m).trigger("focus"),g=!0,!1}).bind(this)))}).bind(this)).on("init.jstree",(function(){var s=this.settings.core.themes;this._data.core.themes.dots=s.dots,this._data.core.themes.stripes=s.stripes,this._data.core.themes.icons=s.icons,this._data.core.themes.ellipsis=s.ellipsis,this.set_theme(s.name||"default",s.url),this.set_theme_variant(s.variant)}).bind(this)).on("loading.jstree",(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}).bind(this)).on("blur.jstree",".jstree-anchor",(function(s){this._data.core.focused=null,f(s.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),f(s.currentTarget).attr("tabindex","-1")}).bind(this)).on("focus.jstree",".jstree-anchor",(function(s){var a=this.get_node(s.currentTarget);a&&(a.id||a.id===0)&&(this._data.core.focused=a.id),this.element.find(".jstree-hovered").not(s.currentTarget).trigger("mouseleave"),f(s.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),f(s.currentTarget).attr("tabindex","0")}).bind(this)).on("focus.jstree",(function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var s=this.get_node(this.element.attr("aria-activedescendant"),!0);s&&s.find("> .jstree-anchor").trigger("focus")}}).bind(this)).on("mouseenter.jstree",".jstree-anchor",(function(s){this.hover_node(s.currentTarget)}).bind(this)).on("mouseleave.jstree",".jstree-anchor",(function(s){this.dehover_node(s.currentTarget)}).bind(this))},unbind:function(){this.element.off(".jstree"),f(Q).off(".jstree-"+this._id)},trigger:function(e,o){o||(o={}),o.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",o)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var o=this.settings.core.strings;return f.vakata.is_function(o)?o.call(this,e):o&&o[e]?o[e]:e},_firstChild:function(e){for(e=e?e.firstChild:null;e!==null&&e.nodeType!==1;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;e!==null&&e.nodeType!==1;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;e!==null&&e.nodeType!==1;)e=e.previousSibling;return e},get_node:function(e,o){e&&(e.id||e.id===0)&&(e=e.id),e instanceof f&&e.length&&e[0].id&&(e=e[0].id);var r;try{if(this._model.data[e])e=this._model.data[e];else if(typeof e=="string"&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if(typeof e=="string"&&(r=f("#"+e.replace(f.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])e=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(e)).length&&this._model.data[r.closest(".jstree-node").attr("id")])e=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(e)).length&&r.hasClass("jstree"))e=this._model.data[f.jstree.root];else return!1;return o&&(e=e.id===f.jstree.root?this.element:f("#"+e.id.replace(f.jstree.idregex,"\\$&"),this.element)),e}catch{return!1}},get_path:function(e,o,r){if(e=e.parents?e:this.get_node(e),!e||e.id===f.jstree.root||!e.parents)return!1;var s,a,i=[];for(i.push(r?e.id:e.text),s=0,a=e.parents.length;s<a;s++)i.push(r?e.parents[s]:this.get_text(e.parents[s]));return i=i.reverse().slice(1),o?i.join(o):i},get_next_dom:function(e,o){var r;if(e=this.get_node(e,!0),e[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&r.offsetHeight===0;)r=this._nextSibling(r);return r?f(r):!1}if(!e||!e.length)return!1;if(o){r=e[0];do r=this._nextSibling(r);while(r&&r.offsetHeight===0);return r?f(r):!1}if(e.hasClass("jstree-open")){for(r=this._firstChild(e.children(".jstree-children")[0]);r&&r.offsetHeight===0;)r=this._nextSibling(r);if(r!==null)return f(r)}r=e[0];do r=this._nextSibling(r);while(r&&r.offsetHeight===0);return r!==null?f(r):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,o){var r;if(e=this.get_node(e,!0),e[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&r.offsetHeight===0;)r=this._previousSibling(r);return r?f(r):!1}if(!e||!e.length)return!1;if(o){r=e[0];do r=this._previousSibling(r);while(r&&r.offsetHeight===0);return r?f(r):!1}r=e[0];do r=this._previousSibling(r);while(r&&r.offsetHeight===0);if(r!==null){for(e=f(r);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e}return r=e[0].parentNode.parentNode,r&&r.className&&r.className.indexOf("jstree-node")!==-1?f(r):!1},get_parent:function(e){return e=this.get_node(e),!e||e.id===f.jstree.root?!1:e.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!e||!e.length?!1:e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(e,o){var r=this.get_node(e,!0),s,a,i,d,g;if(f.vakata.is_array(e))return this._load_nodes(e.slice(),o),!0;if(e=this.get_node(e),!e)return o&&o.call(this,e,!1),!1;if(e.state.loaded){for(e.state.loaded=!1,i=0,d=e.parents.length;i<d;i++)this._model.data[e.parents[i]].children_d=f.vakata.array_filter(this._model.data[e.parents[i]].children_d,function(p){return f.inArray(p,e.children_d)===-1});for(s=0,a=e.children_d.length;s<a;s++)this._model.data[e.children_d[s]].state.selected&&(g=!0),delete this._model.data[e.children_d[s]];g&&(this._data.core.selected=f.vakata.array_filter(this._data.core.selected,function(p){return f.inArray(p,e.children_d)===-1})),e.children=[],e.children_d=[],g&&this.trigger("changed",{action:"load_node",node:e,selected:this._data.core.selected})}return e.state.failed=!1,e.state.loading=!0,e.id!==f.jstree.root?r.children(".jstree-anchor").attr("aria-busy",!0):r.attr("aria-busy",!0),r.addClass("jstree-loading"),this._load_node(e,(function(p){e=this._model.data[e.id],e.state.loading=!1,e.state.loaded=p,e.state.failed=!e.state.loaded;var m=this.get_node(e,!0),v=0,x=0,S=this._model.data,N=!1;for(v=0,x=e.children.length;v<x;v++)if(S[e.children[v]]&&!S[e.children[v]].state.hidden){N=!0;break}e.state.loaded&&m&&m.length&&(m.removeClass("jstree-closed jstree-open jstree-leaf"),N?e.id!=="#"&&m.addClass(e.state.opened?"jstree-open":"jstree-closed"):m.addClass("jstree-leaf")),e.id!==f.jstree.root?m.children(".jstree-anchor").attr("aria-busy",!1):m.attr("aria-busy",!1),m.removeClass("jstree-loading"),this.trigger("load_node",{node:e,status:p}),o&&o.call(this,e,p)}).bind(this)),!0},_load_nodes:function(e,o,r,s){var a=!0,i=function(){this._load_nodes(e,o,!0)},d=this._model.data,g,p,m=[];for(g=0,p=e.length;g<p;g++)d[e[g]]&&(!d[e[g]].state.loaded&&!d[e[g]].state.failed||!r&&s)&&(this.is_loading(e[g])||this.load_node(e[g],i),a=!1);if(a){for(g=0,p=e.length;g<p;g++)d[e[g]]&&d[e[g]].state.loaded&&m.push(e[g]);o&&!o.done&&(o.call(this,m),o.done=!0)}},load_all:function(e,o){if(e||(e=f.jstree.root),e=this.get_node(e),!e)return!1;var r=[],s=this._model.data,a=s[e.id].children_d,i,d;for(e.state&&!e.state.loaded&&r.push(e.id),i=0,d=a.length;i<d;i++)s[a[i]]&&s[a[i]].state&&!s[a[i]].state.loaded&&r.push(a[i]);r.length?this._load_nodes(r,function(){this.load_all(e,o)}):(o&&o.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(e,o){var r=this.settings.core.data,s,a=function(){return this.nodeType!==3&&this.nodeType!==8};return r?f.vakata.is_function(r)?r.call(this,e,(function(i){i===!1?o.call(this,!1):this[typeof i=="string"?"_append_html_data":"_append_json_data"](e,typeof i=="string"?f(f.parseHTML(i)).filter(a):i,function(d){o.call(this,d)})}).bind(this)):typeof r=="object"?r.url?(r=f.extend(!0,{},r),f.vakata.is_function(r.url)&&(r.url=r.url.call(this,e)),f.vakata.is_function(r.data)&&(r.data=r.data.call(this,e)),f.ajax(r).done((function(i,d,g){var p=g.getResponseHeader("Content-Type");return p&&p.indexOf("json")!==-1||typeof i=="object"?this._append_json_data(e,i,function(m){o.call(this,m)}):p&&p.indexOf("html")!==-1||typeof i=="string"?this._append_html_data(e,f(f.parseHTML(i)).filter(a),function(m){o.call(this,m)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:g})},this.settings.core.error.call(this,this._data.core.last_error),o.call(this,!1))}).bind(this)).fail((function(i){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:i})},o.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}).bind(this))):(f.vakata.is_array(r)?s=f.extend(!0,[],r):f.isPlainObject(r)?s=f.extend(!0,{},r):s=r,e.id===f.jstree.root?this._append_json_data(e,s,function(i){o.call(this,i)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),o.call(this,!1))):typeof r=="string"?e.id===f.jstree.root?this._append_html_data(e,f(f.parseHTML(r)).filter(a),function(i){o.call(this,i)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),o.call(this,!1)):o.call(this,!1):e.id===f.jstree.root?this._append_html_data(e,this._data.core.original_container_html.clone(!0),function(i){o.call(this,i)}):o.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&f.inArray(e.id,this._model.changed)===-1&&this._model.changed.push(e.id)},_append_html_data:function(e,o,r){e=this.get_node(e),e.children=[],e.children_d=[];var s=o.is("ul")?o.children():o,a=e.id,i=[],d=[],g=this._model.data,p=g[a],m=this._data.core.selected.length,v,x,S;for(s.each((function(N,j){v=this._parse_model_from_html(f(j),a,p.parents.concat()),v&&(i.push(v),d.push(v),g[v].children_d.length&&(d=d.concat(g[v].children_d)))}).bind(this)),p.children=i,p.children_d=d,x=0,S=p.parents.length;x<S;x++)g[p.parents[x]].children_d=g[p.parents[x]].children_d.concat(d);this.trigger("model",{nodes:d,parent:a}),a!==f.jstree.root?(this._node_changed(a),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==m&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(e,o,r,s){if(this.element!==null){e=this.get_node(e),e.children=[],e.children_d=[],o.d&&(o=o.d,typeof o=="string"&&(o=JSON.parse(o))),f.vakata.is_array(o)||(o=[o]);var a=null,i={df:this._model.default_state,dat:o,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},d=this,g=function(m,v){m.data&&(m=m.data);var x=m.dat,S=m.par,N=[],j=[],O=[],D=m.df,G=m.t_id,re=m.t_cnt,U=m.m,ce=U[S],Se=m.sel,ve,$,he,Ce,Ae=function(b,ze,ge){ge?ge=ge.concat():ge=[],ze&&ge.unshift(ze);var qe=b.id.toString(),X,lt,Re,be,I={id:qe,text:b.text||"",icon:b.icon!==v?b.icon:!0,parent:ze,parents:ge,children:b.children||[],children_d:b.children_d||[],data:b.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(X in D)D.hasOwnProperty(X)&&(I.state[X]=D[X]);if(b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(I.icon=b.data.jstree.icon),(I.icon===v||I.icon===null||I.icon==="")&&(I.icon=!0),b&&b.data&&(I.data=b.data,b.data.jstree))for(X in b.data.jstree)b.data.jstree.hasOwnProperty(X)&&(I.state[X]=b.data.jstree[X]);if(b&&typeof b.state=="object")for(X in b.state)b.state.hasOwnProperty(X)&&(I.state[X]=b.state[X]);if(b&&typeof b.li_attr=="object")for(X in b.li_attr)b.li_attr.hasOwnProperty(X)&&(I.li_attr[X]=b.li_attr[X]);if(I.li_attr.id||(I.li_attr.id=qe),b&&typeof b.a_attr=="object")for(X in b.a_attr)b.a_attr.hasOwnProperty(X)&&(I.a_attr[X]=b.a_attr[X]);for(b&&b.children&&b.children===!0&&(I.state.loaded=!1,I.children=[],I.children_d=[]),U[I.id]=I,X=0,lt=I.children.length;X<lt;X++)Re=Ae(U[I.children[X]],I.id,ge),be=U[Re],I.children_d.push(Re),be.children_d.length&&(I.children_d=I.children_d.concat(be.children_d));return delete b.data,delete b.children,U[I.id].original=b,I.state.selected&&O.push(I.id),I.id},Ze=function(b,ze,ge){ge?ge=ge.concat():ge=[],ze&&ge.unshift(ze);var qe=!1,X,lt,Re,be,I;do qe="j"+G+"_"+ ++re;while(U[qe]);I={id:!1,text:typeof b=="string"?b:"",icon:typeof b=="object"&&b.icon!==v?b.icon:!0,parent:ze,parents:ge,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(X in D)D.hasOwnProperty(X)&&(I.state[X]=D[X]);if(b&&(b.id||b.id===0)&&(I.id=b.id.toString()),b&&b.text&&(I.text=b.text),b&&b.data&&b.data.jstree&&b.data.jstree.icon&&(I.icon=b.data.jstree.icon),(I.icon===v||I.icon===null||I.icon==="")&&(I.icon=!0),b&&b.data&&(I.data=b.data,b.data.jstree))for(X in b.data.jstree)b.data.jstree.hasOwnProperty(X)&&(I.state[X]=b.data.jstree[X]);if(b&&typeof b.state=="object")for(X in b.state)b.state.hasOwnProperty(X)&&(I.state[X]=b.state[X]);if(b&&typeof b.li_attr=="object")for(X in b.li_attr)b.li_attr.hasOwnProperty(X)&&(I.li_attr[X]=b.li_attr[X]);if(I.li_attr.id&&!(I.id||I.id===0)&&(I.id=I.li_attr.id.toString()),I.id||I.id===0||(I.id=qe),I.li_attr.id||(I.li_attr.id=I.id),b&&typeof b.a_attr=="object")for(X in b.a_attr)b.a_attr.hasOwnProperty(X)&&(I.a_attr[X]=b.a_attr[X]);if(b&&b.children&&b.children.length){for(X=0,lt=b.children.length;X<lt;X++)Re=Ze(b.children[X],I.id,ge),be=U[Re],I.children.push(Re),be.children_d.length&&(I.children_d=I.children_d.concat(be.children_d));I.children_d=I.children_d.concat(I.children)}return b&&b.children&&b.children===!0&&(I.state.loaded=!1,I.children=[],I.children_d=[]),delete b.data,delete b.children,I.original=b,U[I.id]=I,I.state.selected&&O.push(I.id),I.id};if(x.length&&x[0].id!==v&&x[0].parent!==v){for($=0,he=x.length;$<he;$++)x[$].children||(x[$].children=[]),x[$].state||(x[$].state={}),U[x[$].id.toString()]=x[$];for($=0,he=x.length;$<he;$++){if(!U[x[$].parent.toString()]){typeof d<"u"&&(d._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:x[$].id.toString(),parent:x[$].parent.toString()})},d.settings.core.error.call(d,d._data.core.last_error));continue}U[x[$].parent.toString()].children.push(x[$].id.toString()),ce.children_d.push(x[$].id.toString())}for($=0,he=ce.children.length;$<he;$++)ve=Ae(U[ce.children[$]],S,ce.parents.concat()),j.push(ve),U[ve].children_d.length&&(j=j.concat(U[ve].children_d));for($=0,he=ce.parents.length;$<he;$++)U[ce.parents[$]].children_d=U[ce.parents[$]].children_d.concat(j);Ce={cnt:re,mod:U,sel:Se,par:S,dpc:j,add:O}}else{for($=0,he=x.length;$<he;$++)ve=Ze(x[$],S,ce.parents.concat()),ve&&(N.push(ve),j.push(ve),U[ve].children_d.length&&(j=j.concat(U[ve].children_d)));for(ce.children=N,ce.children_d=j,$=0,he=ce.parents.length;$<he;$++)U[ce.parents[$]].children_d=U[ce.parents[$]].children_d.concat(j);Ce={cnt:re,mod:U,sel:Se,par:S,dpc:j,add:O}}if(typeof window>"u"||typeof window.document>"u")postMessage(Ce);else return Ce},p=function(m,v){if(this.element!==null){this._cnt=m.cnt;var x,S=this._model.data;for(x in S)S.hasOwnProperty(x)&&S[x].state&&S[x].state.loading&&m.mod[x]&&(m.mod[x].state.loading=!0);if(this._model.data=m.mod,v){var N,j=m.add,O=m.sel,D=this._data.core.selected.slice();if(S=this._model.data,O.length!==D.length||f.vakata.array_unique(O.concat(D)).length!==O.length){for(x=0,N=O.length;x<N;x++)f.inArray(O[x],j)===-1&&f.inArray(O[x],D)===-1&&(S[O[x]].state.selected=!1);for(x=0,N=D.length;x<N;x++)f.inArray(D[x],O)===-1&&(S[D[x]].state.selected=!0)}}m.add.length&&(this._data.core.selected=this._data.core.selected.concat(m.add)),this.trigger("model",{nodes:m.dpc,parent:m.par}),m.par!==f.jstree.root?(this._node_changed(m.par),this.redraw()):this.redraw(!0),m.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!v&&ot?ot(function(){r.call(d,!0)}):r.call(d,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{this._wrk===null&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+g.toString()],{type:"text/javascript"}))),!this._data.core.working||s?(this._data.core.working=!0,a=new window.Worker(this._wrk),a.onmessage=(function(m){p.call(this,m.data,!0);try{a.terminate(),a=null}catch{}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),a.onerror=(function(m){p.call(this,g(i),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),i.par?a.postMessage(i):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,o,r,!0])}catch{p.call(this,g(i),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else p.call(this,g(i),!1)}},_parse_model_from_html:function(e,o,r){r?r=[].concat(r):r=[],o&&r.unshift(o);var s,a,i=this._model.data,d={id:!1,text:!1,icon:!0,parent:o,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},g,p,m;for(g in this._model.default_state)this._model.default_state.hasOwnProperty(g)&&(d.state[g]=this._model.default_state[g]);if(p=f.vakata.attributes(e,!0),f.each(p,function(v,x){if(x=f.vakata.trim(x),!x.length)return!0;d.li_attr[v]=x,v==="id"&&(d.id=x.toString())}),p=e.children("a").first(),p.length&&(p=f.vakata.attributes(p,!0),f.each(p,function(v,x){x=f.vakata.trim(x),x.length&&(d.a_attr[v]=x)})),p=e.children("a").first().length?e.children("a").first().clone():e.clone(),p.children("ins, i, ul").remove(),p=p.html(),p=f("<div></div>").html(p),d.text=this.settings.core.force_text?p.text():p.html(),p=e.data(),d.data=p?f.extend(!0,{},p):null,d.state.opened=e.hasClass("jstree-open"),d.state.selected=e.children("a").hasClass("jstree-clicked"),d.state.disabled=e.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(g in d.data.jstree)d.data.jstree.hasOwnProperty(g)&&(d.state[g]=d.data.jstree[g]);p=e.children("a").children(".jstree-themeicon"),p.length&&(d.icon=p.hasClass("jstree-themeicon-hidden")?!1:p.attr("rel")),d.state.icon!==R&&(d.icon=d.state.icon),(d.icon===R||d.icon===null||d.icon==="")&&(d.icon=!0),p=e.children("ul").children("li");do m="j"+this._id+"_"+ ++this._cnt;while(i[m]);return d.id=d.li_attr.id?d.li_attr.id.toString():m,p.length?(p.each((function(v,x){s=this._parse_model_from_html(f(x),d.id,r),a=this._model.data[s],d.children.push(s),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d))}).bind(this)),d.children_d=d.children_d.concat(d.children)):e.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr.class&&(d.li_attr.class=d.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),d.a_attr.class&&(d.a_attr.class=d.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),i[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,o,r){r?r=r.concat():r=[],o&&r.unshift(o);var s=e.id.toString(),a=this._model.data,i=this._model.default_state,d,g,p,m,v={id:s,text:e.text||"",icon:e.icon!==R?e.icon:!0,parent:o,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(d in i)i.hasOwnProperty(d)&&(v.state[d]=i[d]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(v.icon=e.data.jstree.icon),(v.icon===R||v.icon===null||v.icon==="")&&(v.icon=!0),e&&e.data&&(v.data=e.data,e.data.jstree))for(d in e.data.jstree)e.data.jstree.hasOwnProperty(d)&&(v.state[d]=e.data.jstree[d]);if(e&&typeof e.state=="object")for(d in e.state)e.state.hasOwnProperty(d)&&(v.state[d]=e.state[d]);if(e&&typeof e.li_attr=="object")for(d in e.li_attr)e.li_attr.hasOwnProperty(d)&&(v.li_attr[d]=e.li_attr[d]);if(v.li_attr.id||(v.li_attr.id=s),e&&typeof e.a_attr=="object")for(d in e.a_attr)e.a_attr.hasOwnProperty(d)&&(v.a_attr[d]=e.a_attr[d]);for(e&&e.children&&e.children===!0&&(v.state.loaded=!1,v.children=[],v.children_d=[]),a[v.id]=v,d=0,g=v.children.length;d<g;d++)p=this._parse_model_from_flat_json(a[v.children[d]],v.id,r),m=a[p],v.children_d.push(p),m.children_d.length&&(v.children_d=v.children_d.concat(m.children_d));return delete e.data,delete e.children,a[v.id].original=e,v.state.selected&&this._data.core.selected.push(v.id),v.id},_parse_model_from_json:function(e,o,r){r?r=r.concat():r=[],o&&r.unshift(o);var s=!1,a,i,d,g,p=this._model.data,m=this._model.default_state,v;do s="j"+this._id+"_"+ ++this._cnt;while(p[s]);v={id:!1,text:typeof e=="string"?e:"",icon:typeof e=="object"&&e.icon!==R?e.icon:!0,parent:o,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in m)m.hasOwnProperty(a)&&(v.state[a]=m[a]);if(e&&(e.id||e.id===0)&&(v.id=e.id.toString()),e&&e.text&&(v.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(v.icon=e.data.jstree.icon),(v.icon===R||v.icon===null||v.icon==="")&&(v.icon=!0),e&&e.data&&(v.data=e.data,e.data.jstree))for(a in e.data.jstree)e.data.jstree.hasOwnProperty(a)&&(v.state[a]=e.data.jstree[a]);if(e&&typeof e.state=="object")for(a in e.state)e.state.hasOwnProperty(a)&&(v.state[a]=e.state[a]);if(e&&typeof e.li_attr=="object")for(a in e.li_attr)e.li_attr.hasOwnProperty(a)&&(v.li_attr[a]=e.li_attr[a]);if(v.li_attr.id&&!(v.id||v.id===0)&&(v.id=v.li_attr.id.toString()),v.id||v.id===0||(v.id=s),v.li_attr.id||(v.li_attr.id=v.id),e&&typeof e.a_attr=="object")for(a in e.a_attr)e.a_attr.hasOwnProperty(a)&&(v.a_attr[a]=e.a_attr[a]);if(e&&e.children&&e.children.length){for(a=0,i=e.children.length;a<i;a++)d=this._parse_model_from_json(e.children[a],v.id,r),g=p[d],v.children.push(d),g.children_d.length&&(v.children_d=v.children_d.concat(g.children_d));v.children_d=v.children.concat(v.children_d)}return e&&e.children&&e.children===!0&&(v.state.loaded=!1,v.children=[],v.children_d=[]),delete e.data,delete e.children,v.original=e,p[v.id]=v,v.state.selected&&this._data.core.selected.push(v.id),v.id},_redraw:function(){var e=this._model.force_full_redraw?this._model.data[f.jstree.root].children.concat([]):this._model.changed.concat([]),o=Q.createElement("UL"),r,s,a,i=this._data.core.focused;for(s=0,a=e.length;s<a;s++)r=this.redraw_node(e[s],!0,this._model.force_full_redraw),r&&this._model.force_full_redraw&&o.appendChild(r);this._model.force_full_redraw&&(o.className=this.get_container_ul()[0].className,o.setAttribute("role","presentation"),this.element.empty().append(o)),i!==null&&this.settings.core.restore_focus&&(r=this.get_node(i,!0),r&&r.length&&r.children(".jstree-anchor")[0]!==Q.activeElement?r.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:e})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var o=this.get_node(e),r=!1,s=!1,a=!1,i=Q;if(!o)return!1;if(o.id===f.jstree.root)return this.redraw(!0);if(e=this.get_node(e,!0),!e||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],o.children.length&&o.state.loaded){for(a=i.createElement("UL"),a.setAttribute("role","group"),a.className="jstree-children",r=0,s=o.children.length;r<s;r++)a.appendChild(this.redraw_node(o.children[r],!0,!0));e.appendChild(a)}},redraw_node:function(e,o,r,s){var a=this.get_node(e),i=!1,d=!1,g=!1,p=!1,m=!1,v=!1,x="",S=Q,N=this._model.data,j=!1,O=null,D=0,G=0,re=!1,U=!1;if(!a)return!1;if(a.id===f.jstree.root)return this.redraw(!0);if(o=o||a.children.length===0,e=Q.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(a.id[0])!==-1?"\\3"+a.id[0]+" "+a.id.substr(1).replace(f.jstree.idregex,"\\$&"):a.id.replace(f.jstree.idregex,"\\$&"))):Q.getElementById(a.id),e)e=f(e),r||(i=e.parent().parent()[0],i===this.element[0]&&(i=null),d=e.index()),!o&&a.children.length&&!e.children(".jstree-children").length&&(o=!0),o||(g=e.children(".jstree-children")[0]),j=e.children(".jstree-anchor")[0]===Q.activeElement,e.remove();else if(o=!0,!r){if(i=a.parent!==f.jstree.root?f("#"+a.parent.replace(f.jstree.idregex,"\\$&"),this.element)[0]:null,i!==null&&(!i||!N[a.parent].state.opened))return!1;d=f.inArray(a.id,i===null?N[f.jstree.root].children:N[a.parent].children)}e=this._data.core.node.cloneNode(!0),x="jstree-node ";for(p in a.li_attr)if(a.li_attr.hasOwnProperty(p)){if(p==="id")continue;p!=="class"?e.setAttribute(p,a.li_attr[p]):x+=a.li_attr[p]}for(a.a_attr.id||(a.a_attr.id=a.id+"_anchor"),e.childNodes[1].setAttribute("aria-selected",!!a.state.selected),e.childNodes[1].setAttribute("aria-level",a.parents.length),this.settings.core.compute_elements_positions&&(e.childNodes[1].setAttribute("aria-setsize",N[a.parent].children.length),e.childNodes[1].setAttribute("aria-posinset",N[a.parent].children.indexOf(a.id)+1)),a.state.disabled&&e.childNodes[1].setAttribute("aria-disabled",!0),p=0,m=a.children.length;p<m;p++)if(!N[a.children[p]].state.hidden){re=!0;break}if(a.parent!==null&&N[a.parent]&&!a.state.hidden&&(p=f.inArray(a.id,N[a.parent].children),U=a.id,p!==-1))for(p++,m=N[a.parent].children.length;p<m&&(N[N[a.parent].children[p]].state.hidden||(U=N[a.parent].children[p]),U===a.id);p++);a.state.hidden&&(x+=" jstree-hidden"),a.state.loading&&(x+=" jstree-loading"),a.state.loaded&&!re?x+=" jstree-leaf":(x+=a.state.opened&&a.state.loaded?" jstree-open":" jstree-closed",e.childNodes[1].setAttribute("aria-expanded",a.state.opened&&a.state.loaded)),U===a.id&&(x+=" jstree-last"),e.id=a.id,e.className=x,x=(a.state.selected?" jstree-clicked":"")+(a.state.disabled?" jstree-disabled":"");for(m in a.a_attr)if(a.a_attr.hasOwnProperty(m)){if(m==="href"&&a.a_attr[m]==="#")continue;m!=="class"?e.childNodes[1].setAttribute(m,a.a_attr[m]):x+=" "+a.a_attr[m]}if(x.length&&(e.childNodes[1].className="jstree-anchor "+x),(a.icon&&a.icon!==!0||a.icon===!1)&&(a.icon===!1?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":a.icon.indexOf("/")===-1&&a.icon.indexOf(".")===-1?e.childNodes[1].childNodes[0].className+=" "+a.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage='url("'+a.icon+'")',e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(S.createTextNode(a.text)):e.childNodes[1].innerHTML+=a.text,o&&a.children.length&&(a.state.opened||s)&&a.state.loaded){for(v=S.createElement("UL"),v.setAttribute("role","group"),v.className="jstree-children",p=0,m=a.children.length;p<m;p++)v.appendChild(this.redraw_node(a.children[p],o,!0));e.appendChild(v)}if(g&&e.appendChild(g),!r){for(i||(i=this.element[0]),p=0,m=i.childNodes.length;p<m;p++)if(i.childNodes[p]&&i.childNodes[p].className&&i.childNodes[p].className.indexOf("jstree-children")!==-1){O=i.childNodes[p];break}O||(O=S.createElement("UL"),O.setAttribute("role","group"),O.className="jstree-children",i.appendChild(O)),i=O,d<i.childNodes.length?i.insertBefore(e,i.childNodes[d]):i.appendChild(e),j&&(D=this.element[0].scrollTop,G=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=D,this.element[0].scrollLeft=G)}return a.state.opened&&!a.state.loaded&&(a.state.opened=!1,setTimeout((function(){this.open_node(a.id,!1,0)}).bind(this),0)),e},open_node:function(e,o,r){var s,a,i,d;if(f.vakata.is_array(e)){for(e=e.slice(),s=0,a=e.length;s<a;s++)this.open_node(e[s],o,r);return!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;if(r=r===R?this.settings.core.animation:r,!this.is_closed(e))return o&&o.call(this,e,!1),!1;if(this.is_loaded(e))return i=this.get_node(e,!0),d=this,i.length&&(r&&i.children(".jstree-children").length&&i.children(".jstree-children").stop(!0,!0),e.children.length&&!this._firstChild(i.children(".jstree-children")[0])&&this.draw_children(e),r?(this.trigger("before_open",{node:e}),i.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",d.element&&d.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),i[0].className=i[0].className.replace("jstree-closed","jstree-open"),i[0].childNodes[1].setAttribute("aria-expanded",!0))),e.state.opened=!0,o&&o.call(this,e,!0),i.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),(!r||!i.length)&&this.trigger("after_open",{node:e}),!0;if(this.is_loading(e))return setTimeout((function(){this.open_node(e,o,r)}).bind(this),500);this.load_node(e,function(g,p){return p?this.open_node(g,o,r):o?o.call(this,g,!1):!1})},_open_to:function(e){if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;var o,r,s=e.parents;for(o=0,r=s.length;o<r;o+=1)o!==f.jstree.root&&this.open_node(s[o],!1,0);return f("#"+e.id.replace(f.jstree.idregex,"\\$&"),this.element)},close_node:function(e,o){var r,s,a,i;if(f.vakata.is_array(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.close_node(e[r],o);return!0}if(e=this.get_node(e),!e||e.id===f.jstree.root||this.is_closed(e))return!1;o=o===R?this.settings.core.animation:o,a=this,i=this.get_node(e,!0),e.state.opened=!1,this.trigger("close_node",{node:e}),i.length?o?i.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(o,function(){this.style.display="",i.children(".jstree-children").remove(),a.element&&a.trigger("after_close",{node:e})}):(i[0].className=i[0].className.replace("jstree-open","jstree-closed"),i.children(".jstree-anchor").attr("aria-expanded",!1),i.children(".jstree-children").remove(),this.trigger("after_close",{node:e})):this.trigger("after_close",{node:e})},toggle_node:function(e){var o,r;if(f.vakata.is_array(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.toggle_node(e[o]);return!0}if(this.is_closed(e))return this.open_node(e);if(this.is_open(e))return this.close_node(e)},open_all:function(e,o,r){if(e||(e=f.jstree.root),e=this.get_node(e),!e)return!1;var s=e.id===f.jstree.root?this.get_container_ul():this.get_node(e,!0),a,i,d;if(!s.length){for(a=0,i=e.children_d.length;a<i;a++)this.is_closed(this._model.data[e.children_d[a]])&&(this._model.data[e.children_d[a]].state.opened=!0);return this.trigger("open_all",{node:e})}r=r||s,d=this,s=this.is_closed(e)?s.find(".jstree-closed").addBack():s.find(".jstree-closed"),s.each(function(){d.open_node(this,function(g,p){p&&this.is_parent(g)&&this.open_all(g,o,r)},o||0)}),r.find(".jstree-closed").length===0&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(e,o){if(e||(e=f.jstree.root),e=this.get_node(e),!e)return!1;var r=e.id===f.jstree.root?this.get_container_ul():this.get_node(e,!0),s=this,a,i;for(r.length&&(r=this.is_open(e)?r.find(".jstree-open").addBack():r.find(".jstree-open"),f(r.get().reverse()).each(function(){s.close_node(this,o||0)})),a=0,i=e.children_d.length;a<i;a++)this._model.data[e.children_d[a]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(e){var o,r;if(f.vakata.is_array(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.enable_node(e[o]);return!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:e})},disable_node:function(e){var o,r;if(f.vakata.is_array(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.disable_node(e[o]);return!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:e})},is_hidden:function(e){return e=this.get_node(e),e.state.hidden===!0},hide_node:function(e,o){var r,s;if(f.vakata.is_array(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.hide_node(e[r],!0);return o||this.redraw(),!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;e.state.hidden||(e.state.hidden=!0,this._node_changed(e.parent),o||this.redraw(),this.trigger("hide_node",{node:e}))},show_node:function(e,o){var r,s;if(f.vakata.is_array(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.show_node(e[r],!0);return o||this.redraw(),!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;e.state.hidden&&(e.state.hidden=!1,this._node_changed(e.parent),o||this.redraw(),this.trigger("show_node",{node:e}))},hide_all:function(e){var o,r=this._model.data,s=[];for(o in r)r.hasOwnProperty(o)&&o!==f.jstree.root&&!r[o].state.hidden&&(r[o].state.hidden=!0,s.push(o));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("hide_all",{nodes:s}),s},show_all:function(e){var o,r=this._model.data,s=[];for(o in r)r.hasOwnProperty(o)&&o!==f.jstree.root&&r[o].state.hidden&&(r[o].state.hidden=!1,s.push(o));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("show_all",{nodes:s}),s},activate_node:function(e,o){if(this.is_disabled(e))return!1;if((!o||typeof o!="object")&&(o={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==R?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),!this.settings.core.multiple||!o.metaKey&&!o.ctrlKey&&!o.shiftKey||o.shiftKey&&(!this._data.core.last_clicked||!this.get_parent(e)||this.get_parent(e)!==this._data.core.last_clicked.parent))!this.settings.core.multiple&&(o.metaKey||o.ctrlKey||o.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,o):((this.settings.core.allow_reselect||!this.is_selected(e)||this._data.core.selected.length!==1)&&(this.deselect_all(!0),this.select_node(e,!1,!1,o)),this._data.core.last_clicked=this.get_node(e));else if(o.shiftKey){var r=this.get_node(e).id,s=this._data.core.last_clicked.id,a=this.get_node(this._data.core.last_clicked.parent).children,i=!1,d,g;for(d=0,g=a.length;d<g;d+=1)a[d]===r&&(i=!i),a[d]===s&&(i=!i),!this.is_disabled(a[d])&&(i||a[d]===r||a[d]===s)?this.is_hidden(a[d])||this.select_node(a[d],!0,!1,o):o.ctrlKey||this.deselect_node(a[d],!0,o);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:o})}else this.is_selected(e)?this.deselect_node(e,!1,o):(o.ctrlKey&&(this._data.core.last_clicked=this.get_node(e)),this.select_node(e,!1,!1,o));this.trigger("activate_node",{node:this.get_node(e),event:o})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var o=this.element.find(".jstree-hovered"),r=this.element;o&&o.length&&this.dehover_node(o),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){r.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(e,o,r,s){var a,i,d;if(f.vakata.is_array(e)){for(e=e.slice(),i=0,d=e.length;i<d;i++)this.select_node(e[i],o,r,s);return!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;a=this.get_node(e,!0),e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),r||(a=this._open_to(e)),a&&a.length&&a.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:s}),o||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:s}))},deselect_node:function(e,o,r){var s,a,i;if(f.vakata.is_array(e)){for(e=e.slice(),s=0,a=e.length;s<a;s++)this.deselect_node(e[s],o,r);return!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;i=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=f.vakata.array_remove_item(this._data.core.selected,e.id),i.length&&i.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:r}),o||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:r}))},select_all:function(e){var o=this._data.core.selected.concat([]),r,s;for(this._data.core.selected=this._model.data[f.jstree.root].children_d.concat(),r=0,s=this._data.core.selected.length;r<s;r++)this._model.data[this._data.core.selected[r]]&&(this._model.data[this._data.core.selected[r]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:o})},deselect_all:function(e){var o=this._data.core.selected.concat([]),r,s;for(r=0,s=this._data.core.selected.length;r<s;r++)this._model.data[this._data.core.selected[r]]&&(this._model.data[this._data.core.selected[r]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:o}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:o})},is_selected:function(e){return e=this.get_node(e),!e||e.id===f.jstree.root?!1:e.state.selected},get_selected:function(e){return e?f.map(this._data.core.selected,(function(o){return this.get_node(o)}).bind(this)):this._data.core.selected.slice()},get_top_selected:function(e){var o=this.get_selected(!0),r={},s,a,i,d;for(s=0,a=o.length;s<a;s++)r[o[s].id]=o[s];for(s=0,a=o.length;s<a;s++)for(i=0,d=o[s].children_d.length;i<d;i++)r[o[s].children_d[i]]&&delete r[o[s].children_d[i]];o=[];for(s in r)r.hasOwnProperty(s)&&o.push(s);return e?f.map(o,(function(g){return this.get_node(g)}).bind(this)):o},get_bottom_selected:function(e){var o=this.get_selected(!0),r=[],s,a;for(s=0,a=o.length;s<a;s++)o[s].children.length||r.push(o[s].id);return e?f.map(r,(function(i){return this.get_node(i)}).bind(this)):r},get_state:function(){var e={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},o;for(o in this._model.data)this._model.data.hasOwnProperty(o)&&o!==f.jstree.root&&(this._model.data[o].state.loaded&&this.settings.core.loaded_state&&e.core.loaded.push(o),this._model.data[o].state.opened&&e.core.open.push(o),this._model.data[o].state.selected&&e.core.selected.push(o));return e},set_state:function(e,o){if(e){if(e.core&&e.core.selected&&e.core.initial_selection===R&&(e.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),e.core){var r,s;if(e.core.loaded)return!this.settings.core.loaded_state||!f.vakata.is_array(e.core.loaded)||!e.core.loaded.length?(delete e.core.loaded,this.set_state(e,o)):this._load_nodes(e.core.loaded,function(a){delete e.core.loaded,this.set_state(e,o)}),!1;if(e.core.open)return!f.vakata.is_array(e.core.open)||!e.core.open.length?(delete e.core.open,this.set_state(e,o)):this._load_nodes(e.core.open,function(a){this.open_node(a,!1,0),delete e.core.open,this.set_state(e,o)}),!1;if(e.core.scroll)return e.core.scroll&&e.core.scroll.left!==R&&this.element.scrollLeft(e.core.scroll.left),e.core.scroll&&e.core.scroll.top!==R&&this.element.scrollTop(e.core.scroll.top),delete e.core.scroll,this.set_state(e,o),!1;if(e.core.selected)return r=this,(e.core.initial_selection===R||e.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),f.each(e.core.selected,function(a,i){r.select_node(i,!1,!0)})),delete e.core.initial_selection,delete e.core.selected,this.set_state(e,o),!1;for(s in e)e.hasOwnProperty(s)&&s!=="core"&&f.inArray(s,this.settings.plugins)===-1&&delete e[s];if(f.isEmptyObject(e.core))return delete e.core,this.set_state(e,o),!1}return f.isEmptyObject(e)?(e=null,o&&o.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(e,o){this._data.core.state=o===!0?{}:this.get_state(),o&&f.vakata.is_function(o)&&(this._data.core.state=o.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[f.jstree.root]={id:f.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(f.jstree.root,function(s,a){a&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(f.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(e){if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;var o=[],r=[],s=this._data.core.selected.concat([]);r.push(e.id),e.state.opened===!0&&o.push(e.id),this.get_node(e,!0).find(".jstree-open").each(function(){r.push(this.id),o.push(this.id)}),this._load_nodes(r,(function(a){this.open_node(o,!1,0),this.select_node(s),this.trigger("refresh_node",{node:e,nodes:a})}).bind(this),!1,!0)},set_id:function(e,o){if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;var r,s,a=this._model.data,i=e.id;for(o=o.toString(),a[e.parent].children[f.inArray(e.id,a[e.parent].children)]=o,r=0,s=e.parents.length;r<s;r++)a[e.parents[r]].children_d[f.inArray(e.id,a[e.parents[r]].children_d)]=o;for(r=0,s=e.children.length;r<s;r++)a[e.children[r]].parent=o;for(r=0,s=e.children_d.length;r<s;r++)a[e.children_d[r]].parents[f.inArray(e.id,a[e.children_d[r]].parents)]=o;return r=f.inArray(e.id,this._data.core.selected),r!==-1&&(this._data.core.selected[r]=o),r=this.get_node(e.id,!0),r&&(r.attr("id",o),this.element.attr("aria-activedescendant")===e.id&&this.element.attr("aria-activedescendant",o)),delete a[e.id],e.id=o,e.li_attr.id=o,a[o]=e,this.trigger("set_id",{node:e,new:e.id,old:i}),!0},get_text:function(e){return e=this.get_node(e),!e||e.id===f.jstree.root?!1:e.text},set_text:function(e,o){var r,s;if(f.vakata.is_array(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.set_text(e[r],o);return!0}return e=this.get_node(e),!e||e.id===f.jstree.root?!1:(e.text=o,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:o}),!0)},get_json:function(e,o,r){if(e=this.get_node(e||f.jstree.root),!e)return!1;o&&o.flat&&!r&&(r=[]);var s={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:f.extend(!0,{},e.li_attr),a_attr:f.extend(!0,{},e.a_attr),state:{},data:o&&o.no_data?!1:f.extend(!0,f.vakata.is_array(e.data)?[]:{},e.data)},a,i;if(o&&o.flat?s.parent=e.parent:s.children=[],!o||!o.no_state)for(a in e.state)e.state.hasOwnProperty(a)&&(s.state[a]=e.state[a]);else delete s.state;if(o&&o.no_li_attr&&delete s.li_attr,o&&o.no_a_attr&&delete s.a_attr,o&&o.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),o&&o.flat&&e.id!==f.jstree.root&&r.push(s),!o||!o.no_children)for(a=0,i=e.children.length;a<i;a++)o&&o.flat?this.get_json(e.children[a],o,r):s.children.push(this.get_json(e.children[a],o));return o&&o.flat?r:e.id===f.jstree.root?s.children:s},create_node:function(e,o,r,s,a){if(e===null&&(e=f.jstree.root),e=this.get_node(e),!e)return!1;if(r=r===R?"last":r,!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(e))return this.load_node(e,function(){this.create_node(e,o,r,s,!0)});o||(o={text:this.get_string("New node")}),typeof o=="string"?o={text:o}:o=f.extend(!0,{},o),o.text===R&&(o.text=this.get_string("New node"));var i,d,g,p;switch(e.id===f.jstree.root&&(r==="before"&&(r="first"),r==="after"&&(r="last")),r){case"before":i=this.get_node(e.parent),r=f.inArray(e.id,i.children),e=i;break;case"after":i=this.get_node(e.parent),r=f.inArray(e.id,i.children)+1,e=i;break;case"inside":case"first":r=0;break;case"last":r=e.children.length;break;default:r||(r=0);break}if(r>e.children.length&&(r=e.children.length),o.id===R&&(o.id=!0),!this.check("create_node",o,e,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(o.id===!0&&delete o.id,o=this._parse_model_from_json(o,e.id,e.parents.concat()),!o)return!1;for(i=this.get_node(o),d=[],d.push(o),d=d.concat(i.children_d),this.trigger("model",{nodes:d,parent:e.id}),e.children_d=e.children_d.concat(d),g=0,p=e.parents.length;g<p;g++)this._model.data[e.parents[g]].children_d=this._model.data[e.parents[g]].children_d.concat(d);for(o=i,i=[],g=0,p=e.children.length;g<p;g++)i[g>=r?g+1:g]=e.children[g];return i[r]=o.id,e.children=i,this.redraw_node(e,!0),this.trigger("create_node",{node:this.get_node(o),parent:e.id,position:r}),s&&s.call(this,this.get_node(o)),o.id},rename_node:function(e,o){var r,s,a;if(f.vakata.is_array(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.rename_node(e[r],o);return!0}return e=this.get_node(e),!e||e.id===f.jstree.root?!1:(a=e.text,this.check("rename_node",e,this.get_parent(e),o)?(this.set_text(e,o),this.trigger("rename_node",{node:e,text:o,old:a}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(e){var o,r,s,a,i,d,g,p,m,v,x,S;if(f.vakata.is_array(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.delete_node(e[o]);return!0}if(e=this.get_node(e),!e||e.id===f.jstree.root)return!1;if(s=this.get_node(e.parent),a=f.inArray(e.id,s.children),v=!1,!this.check("delete_node",e,s,a))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(a!==-1&&(s.children=f.vakata.array_remove(s.children,a)),i=e.children_d.concat([]),i.push(e.id),d=0,g=e.parents.length;d<g;d++)this._model.data[e.parents[d]].children_d=f.vakata.array_filter(this._model.data[e.parents[d]].children_d,function(N){return f.inArray(N,i)===-1});for(p=0,m=i.length;p<m;p++)if(this._model.data[i[p]].state.selected){v=!0;break}for(v&&(this._data.core.selected=f.vakata.array_filter(this._data.core.selected,function(N){return f.inArray(N,i)===-1})),this.trigger("delete_node",{node:e,parent:s.id}),v&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:s.id}),p=0,m=i.length;p<m;p++)delete this._model.data[i[p]];return f.inArray(this._data.core.focused,i)!==-1&&(this._data.core.focused=null,x=this.element[0].scrollTop,S=this.element[0].scrollLeft,s.id===f.jstree.root?this._model.data[f.jstree.root].children[0]&&this.get_node(this._model.data[f.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(s,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=x,this.element[0].scrollLeft=S),this.redraw_node(s,!0),!0},check:function(e,o,r,s,a){o=o&&o.id?o:this.get_node(o),r=r&&r.id?r:this.get_node(r);var i=e.match(/^(move_node|copy_node|create_node)$/i)?r:o,d=this.settings.core.check_callback;if(e==="move_node"||e==="copy_node"){if((!a||!a.is_multi)&&e==="move_node"&&f.inArray(o.id,r.children)===s)return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})},!1;if((!a||!a.is_multi)&&(o.id===r.id||e==="move_node"&&f.inArray(o.id,r.children)===s||f.inArray(r.id,o.children_d)!==-1))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})},!1}return i&&i.data&&(i=i.data),i&&i.functions&&(i.functions[e]===!1||i.functions[e]===!0)?(i.functions[e]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})}),i.functions[e]):d===!1||f.vakata.is_function(d)&&d.call(this,e,o,r,s,a)===!1||d&&d[e]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})},!1):!0},last_error:function(){return this._data.core.last_error},move_node:function(e,o,r,s,a,i,d){var g,p,m,v,x,S,N,j,O,D,G,re,U,ce;if(o=this.get_node(o),r=r===R?0:r,!o)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(o))return this.load_node(o,function(){this.move_node(e,o,r,s,!0,!1,d)});if(f.vakata.is_array(e))if(e.length===1)e=e[0];else{for(g=0,p=e.length;g<p;g++)(O=this.move_node(e[g],o,r,s,a,!1,d))&&(o=O,r="after");return this.redraw(),!0}if(e=e&&e.id!==R?e:this.get_node(e),!e||e.id===f.jstree.root)return!1;if(m=(e.parent||f.jstree.root).toString(),x=!r.toString().match(/^(before|after)$/)||o.id===f.jstree.root?o:this.get_node(o.parent),S=d||(this._model.data[e.id]?this:f.jstree.reference(e.id)),N=!S||!S._id||this._id!==S._id,v=S&&S._id&&m&&S._model.data[m]&&S._model.data[m].children?f.inArray(e.id,S._model.data[m].children):-1,S&&S._id&&(e=S._model.data[e.id]),N)return(O=this.copy_node(e,o,r,s,a,!1,d))?(S&&S.delete_node(e),O):!1;switch(o.id===f.jstree.root&&(r==="before"&&(r="first"),r==="after"&&(r="last")),r){case"before":r=f.inArray(o.id,x.children);break;case"after":r=f.inArray(o.id,x.children)+1;break;case"inside":case"first":r=0;break;case"last":r=x.children.length;break;default:r||(r=0);break}if(r>x.children.length&&(r=x.children.length),!this.check("move_node",e,x,r,{core:!0,origin:d,is_multi:S&&S._id&&S._id!==this._id,is_foreign:!S||!S._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(e.parent===x.id){for(j=x.children.concat(),O=f.inArray(e.id,j),O!==-1&&(j=f.vakata.array_remove(j,O),r>O&&r--),O=[],D=0,G=j.length;D<G;D++)O[D>=r?D+1:D]=j[D];O[r]=e.id,x.children=O,this._node_changed(x.id),this.redraw(x.id===f.jstree.root)}else{for(O=e.children_d.concat(),O.push(e.id),D=0,G=e.parents.length;D<G;D++){for(j=[],ce=S._model.data[e.parents[D]].children_d,re=0,U=ce.length;re<U;re++)f.inArray(ce[re],O)===-1&&j.push(ce[re]);S._model.data[e.parents[D]].children_d=j}for(S._model.data[m].children=f.vakata.array_remove_item(S._model.data[m].children,e.id),D=0,G=x.parents.length;D<G;D++)this._model.data[x.parents[D]].children_d=this._model.data[x.parents[D]].children_d.concat(O);for(j=[],D=0,G=x.children.length;D<G;D++)j[D>=r?D+1:D]=x.children[D];for(j[r]=e.id,x.children=j,x.children_d.push(e.id),x.children_d=x.children_d.concat(e.children_d),e.parent=x.id,O=x.parents.concat(),O.unshift(x.id),ce=e.parents.length,e.parents=O,O=O.concat(),D=0,G=e.children_d.length;D<G;D++)this._model.data[e.children_d[D]].parents=this._model.data[e.children_d[D]].parents.slice(0,ce*-1),Array.prototype.push.apply(this._model.data[e.children_d[D]].parents,O);(m===f.jstree.root||x.id===f.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(m),this._node_changed(x.id)),i||this.redraw()}return s&&s.call(this,e,x,r),this.trigger("move_node",{node:e,parent:x.id,position:r,old_parent:m,old_position:v,is_multi:S&&S._id&&S._id!==this._id,is_foreign:!S||!S._id,old_instance:S,new_instance:this}),e.id},copy_node:function(e,o,r,s,a,i,d){var g,p,m,v,x,S,N,j,O,D;if(o=this.get_node(o),r=r===R?0:r,!o)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(o))return this.load_node(o,function(){this.copy_node(e,o,r,s,!0,!1,d)});if(f.vakata.is_array(e))if(e.length===1)e=e[0];else{for(g=0,p=e.length;g<p;g++)(v=this.copy_node(e[g],o,r,s,a,!0,d))&&(o=v,r="after");return this.redraw(),!0}if(e=e&&e.id!==R?e:this.get_node(e),!e||e.id===f.jstree.root)return!1;switch(j=(e.parent||f.jstree.root).toString(),O=!r.toString().match(/^(before|after)$/)||o.id===f.jstree.root?o:this.get_node(o.parent),D=d||(this._model.data[e.id]?this:f.jstree.reference(e.id)),!D||!D._id||(this._id,D._id),D&&D._id&&(e=D._model.data[e.id]),o.id===f.jstree.root&&(r==="before"&&(r="first"),r==="after"&&(r="last")),r){case"before":r=f.inArray(o.id,O.children);break;case"after":r=f.inArray(o.id,O.children)+1;break;case"inside":case"first":r=0;break;case"last":r=O.children.length;break;default:r||(r=0);break}if(r>O.children.length&&(r=O.children.length),!this.check("copy_node",e,O,r,{core:!0,origin:d,is_multi:D&&D._id&&D._id!==this._id,is_foreign:!D||!D._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(N=D?D.get_json(e,{no_id:!0,no_data:!0,no_state:!0}):e,!N||(N.id===!0&&delete N.id,N=this._parse_model_from_json(N,O.id,O.parents.concat()),!N))return!1;for(v=this.get_node(N),e&&e.state&&e.state.loaded===!1&&(v.state.loaded=!1),m=[],m.push(N),m=m.concat(v.children_d),this.trigger("model",{nodes:m,parent:O.id}),x=0,S=O.parents.length;x<S;x++)this._model.data[O.parents[x]].children_d=this._model.data[O.parents[x]].children_d.concat(m);for(m=[],x=0,S=O.children.length;x<S;x++)m[x>=r?x+1:x]=O.children[x];return m[r]=v.id,O.children=m,O.children_d.push(v.id),O.children_d=O.children_d.concat(v.children_d),O.id===f.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(O.id),i||this.redraw(O.id===f.jstree.root),s&&s.call(this,v,O,r),this.trigger("copy_node",{node:v,original:e,parent:O.id,position:r,old_parent:j,old_position:D&&D._id&&j&&D._model.data[j]&&D._model.data[j].children?f.inArray(e.id,D._model.data[j].children):-1,is_multi:D&&D._id&&D._id!==this._id,is_foreign:!D||!D._id,old_instance:D,new_instance:this}),v.id},cut:function(e){if(e||(e=this._data.core.selected.concat()),f.vakata.is_array(e)||(e=[e]),!e.length)return!1;var o=[],r,s,a;for(s=0,a=e.length;s<a;s++)r=this.get_node(e[s]),r&&(r.id||r.id===0)&&r.id!==f.jstree.root&&o.push(r);if(!o.length)return!1;ke=o,Ge=this,fe="move_node",this.trigger("cut",{node:e})},copy:function(e){if(e||(e=this._data.core.selected.concat()),f.vakata.is_array(e)||(e=[e]),!e.length)return!1;var o=[],r,s,a;for(s=0,a=e.length;s<a;s++)r=this.get_node(e[s]),r&&r.id!==R&&r.id!==f.jstree.root&&o.push(r);if(!o.length)return!1;ke=o,Ge=this,fe="copy_node",this.trigger("copy",{node:e})},get_buffer:function(){return{mode:fe,node:ke,inst:Ge}},can_paste:function(){return fe!==!1&&ke!==!1},paste:function(e,o){if(e=this.get_node(e),!e||!fe||!fe.match(/^(copy_node|move_node)$/)||!ke)return!1;this[fe](ke,e,o,!1,!1,!1,Ge)&&this.trigger("paste",{parent:e.id,node:ke,mode:fe}),ke=!1,fe=!1,Ge=!1},clear_buffer:function(){ke=!1,fe=!1,Ge=!1,this.trigger("clear_buffer")},edit:function(e,o,r){var s,a,i,d,g,p,m,v,x,S=!1;if(e=this.get_node(e),!e)return!1;if(!this.check("edit",e,this.get_parent(e)))return this.settings.core.error.call(this,this._data.core.last_error),!1;x=e,o=typeof o=="string"?o:e.text,this.set_text(e,""),e=this._open_to(e),x.text=o,s=this._data.core.rtl,a=this.element.width(),this._data.core.focused=x.id,i=e.children(".jstree-anchor").trigger("focus"),d=f("<span></span>");/*!
oi = obj.children("i:visible"),
ai = a.children("i:visible"),
w1 = oi.width() * oi.length,
w2 = ai.width() * ai.length,
*/g=o,p=f("<div></div>",{css:{position:"absolute",top:"-200px",left:s?"0px":"-1000px",visibility:"hidden"}}).appendTo(Q.body),m=f("<input />",{value:g,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},on:{blur:(function(N){N.stopImmediatePropagation(),N.preventDefault();var j=d.children(".jstree-rename-input"),O=j.val(),D=this.settings.core.force_text,G;O===""&&(O=g),p.remove(),d.replaceWith(i),d.remove(),g=D?g:f("<div></div>").append(f.parseHTML(g)).html(),e=this.get_node(e),this.set_text(e,g),G=!!this.rename_node(e,D?f("<div></div>").text(O).text():f("<div></div>").append(f.parseHTML(O)).html()),G||this.set_text(e,g),this._data.core.focused=x.id,setTimeout((function(){var re=this.get_node(x.id,!0);re.length&&(this._data.core.focused=x.id,re.children(".jstree-anchor").trigger("focus"))}).bind(this),0),r&&r.call(this,x,G,S,O),m=null}).bind(this),keydown:function(N){var j=N.which;j===27&&(S=!0,this.value=g),(j===27||j===13||j===37||j===38||j===39||j===40||j===32)&&N.stopImmediatePropagation(),(j===27||j===13)&&(N.preventDefault(),this.blur())},click:function(N){N.stopImmediatePropagation()},mousedown:function(N){N.stopImmediatePropagation()},keyup:function(N){m.width(Math.min(p.text("pW"+this.value).width(),a))},keypress:function(N){if(N.which===13)return!1}}}),v={fontFamily:i.css("fontFamily")||"",fontSize:i.css("fontSize")||"",fontWeight:i.css("fontWeight")||"",fontStyle:i.css("fontStyle")||"",fontStretch:i.css("fontStretch")||"",fontVariant:i.css("fontVariant")||"",letterSpacing:i.css("letterSpacing")||"",wordSpacing:i.css("wordSpacing")||""},d.attr("class",i.attr("class")).append(i.contents().clone()).append(m),i.replaceWith(d),p.css(v),m.css(v).width(Math.min(p.text("pW"+m[0].value).width(),a))[0].select(),f(Q).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(N){m&&N.target!==m&&f(m).trigger("blur")})},set_theme:function(e,o){if(!e)return!1;if(o===!0){var r=this.settings.core.themes.dir;r||(r=f.jstree.path+"/themes"),o=r+"/"+e+"/style.css"}o&&f.inArray(o,at)===-1&&(f("head").append('<link rel="stylesheet" href="'+o+'" type="text/css" />'),at.push(o)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(e,o){var r,s,a,i;if(f.vakata.is_array(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.set_icon(e[r],o);return!0}return e=this.get_node(e),!e||e.id===f.jstree.root?!1:(i=e.icon,e.icon=o===!0||o===null||o===R||o===""?!0:o,a=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),o===!1?(a.removeClass("jstree-themeicon-custom "+i).css("background","").removeAttr("rel"),this.hide_icon(e)):o===!0||o===null||o===R||o===""?(a.removeClass("jstree-themeicon-custom "+i).css("background","").removeAttr("rel"),i===!1&&this.show_icon(e)):o.indexOf("/")===-1&&o.indexOf(".")===-1?(a.removeClass(i).css("background",""),a.addClass(o+" jstree-themeicon-custom").attr("rel",o),i===!1&&this.show_icon(e)):(a.removeClass(i).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+o+"') center center no-repeat").attr("rel",o),i===!1&&this.show_icon(e)),!0)},get_icon:function(e){return e=this.get_node(e),!e||e.id===f.jstree.root?!1:e.icon},hide_icon:function(e){var o,r;if(f.vakata.is_array(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.hide_icon(e[o]);return!0}return e=this.get_node(e),!e||e===f.jstree.root?!1:(e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(e){var o,r,s;if(f.vakata.is_array(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.show_icon(e[o]);return!0}return e=this.get_node(e),!e||e===f.jstree.root?!1:(s=this.get_node(e,!0),e.icon=s.length?s.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,e.icon||(e.icon=!0),s.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},f.vakata={},f.vakata.attributes=function(e,o){e=f(e)[0];var r=o?{}:[];return e&&e.attributes&&f.each(e.attributes,function(s,a){f.inArray(a.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&a.value!==null&&f.vakata.trim(a.value)!==""&&(o?r[a.name]=a.value:r.push(a.name))}),r},f.vakata.array_unique=function(e){var o=[],r,s,a={};for(r=0,s=e.length;r<s;r++)a[e[r]]===R&&(o.push(e[r]),a[e[r]]=!0);return o},f.vakata.array_remove=function(e,o){return e.splice(o,1),e},f.vakata.array_remove_item=function(e,o){var r=f.inArray(o,e);return r!==-1?f.vakata.array_remove(e,r):e},f.vakata.array_filter=function(e,o,r,s,a){if(e.filter)return e.filter(o,r);s=[];for(a in e)~~a+""==a+""&&a>=0&&o.call(r,e[a],+a,e)&&s.push(e[a]);return s},f.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},f.vakata.is_function=function(e){return typeof e=="function"&&typeof e.nodeType!="number"},f.vakata.is_array=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Function.prototype.bind||(Function.prototype.bind=function(){var e=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1);if(typeof e!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var s=r.concat(Array.prototype.slice.call(arguments));return e.apply(o,s)}}),f.jstree.plugins.changed=function(e,o){var r=[];this.trigger=function(s,a){var i,d;if(a||(a={}),s.replace(".jstree","")==="changed"){a.changed={selected:[],deselected:[]};var g={};for(i=0,d=r.length;i<d;i++)g[r[i]]=1;for(i=0,d=a.selected.length;i<d;i++)g[a.selected[i]]?g[a.selected[i]]=2:a.changed.selected.push(a.selected[i]);for(i=0,d=r.length;i<d;i++)g[r[i]]===1&&a.changed.deselected.push(r[i]);r=a.selected.slice()}o.trigger.call(this,s,a)},this.refresh=function(s,a){return r=[],o.refresh.apply(this,arguments)}};var gt=Q.createElement("I");gt.className="jstree-icon jstree-checkbox",gt.setAttribute("role","presentation"),f.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},f.jstree.plugins.checkbox=function(e,o){this.bind=function(){o.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}).bind(this)).on("loading.jstree",(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}).bind(this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}).bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",(function(r,s){var a=this._model.data;a[s.parent];var i=s.nodes,d,g;for(d=0,g=i.length;d<g;d++)a[i[d]].state.checked=a[i[d]].state.checked||a[i[d]].original&&a[i[d]].original.state&&a[i[d]].original.state.checked,a[i[d]].state.checked&&this._data.checkbox.selected.push(i[d])}).bind(this)),(this.settings.checkbox.cascade.indexOf("up")!==-1||this.settings.checkbox.cascade.indexOf("down")!==-1)&&this.element.on("model.jstree",(function(r,s){var a=this._model.data,i=a[s.parent],d=s.nodes,g=[],p,m,v,x,S,N,j=this.settings.checkbox.cascade,O=this.settings.checkbox.tie_selection;if(j.indexOf("down")!==-1){if(i.state[O?"selected":"checked"]){for(m=0,v=d.length;m<v;m++)a[d[m]].state[O?"selected":"checked"]=!0;this._data[O?"core":"checkbox"].selected=this._data[O?"core":"checkbox"].selected.concat(d)}else for(m=0,v=d.length;m<v;m++)if(a[d[m]].state[O?"selected":"checked"]){for(x=0,S=a[d[m]].children_d.length;x<S;x++)a[a[d[m]].children_d[x]].state[O?"selected":"checked"]=!0;this._data[O?"core":"checkbox"].selected=this._data[O?"core":"checkbox"].selected.concat(a[d[m]].children_d)}}if(j.indexOf("up")!==-1){for(m=0,v=i.children_d.length;m<v;m++)a[i.children_d[m]].children.length||g.push(a[i.children_d[m]].parent);for(g=f.vakata.array_unique(g),x=0,S=g.length;x<S;x++)for(i=a[g[x]];i&&i.id!==f.jstree.root;){for(p=0,m=0,v=i.children.length;m<v;m++)p+=a[i.children[m]].state[O?"selected":"checked"];if(p===v)i.state[O?"selected":"checked"]=!0,this._data[O?"core":"checkbox"].selected.push(i.id),N=this.get_node(i,!0),N&&N.length&&N.children(".jstree-anchor").attr("aria-selected",!0).addClass(O?"jstree-clicked":"jstree-checked");else break;i=this.get_node(i.parent)}}this._data[O?"core":"checkbox"].selected=f.vakata.array_unique(this._data[O?"core":"checkbox"].selected)}).bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",(function(r,s){var a=s.node,i=this._model.data,d=this.get_node(a.parent),g,p,m,v,x=this.settings.checkbox.cascade,S=this.settings.checkbox.tie_selection,N={},j=this._data[S?"core":"checkbox"].selected;for(g=0,p=j.length;g<p;g++)N[j[g]]=!0;if(x.indexOf("down")!==-1){var O=this._cascade_new_checked_state(a.id,!0),D=a.children_d.concat(a.id);for(g=0,p=D.length;g<p;g++)O.indexOf(D[g])>-1?N[D[g]]=!0:delete N[D[g]]}if(x.indexOf("up")!==-1)for(;d&&d.id!==f.jstree.root;){for(m=0,g=0,p=d.children.length;g<p;g++)m+=i[d.children[g]].state[S?"selected":"checked"];if(m===p)d.state[S?"selected":"checked"]=!0,N[d.id]=!0,v=this.get_node(d,!0),v&&v.length&&v.children(".jstree-anchor").attr("aria-selected",!0).addClass(S?"jstree-clicked":"jstree-checked");else break;d=this.get_node(d.parent)}j=[];for(g in N)N.hasOwnProperty(g)&&j.push(g);this._data[S?"core":"checkbox"].selected=j}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",(function(r,s){var a=this.get_node(f.jstree.root),i=this._model.data,d,g,p;for(d=0,g=a.children_d.length;d<g;d++)p=i[a.children_d[d]],p&&p.original&&p.original.state&&p.original.state.undetermined&&(p.original.state.undetermined=!1)}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",(function(r,s){var a=s.node;this.get_node(a,!0);var i,d,g,p=this.settings.checkbox.cascade,m=this.settings.checkbox.tie_selection,v=this._data[m?"core":"checkbox"].selected,x=a.children_d.concat(a.id);if(p.indexOf("down")!==-1){var S=this._cascade_new_checked_state(a.id,!1);v=f.vakata.array_filter(v,function(N){return x.indexOf(N)===-1||S.indexOf(N)>-1})}if(p.indexOf("up")!==-1&&v.indexOf(a.id)===-1){for(i=0,d=a.parents.length;i<d;i++)g=this._model.data[a.parents[i]],g.state[m?"selected":"checked"]=!1,g&&g.original&&g.original.state&&g.original.state.undetermined&&(g.original.state.undetermined=!1),g=this.get_node(a.parents[i],!0),g&&g.length&&g.children(".jstree-anchor").attr("aria-selected",!1).removeClass(m?"jstree-clicked":"jstree-checked");v=f.vakata.array_filter(v,function(N){return a.parents.indexOf(N)===-1})}this._data[m?"core":"checkbox"].selected=v}).bind(this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",(function(r,s){for(var a=this.get_node(s.parent),i=this._model.data,d,g,p,m,v=this.settings.checkbox.tie_selection;a&&a.id!==f.jstree.root&&!a.state[v?"selected":"checked"];){for(p=0,d=0,g=a.children.length;d<g;d++)p+=i[a.children[d]].state[v?"selected":"checked"];if(g>0&&p===g)a.state[v?"selected":"checked"]=!0,this._data[v?"core":"checkbox"].selected.push(a.id),m=this.get_node(a,!0),m&&m.length&&m.children(".jstree-anchor").attr("aria-selected",!0).addClass(v?"jstree-clicked":"jstree-checked");else break;a=this.get_node(a.parent)}}).bind(this)).on("move_node.jstree",(function(r,s){var a=s.is_multi,i=s.old_parent,d=this.get_node(s.parent),g=this._model.data,p,m,v,x,S,N=this.settings.checkbox.tie_selection;if(!a)for(p=this.get_node(i);p&&p.id!==f.jstree.root&&!p.state[N?"selected":"checked"];){for(m=0,v=0,x=p.children.length;v<x;v++)m+=g[p.children[v]].state[N?"selected":"checked"];if(x>0&&m===x)p.state[N?"selected":"checked"]=!0,this._data[N?"core":"checkbox"].selected.push(p.id),S=this.get_node(p,!0),S&&S.length&&S.children(".jstree-anchor").attr("aria-selected",!0).addClass(N?"jstree-clicked":"jstree-checked");else break;p=this.get_node(p.parent)}for(p=d;p&&p.id!==f.jstree.root;){for(m=0,v=0,x=p.children.length;v<x;v++)m+=g[p.children[v]].state[N?"selected":"checked"];if(m===x)p.state[N?"selected":"checked"]||(p.state[N?"selected":"checked"]=!0,this._data[N?"core":"checkbox"].selected.push(p.id),S=this.get_node(p,!0),S&&S.length&&S.children(".jstree-anchor").attr("aria-selected",!0).addClass(N?"jstree-clicked":"jstree-checked"));else if(p.state[N?"selected":"checked"])p.state[N?"selected":"checked"]=!1,this._data[N?"core":"checkbox"].selected=f.vakata.array_remove_item(this._data[N?"core":"checkbox"].selected,p.id),S=this.get_node(p,!0),S&&S.length&&S.children(".jstree-anchor").attr("aria-selected",!1).removeClass(N?"jstree-clicked":"jstree-checked");else break;p=this.get_node(p.parent)}}).bind(this))},this.get_undetermined=function(r){if(this.settings.checkbox.cascade.indexOf("undetermined")===-1)return[];var s,a,i,d,g={},p=this._model.data,m=this.settings.checkbox.tie_selection,v=this._data[m?"core":"checkbox"].selected,x=[],S=this,N=[];for(s=0,a=v.length;s<a;s++)if(p[v[s]]&&p[v[s]].parents)for(i=0,d=p[v[s]].parents.length;i<d&&g[p[v[s]].parents[i]]===R;i++)p[v[s]].parents[i]!==f.jstree.root&&(g[p[v[s]].parents[i]]=!0,x.push(p[v[s]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var j=S.get_node(this),O;if(j){if(j.state.loaded){for(s=0,a=j.children_d.length;s<a;s++)if(O=p[j.children_d[s]],!O.state.loaded&&O.original&&O.original.state&&O.original.state.undetermined&&O.original.state.undetermined===!0)for(g[O.id]===R&&O.id!==f.jstree.root&&(g[O.id]=!0,x.push(O.id)),i=0,d=O.parents.length;i<d;i++)g[O.parents[i]]===R&&O.parents[i]!==f.jstree.root&&(g[O.parents[i]]=!0,x.push(O.parents[i]))}else if(j.original&&j.original.state&&j.original.state.undetermined&&j.original.state.undetermined===!0)for(g[j.id]===R&&j.id!==f.jstree.root&&(g[j.id]=!0,x.push(j.id)),i=0,d=j.parents.length;i<d;i++)g[j.parents[i]]===R&&j.parents[i]!==f.jstree.root&&(g[j.parents[i]]=!0,x.push(j.parents[i]))}}),s=0,a=x.length;s<a;s++)p[x[s]].state[m?"selected":"checked"]||N.push(r?p[x[s]]:x[s]);return N},this._undetermined=function(){if(this.element!==null){var r=this.get_undetermined(!1),s,a,i;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),s=0,a=r.length;s<a;s++)i=this.get_node(r[s],!0),i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(r,s,a,i){if(r=o.redraw_node.apply(this,arguments),r){var d,g,p=null,m=null;for(d=0,g=r.childNodes.length;d<g;d++)if(r.childNodes[d]&&r.childNodes[d].className&&r.childNodes[d].className.indexOf("jstree-anchor")!==-1){p=r.childNodes[d];break}p&&(!this.settings.checkbox.tie_selection&&this._model.data[r.id].state.checked&&(p.className+=" jstree-checked"),m=gt.cloneNode(!1),this._model.data[r.id].state.checkbox_disabled&&(m.className+=" jstree-checkbox-disabled"),p.insertBefore(m,p.childNodes[0]))}return!a&&this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),r},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(r){r=this.get_node(r);var s=this.settings.checkbox.cascade,a,i,d=this.settings.checkbox.tie_selection,g=this._data[d?"core":"checkbox"].selected,p=this._model.data;if(!r||r.state[d?"selected":"checked"]===!0||s.indexOf("undetermined")===-1||s.indexOf("down")===-1&&s.indexOf("up")===-1)return!1;if(!r.state.loaded&&r.original.state.undetermined===!0)return!0;for(a=0,i=r.children_d.length;a<i;a++)if(f.inArray(r.children_d[a],g)!==-1||!p[r.children_d[a]].state.loaded&&p[r.children_d[a]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(r){var s,a,i;if(f.vakata.is_array(r)){for(r=r.slice(),s=0,a=r.length;s<a;s++)this.disable_checkbox(r[s]);return!0}if(r=this.get_node(r),!r||r.id===f.jstree.root)return!1;i=this.get_node(r,!0),r.state.checkbox_disabled||(r.state.checkbox_disabled=!0,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:r}))},this.enable_checkbox=function(r){var s,a,i;if(f.vakata.is_array(r)){for(r=r.slice(),s=0,a=r.length;s<a;s++)this.enable_checkbox(r[s]);return!0}if(r=this.get_node(r),!r||r.id===f.jstree.root)return!1;i=this.get_node(r,!0),r.state.checkbox_disabled&&(r.state.checkbox_disabled=!1,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:r}))},this.activate_node=function(r,s){if(f(s.target).hasClass("jstree-checkbox-disabled"))return!1;if(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||f(s.target).hasClass("jstree-checkbox"))&&(s.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!f(s.target).hasClass("jstree-checkbox"))return o.activate_node.call(this,r,s);if(this.is_disabled(r))return!1;this.is_checked(r)?this.uncheck_node(r,s):this.check_node(r,s),this.trigger("activate_node",{node:this.get_node(r)})},this.delete_node=function(r){if(this.settings.checkbox.tie_selection||f.vakata.is_array(r))return o.delete_node.call(this,r);var s,a,i,d=!1;if(r=this.get_node(r),!r||r.id===f.jstree.root)return!1;for(s=r.children_d.concat([]),s.push(r.id),a=0,i=s.length;a<i;a++)if(this._model.data[s[a]].state.checked){d=!0;break}return d&&(this._data.checkbox.selected=f.vakata.array_filter(this._data.checkbox.selected,function(g){return f.inArray(g,s)===-1})),o.delete_node.call(this,r)},this._cascade_new_checked_state=function(r,s){var a=this,i=this.settings.checkbox.tie_selection,d=this._model.data[r],g=[],p=[],m,v,x;if((this.settings.checkbox.cascade_to_disabled||!d.state.disabled)&&(this.settings.checkbox.cascade_to_hidden||!d.state.hidden)){if(d.children)for(m=0,v=d.children.length;m<v;m++){var S=d.children[m];x=a._cascade_new_checked_state(S,s),g=g.concat(x),x.indexOf(S)>-1&&p.push(S)}var N=a.get_node(d,!0),j=p.length>0&&p.length<d.children.length;d.original&&d.original.state&&d.original.state.undetermined&&(d.original.state.undetermined=j),j?(d.state[i?"selected":"checked"]=!1,N.children(".jstree-anchor").attr("aria-selected",!1).removeClass(i?"jstree-clicked":"jstree-checked")):s&&p.length===d.children.length?(d.state[i?"selected":"checked"]=s,g.push(d.id),N.children(".jstree-anchor").attr("aria-selected",!0).addClass(i?"jstree-clicked":"jstree-checked")):(d.state[i?"selected":"checked"]=!1,N.children(".jstree-anchor").attr("aria-selected",!1).removeClass(i?"jstree-clicked":"jstree-checked"))}else x=this.get_checked_descendants(r),d.state[i?"selected":"checked"]&&x.push(d.id),g=g.concat(x);return g},this.get_checked_descendants=function(r){var s=this,a=s.settings.checkbox.tie_selection,i=s._model.data[r];return f.vakata.array_filter(i.children_d,function(d){return s._model.data[d].state[a?"selected":"checked"]})},this.check_node=function(r,s){if(this.settings.checkbox.tie_selection)return this.select_node(r,!1,!0,s);var a,i,d;if(f.vakata.is_array(r)){for(r=r.slice(),i=0,d=r.length;i<d;i++)this.check_node(r[i],s);return!0}if(r=this.get_node(r),!r||r.id===f.jstree.root)return!1;a=this.get_node(r,!0),r.state.checked||(r.state.checked=!0,this._data.checkbox.selected.push(r.id),a&&a.length&&a.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:r,selected:this._data.checkbox.selected,event:s}))},this.uncheck_node=function(r,s){if(this.settings.checkbox.tie_selection)return this.deselect_node(r,!1,s);var a,i,d;if(f.vakata.is_array(r)){for(r=r.slice(),a=0,i=r.length;a<i;a++)this.uncheck_node(r[a],s);return!0}if(r=this.get_node(r),!r||r.id===f.jstree.root)return!1;d=this.get_node(r,!0),r.state.checked&&(r.state.checked=!1,this._data.checkbox.selected=f.vakata.array_remove_item(this._data.checkbox.selected,r.id),d.length&&d.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:r,selected:this._data.checkbox.selected,event:s}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();this._data.checkbox.selected.concat([]);var r,s;for(this._data.checkbox.selected=this._model.data[f.jstree.root].children_d.concat(),r=0,s=this._data.checkbox.selected.length;r<s;r++)this._model.data[this._data.checkbox.selected[r]]&&(this._model.data[this._data.checkbox.selected[r]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var r=this._data.checkbox.selected.concat([]),s,a;for(s=0,a=this._data.checkbox.selected.length;s<a;s++)this._model.data[this._data.checkbox.selected[s]]&&(this._model.data[this._data.checkbox.selected[s]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:r})},this.is_checked=function(r){return this.settings.checkbox.tie_selection?this.is_selected(r):(r=this.get_node(r),!r||r.id===f.jstree.root?!1:r.state.checked)},this.get_checked=function(r){return this.settings.checkbox.tie_selection?this.get_selected(r):r?f.map(this._data.checkbox.selected,(function(s){return this.get_node(s)}).bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(r){if(this.settings.checkbox.tie_selection)return this.get_top_selected(r);var s=this.get_checked(!0),a={},i,d,g,p;for(i=0,d=s.length;i<d;i++)a[s[i].id]=s[i];for(i=0,d=s.length;i<d;i++)for(g=0,p=s[i].children_d.length;g<p;g++)a[s[i].children_d[g]]&&delete a[s[i].children_d[g]];s=[];for(i in a)a.hasOwnProperty(i)&&s.push(i);return r?f.map(s,(function(m){return this.get_node(m)}).bind(this)):s},this.get_bottom_checked=function(r){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(r);var s=this.get_checked(!0),a=[],i,d;for(i=0,d=s.length;i<d;i++)s[i].children.length||a.push(s[i].id);return r?f.map(a,(function(g){return this.get_node(g)}).bind(this)):a},this.load_node=function(r,s){var a,i,d;if(!f.vakata.is_array(r)&&!this.settings.checkbox.tie_selection&&(d=this.get_node(r),d&&d.state.loaded))for(a=0,i=d.children_d.length;a<i;a++)this._model.data[d.children_d[a]].state.checked&&(this._data.checkbox.selected=f.vakata.array_remove_item(this._data.checkbox.selected,d.children_d[a]));return o.load_node.apply(this,arguments)},this.get_state=function(){var r=o.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(r.checkbox=this._data.checkbox.selected.slice()),r},this.set_state=function(r,s){var a=o.set_state.apply(this,arguments);if(a&&r.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var i=this;f.each(r.checkbox,function(d,g){i.check_node(g)})}return delete r.checkbox,this.set_state(r,s),!1}return a},this.refresh=function(r,s){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),o.refresh.apply(this,arguments)}},f.jstree.defaults.conditionalselect=function(){return!0},f.jstree.plugins.conditionalselect=function(e,o){this.activate_node=function(r,s){if(this.settings.conditionalselect.call(this,this.get_node(r),s))return o.activate_node.call(this,r,s)}},f.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(e,o){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(r){var s=f.jstree.reference(r.reference),a=s.get_node(r.reference);s.create_node(a,{},"last",function(i){try{s.edit(i)}catch{setTimeout(function(){s.edit(i)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(r){var s=f.jstree.reference(r.reference),a=s.get_node(r.reference);s.edit(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(r){var s=f.jstree.reference(r.reference),a=s.get_node(r.reference);s.is_selected(a)?s.delete_node(s.get_selected()):s.delete_node(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(r){var s=f.jstree.reference(r.reference),a=s.get_node(r.reference);s.is_selected(a)?s.cut(s.get_top_selected()):s.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(r){var s=f.jstree.reference(r.reference),a=s.get_node(r.reference);s.is_selected(a)?s.copy(s.get_top_selected()):s.copy(a)}},paste:{separator_before:!1,icon:!1,_disabled:function(r){return!f.jstree.reference(r.reference).can_paste()},separator_after:!1,label:"Paste",action:function(r){var s=f.jstree.reference(r.reference),a=s.get_node(r.reference);s.paste(a)}}}}}}},f.jstree.plugins.contextmenu=function(e,o){this.bind=function(){o.bind.call(this);var r=0,s=null,a,i;this.element.on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-contextmenu")}).bind(this)).on("contextmenu.jstree",".jstree-anchor",(function(d,g){d.target.tagName.toLowerCase()!=="input"&&(d.preventDefault(),r=d.ctrlKey?+new Date:0,(g||s)&&(r=+new Date+1e4),s&&clearTimeout(s),this.is_loading(d.currentTarget)||this.show_contextmenu(d.currentTarget,d.pageX,d.pageY,d))}).bind(this)).on("click.jstree",".jstree-anchor",(function(d){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&f.vakata.context.hide(),r=0}).bind(this)).on("touchstart.jstree",".jstree-anchor",function(d){!d.originalEvent||!d.originalEvent.changedTouches||!d.originalEvent.changedTouches[0]||(a=d.originalEvent.changedTouches[0].clientX,i=d.originalEvent.changedTouches[0].clientY,s=setTimeout(function(){f(d.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(d){s&&d.originalEvent&&d.originalEvent.changedTouches&&d.originalEvent.changedTouches[0]&&(Math.abs(a-d.originalEvent.changedTouches[0].clientX)>10||Math.abs(i-d.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(s),f.vakata.context.hide())}).on("touchend.vakata.jstree",function(d){s&&clearTimeout(s)});/*!
if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
	var el = null, tm = null;
	this.element
		.on("touchstart", ".jstree-anchor", function (e) {
			el = e.currentTarget;
			tm = +new Date();
			$(document).one("touchend", function (e) {
				e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
				e.currentTarget = e.target;
				tm = ((+(new Date())) - tm);
				if(e.target === el && tm > 600 && tm < 1000) {
					e.preventDefault();
					$(el).trigger('contextmenu', e);
				}
				el = null;
				tm = null;
			});
		});
}
*/f(Q).on("context_hide.vakata.jstree",(function(d,g){this._data.contextmenu.visible=!1,f(g.reference).removeClass("jstree-context")}).bind(this))},this.teardown=function(){this._data.contextmenu.visible&&f.vakata.context.hide(),f(Q).off("context_hide.vakata.jstree"),o.teardown.call(this)},this.show_contextmenu=function(r,s,a,i){if(r=this.get_node(r),!r||r.id===f.jstree.root)return!1;var d=this.settings.contextmenu,g=this.get_node(r,!0),p=g.children(".jstree-anchor"),m=!1,v=!1;(d.show_at_node||s===R||a===R)&&(m=p.offset(),s=m.left,a=m.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(r)&&this.activate_node(r,i),v=d.items,f.vakata.is_function(v)&&(v=v.call(this,r,(function(x){this._show_contextmenu(r,s,a,x)}).bind(this))),f.isPlainObject(v)&&this._show_contextmenu(r,s,a,v)},this._show_contextmenu=function(r,s,a,i){var d=this.get_node(r,!0),g=d.children(".jstree-anchor");f(Q).one("context_show.vakata.jstree",(function(p,m){var v="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";f(m.element).addClass(v),g.addClass("jstree-context")}).bind(this)),this._data.contextmenu.visible=!0,f.vakata.context.show(g,{x:s,y:a},i),this.trigger("show_contextmenu",{node:r,x:s,y:a})}},function(e){var o=!1,r={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(s){e(Q).triggerHandler("context_"+s+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(s){return s=r.items[s],s&&(!s._disabled||e.vakata.is_function(s._disabled)&&!s._disabled({item:s,reference:r.reference,element:r.element}))&&s.action?s.action.call(null,{item:s,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}}):!1},_parse:function(s,a){if(!s)return!1;a||(r.html="",r.items=[]);var i="",d=!1,g;return a&&(i+="<ul>"),e.each(s,function(p,m){if(!m)return!0;r.items.push(m),!d&&m.separator_before&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),d=!1,i+="<li class='"+(m._class||"")+(m._disabled===!0||e.vakata.is_function(m._disabled)&&m._disabled({item:m,reference:r.reference,element:r.element})?" vakata-contextmenu-disabled ":"")+"' "+(m.shortcut?" data-shortcut='"+m.shortcut+"' ":"")+">",i+="<a href='#' rel='"+(r.items.length-1)+"' "+(m.title?"title='"+m.title+"'":"")+">",e.vakata.context.settings.icons&&(i+="<i ",m.icon&&(m.icon.indexOf("/")!==-1||m.icon.indexOf(".")!==-1?i+=` style='background:url("`+m.icon+`") center center no-repeat' `:i+=" class='"+m.icon+"' "),i+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),i+=(e.vakata.is_function(m.label)?m.label({item:p,reference:r.reference,element:r.element}):m.label)+(m.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+m.shortcut+'">'+(m.shortcut_label||"")+"</span>":"")+"</a>",m.submenu&&(g=e.vakata.context._parse(m.submenu,!0),g&&(i+=g)),i+="</li>",m.separator_after&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",d=!0)}),i=i.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),a&&(i+="</ul>"),a||(r.html=i,e.vakata.context._trigger("parse")),i.length>10?i:!1},_show_submenu:function(s){if(s=e(s),!(!s.length||!s.children("ul").length)){var a=s.children("ul"),i=s.offset().left,d=i+s.outerWidth(),g=s.offset().top,p=a.width(),m=a.height(),v=e(window).width()+e(window).scrollLeft(),x=e(window).height()+e(window).scrollTop();o?s[d-(p+10+s.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):s[d+p>v&&i>v-d?"addClass":"removeClass"]("vakata-context-right"),g+m+10>x&&a.css("bottom","-1px"),s.hasClass("vakata-context-right")?i<p&&a.css("margin-right",i-p):v-d<p&&a.css("margin-left",v-d-p),a.show()}},show:function(s,a,i){var d,g,p,m,v,x,S,N,j=!0;switch(r.element&&r.element.length&&r.element.width(""),j){case(!a&&!s):return!1;case(!!a&&!!s):r.reference=s,r.position_x=a.x,r.position_y=a.y;break;case(!a&&!!s):r.reference=s,d=s.offset(),r.position_x=d.left+s.outerHeight(),r.position_y=d.top;break;case(!!a&&!s):r.position_x=a.x,r.position_y=a.y;break}s&&!i&&e(s).data("vakata_contextmenu")&&(i=e(s).data("vakata_contextmenu")),e.vakata.context._parse(i)&&r.element.html(r.html),r.items.length&&(r.element.appendTo(Q.body),g=r.element,p=r.position_x,m=r.position_y,v=g.width(),x=g.height(),S=e(window).width()+e(window).scrollLeft(),N=e(window).height()+e(window).scrollTop(),o&&(p-=g.outerWidth()-e(s).outerWidth(),p<e(window).scrollLeft()+20&&(p=e(window).scrollLeft()+20)),p+v+20>S&&(p=S-(v+20)),m+x+20>N&&(m=N-(x+20)),r.element.css({left:p,top:m}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),r.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){r.is_visible&&(r.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),r.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){o=e(Q.body).css("direction")==="rtl";var s=!1;r.element=e("<ul class='vakata-context'></ul>"),r.element.on("mouseenter","li",function(a){a.stopImmediatePropagation(),!e.contains(this,a.relatedTarget)&&(s&&clearTimeout(s),r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(a){e.contains(this,a.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(a){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(s=setTimeout(function(i){return function(){e.vakata.context.hide()}}(),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(a){a.preventDefault(),!e(this).trigger("blur").parent().hasClass("vakata-context-disabled")&&e.vakata.context._execute(e(this).attr("rel"))!==!1&&e.vakata.context.hide()}).on("keydown","a",function(a){var i=null;switch(a.which){case 13:case 32:a.type="click",a.preventDefault(),e(a.currentTarget).trigger(a);break;case 37:r.is_visible&&(r.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 38:r.is_visible&&(i=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),i.length||(i=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 39:r.is_visible&&(r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 40:r.is_visible&&(i=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),i.length||(i=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 27:e.vakata.context.hide(),a.preventDefault();break}}).on("keydown",function(a){a.preventDefault();var i=r.element.find(".vakata-contextmenu-shortcut-"+a.which).parent();i.parent().not(".vakata-context-disabled")&&i.trigger("click")}),e(Q).on("mousedown.vakata.jstree",function(a){r.is_visible&&r.element[0]!==a.target&&!e.contains(r.element[0],a.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(a,i){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),o&&r.element.addClass("vakata-context-rtl").css("direction","rtl"),r.element.find("ul").hide().end()})})}(f),f.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1};var Ke,Y;f.jstree.plugins.dnd=function(e,o){this.init=function(r,s){o.init.call(this,r,s),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in Q.createElement("span")},this.bind=function(){o.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",(function(r){if(this.settings.dnd.large_drag_target&&f(r.target).closest(".jstree-node")[0]!==r.currentTarget||r.type==="touchstart"&&(!this.settings.dnd.touch||this.settings.dnd.touch==="selected"&&!f(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var s=this.get_node(r.target),a=this.is_selected(s)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,i=a>1?a+" "+this.get_string("nodes"):this.get_text(r.currentTarget);if(this.settings.core.force_text&&(i=f.vakata.html.escape(i)),s&&(s.id||s.id===0)&&s.id!==f.jstree.root&&(r.which===1||r.type==="touchstart"||r.type==="dragstart")&&(this.settings.dnd.is_draggable===!0||f.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,a>1?this.get_top_selected(!0):[s],r)))if(Ke={jstree:!0,origin:this,obj:this.get_node(s,!0),nodes:a>1?this.get_top_selected():[s.id]},Y=r.currentTarget,this.settings.dnd.use_html5)f.vakata.dnd._trigger("start",r,{helper:f(),element:Y,data:Ke});else return this.element.trigger("mousedown.jstree"),f.vakata.dnd.start(r,Ke,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+i+'<ins class="jstree-copy">+</ins></div>')}).bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(r){return r.preventDefault(),f.vakata.dnd._trigger("move",r,{helper:f(),element:Y,data:Ke}),!1}).on("drop.jstree",(function(r){return r.preventDefault(),f.vakata.dnd._trigger("stop",r,{helper:f(),element:Y,data:Ke}),!1}).bind(this))},this.redraw_node=function(r,s,a,i){if(r=o.redraw_node.apply(this,arguments),r&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)r.setAttribute("draggable",!0);else{var d,g,p=null;for(d=0,g=r.childNodes.length;d<g;d++)if(r.childNodes[d]&&r.childNodes[d].className&&r.childNodes[d].className.indexOf("jstree-anchor")!==-1){p=r.childNodes[d];break}p&&p.setAttribute("draggable",!0)}return r}},f(function(){var e=!1,o=!1,r=!1,s=!1,a=f('<div id="jstree-marker">&#160;</div>').hide();f(Q).on("dragover.vakata.jstree",function(i){Y&&f.vakata.dnd._trigger("move",i,{helper:f(),element:Y,data:Ke})}).on("drop.vakata.jstree",function(i){Y&&(f.vakata.dnd._trigger("stop",i,{helper:f(),element:Y,data:Ke}),Y=null,Ke=null)}).on("dnd_start.vakata.jstree",function(i,d){e=!1,r=!1,!(!d||!d.data||!d.data.jstree)&&a.appendTo(Q.body)}).on("dnd_move.vakata.jstree",function(i,d){var g=d.event.target!==r.target;if(s&&(!d.event||d.event.type!=="dragover"||g)&&clearTimeout(s),!(!d||!d.data||!d.data.jstree)&&!(d.event.target.id&&d.event.target.id==="jstree-marker")){r=d.event;var p=f.jstree.reference(d.event.target),m=!1,v=!1,x=!1,S,N,j,O,D,G,re,U,ce,Se,ve,$,he,Ce,Ae,Ze,b;if(p&&p._data&&p._data.dnd){if(a.attr("class","jstree-"+p.get_theme()+(p.settings.core.themes.responsive?" jstree-dnd-responsive":"")),Ae=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey)),d.helper.children().attr("class","jstree-"+p.get_theme()+" jstree-"+p.get_theme()+"-"+p.get_theme_variant()+" "+(p.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[Ae?"show":"hide"](),(d.event.target===p.element[0]||d.event.target===p.get_container_ul()[0])&&(p.get_container_ul().children().length===0||p.settings.dnd.blank_space_drop)){for(re=!0,U=0,ce=d.data.nodes.length;U<ce&&(re=re&&p.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==p?d.data.origin.get_node(d.data.nodes[U]):d.data.nodes[U],f.jstree.root,"last",{dnd:!0,ref:p.get_node(f.jstree.root),pos:"i",origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==p,is_foreign:!d.data.origin}),!!re);U++);if(re){e={ins:p,par:f.jstree.root,pos:"last"},a.hide(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=Ae?"copy":"move");return}}else if(m=p.settings.dnd.large_drop_target?f(d.event.target).closest(".jstree-node").children(".jstree-anchor"):f(d.event.target).closest(".jstree-anchor"),m&&m.length&&m.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(v=m.offset(),x=(d.event.pageY!==R?d.event.pageY:d.event.originalEvent.pageY)-v.top,j=m.outerHeight(),x<j/3?G=["b","i","a"]:x>j-j/3?G=["a","i","b"]:G=x>j/2?["i","a","b"]:["i","b","a"],f.each(G,function(ze,ge){switch(ge){case"b":S=v.left-6,N=v.top,O=p.get_parent(m),D=m.parent().index(),b="jstree-below";break;case"i":he=p.settings.dnd.inside_pos,Ce=p.get_node(m.parent()),S=v.left-2,N=v.top+j/2+1,O=Ce.id,D=he==="first"?0:he==="last"?Ce.children.length:Math.min(he,Ce.children.length),b="jstree-inside";break;case"a":S=v.left-6,N=v.top+j,O=p.get_parent(m),D=m.parent().index()+1,b="jstree-above";break}for(re=!0,U=0,ce=d.data.nodes.length;U<ce;U++)if(Se=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",ve=D,Se==="move_node"&&ge==="a"&&d.data.origin&&d.data.origin===p&&O===p.get_parent(d.data.nodes[U])&&($=p.get_node(O),ve>f.inArray(d.data.nodes[U],$.children)&&(ve-=1)),re=re&&(p&&p.settings&&p.settings.dnd&&p.settings.dnd.check_while_dragging===!1||p.check(Se,d.data.origin&&d.data.origin!==p?d.data.origin.get_node(d.data.nodes[U]):d.data.nodes[U],O,ve,{dnd:!0,ref:p.get_node(m.parent()),pos:ge,origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==p,is_foreign:!d.data.origin})),!re){p&&p.last_error&&(o=p.last_error());break}if(ge==="i"&&m.parent().is(".jstree-closed")&&p.settings.dnd.open_timeout&&(!d.event||d.event.type!=="dragover"||g)&&(s&&clearTimeout(s),s=setTimeout(function(qe,X){return function(){qe.open_node(X)}}(p,m),p.settings.dnd.open_timeout)),re)return Ze=p.get_node(O,!0),Ze.hasClass(".jstree-dnd-parent")||(f(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),Ze.addClass("jstree-dnd-parent")),e={ins:p,par:O,pos:ge==="i"&&he==="last"&&D===0&&!p.is_loaded(Ce)?"last":D},a.css({left:S+"px",top:N+"px"}).show(),a.removeClass("jstree-above jstree-inside jstree-below").addClass(b),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=Ae?"copy":"move"),o={},G=!0,!1}),G===!0))return}f(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),e=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),d.event.originalEvent&&d.event.originalEvent.dataTransfer,a.hide()}}).on("dnd_scroll.vakata.jstree",function(i,d){!d||!d.data||!d.data.jstree||(a.hide(),e=!1,r=!1,d.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(i,d){if(f(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),s&&clearTimeout(s),!(!d||!d.data||!d.data.jstree)){a.hide().detach();var g,p,m=[];if(e){for(g=0,p=d.data.nodes.length;g<p;g++)m[g]=d.data.origin?d.data.origin.get_node(d.data.nodes[g]):d.data.nodes[g];e.ins[d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node"](m,e.par,e.pos,!1,!1,!1,d.data.origin)}else g=f(d.event.target).closest(".jstree"),g.length&&o&&o.error&&o.error==="check"&&(g=g.jstree(!0),g&&g.settings.core.error.call(this,o));r=!1,e=!1}}).on("keyup.jstree keydown.jstree",function(i,d){d=f.vakata.dnd._get(),d&&d.data&&d.data.jstree&&(i.type==="keyup"&&i.which===27?(s&&clearTimeout(s),e=!1,o=!1,r=!1,s=!1,a.hide().detach(),f.vakata.dnd._clean()):(d.helper.find(".jstree-copy").first()[d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(i.metaKey||i.ctrlKey))?"show":"hide"](),r&&(r.metaKey=i.metaKey,r.ctrlKey=i.ctrlKey,f.vakata.dnd._trigger("move",r))))})}),function(e){e.vakata.html={div:e("<div></div>"),escape:function(r){return e.vakata.html.div.text(r).html()},strip:function(r){return e.vakata.html.div.empty().append(e.parseHTML(r)).text()}};var o={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(r,s,a){a===R&&(a=e.vakata.dnd._get()),a.event=s,e(Q).triggerHandler("dnd_"+r+".vakata",a)},_get:function(){return{data:o.data,element:o.element,helper:o.helper}},_clean:function(){o.helper&&o.helper.remove(),o.scroll_i&&(clearInterval(o.scroll_i),o.scroll_i=!1),o={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},Y=null,e(Q).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(Q).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(r){if(!o.scroll_e||!o.scroll_l&&!o.scroll_t)return o.scroll_i&&(clearInterval(o.scroll_i),o.scroll_i=!1),!1;if(!o.scroll_i)return o.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(r===!0)return!1;var s=o.scroll_e.scrollTop(),a=o.scroll_e.scrollLeft();o.scroll_e.scrollTop(s+o.scroll_t*e.vakata.dnd.settings.scroll_speed),o.scroll_e.scrollLeft(a+o.scroll_l*e.vakata.dnd.settings.scroll_speed),(s!==o.scroll_e.scrollTop()||a!==o.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",o.scroll_e)},start:function(r,s,a){r.type==="touchstart"&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=Q.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),o.is_drag&&e.vakata.dnd.stop({});try{r.currentTarget.unselectable="on",r.currentTarget.onselectstart=function(){return!1},r.currentTarget.style&&(r.currentTarget.style.touchAction="none",r.currentTarget.style.msTouchAction="none",r.currentTarget.style.MozUserSelect="none")}catch{}return o.init_x=r.pageX,o.init_y=r.pageY,o.data=s,o.is_down=!0,o.element=r.currentTarget,o.target=r.target,o.is_touch=r.type==="touchstart",a!==!1&&(o.helper=e("<div id='vakata-dnd'></div>").html(a).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(Q).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(Q).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(r){if(r.type==="touchmove"&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=Q.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),!!o.is_down){if(!o.is_drag)if(Math.abs(r.pageX-o.init_x)>(o.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(r.pageY-o.init_y)>(o.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold))o.helper&&(o.helper.appendTo(Q.body),o.helper_w=o.helper.outerWidth()),o.is_drag=!0,e(o.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",r);else return;var s=!1,a=!1,i=!1,d=!1,g=!1,p=!1,m=!1,v=!1,x=!1,S=!1;return o.scroll_t=0,o.scroll_l=0,o.scroll_e=!1,e(e(r.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var N=e(this),j=N.offset();if(this.scrollHeight>this.offsetHeight&&(j.top+N.height()-r.pageY<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=1),r.pageY-j.top<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(j.left+N.width()-r.pageX<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=1),r.pageX-j.left<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=-1)),o.scroll_t||o.scroll_l)return o.scroll_e=e(this),!1}),o.scroll_e||(s=e(Q),a=e(window),i=s.height(),d=a.height(),g=s.width(),p=a.width(),m=s.scrollTop(),v=s.scrollLeft(),i>d&&r.pageY-m<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=-1),i>d&&d-(r.pageY-m)<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=1),g>p&&r.pageX-v<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=-1),g>p&&p-(r.pageX-v)<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=1),(o.scroll_t||o.scroll_l)&&(o.scroll_e=s)),o.scroll_e&&e.vakata.dnd._scroll(!0),o.helper&&(x=parseInt(r.pageY+e.vakata.dnd.settings.helper_top,10),S=parseInt(r.pageX+e.vakata.dnd.settings.helper_left,10),i&&x+25>i&&(x=i-50),g&&S+o.helper_w>g&&(S=g-(o.helper_w+2)),o.helper.css({left:S+"px",top:x+"px"})),e.vakata.dnd._trigger("move",r),!1}},stop:function(r){if(r.type==="touchend"&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=Q.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),o.is_drag)r.target!==o.target&&e(o.target).off("click.vakata"),e.vakata.dnd._trigger("stop",r);else if(r.type==="touchend"&&r.target===o.target){var s=setTimeout(function(){e(r.target).trigger("click")},100);e(r.target).one("click",function(){s&&clearTimeout(s)})}return e.vakata.dnd._clean(),!1}}}(f),f.jstree.defaults.massload=null,f.jstree.plugins.massload=function(e,o){this.init=function(r,s){this._data.massload={},o.init.call(this,r,s)},this._load_nodes=function(r,s,a,i){var d=this.settings.massload,g=[],p=this._model.data,m,v,x;if(!a){for(m=0,v=r.length;m<v;m++)(!p[r[m]]||!p[r[m]].state.loaded&&!p[r[m]].state.failed||i)&&(g.push(r[m]),x=this.get_node(r[m],!0),x&&x.length&&x.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},g.length){if(f.vakata.is_function(d))return d.call(this,g,(function(S){var N,j;if(S)for(N in S)S.hasOwnProperty(N)&&(this._data.massload[N]=S[N]);for(N=0,j=r.length;N<j;N++)x=this.get_node(r[N],!0),x&&x.length&&x.removeClass("jstree-loading").attr("aria-busy",!1);o._load_nodes.call(this,r,s,a,i)}).bind(this));if(typeof d=="object"&&d&&d.url)return d=f.extend(!0,{},d),f.vakata.is_function(d.url)&&(d.url=d.url.call(this,g)),f.vakata.is_function(d.data)&&(d.data=d.data.call(this,g)),f.ajax(d).done((function(S,N,j){var O,D;if(S)for(O in S)S.hasOwnProperty(O)&&(this._data.massload[O]=S[O]);for(O=0,D=r.length;O<D;O++)x=this.get_node(r[O],!0),x&&x.length&&x.removeClass("jstree-loading").attr("aria-busy",!1);o._load_nodes.call(this,r,s,a,i)}).bind(this)).fail((function(S){o._load_nodes.call(this,r,s,a,i)}).bind(this))}}return o._load_nodes.call(this,r,s,a,i)},this._load_node=function(r,s){var a=this._data.massload[r.id],i=null,d;return a?(i=this[typeof a=="string"?"_append_html_data":"_append_json_data"](r,typeof a=="string"?f(f.parseHTML(a)).filter(function(){return this.nodeType!==3}):a,function(g){s.call(this,g)}),d=this.get_node(r.id,!0),d&&d.length&&d.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[r.id],i):o._load_node.call(this,r,s)}},f.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},f.jstree.plugins.search=function(e,o){this.bind=function(){o.bind.call(this),this._data.search.str="",this._data.search.dom=f(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",(function(r,s){if(this._data.search.som&&s.res.length){var a=this._model.data,i,d,g=[],p,m;for(i=0,d=s.res.length;i<d;i++)if(a[s.res[i]]&&!a[s.res[i]].state.hidden&&(g.push(s.res[i]),g=g.concat(a[s.res[i]].parents),this._data.search.smc))for(p=0,m=a[s.res[i]].children_d.length;p<m;p++)a[a[s.res[i]].children_d[p]]&&!a[a[s.res[i]].children_d[p]].state.hidden&&g.push(a[s.res[i]].children_d[p]);g=f.vakata.array_remove_item(f.vakata.array_unique(g),f.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(g,!0),this.redraw(!0)}}).bind(this)).on("clear_search.jstree",(function(r,s){this._data.search.som&&s.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}).bind(this))},this.search=function(r,s,a,i,d,g){if(r===!1||f.vakata.trim(r.toString())==="")return this.clear_search();i=this.get_node(i),i=i&&(i.id||i.id===0)?i.id:null,r=r.toString();var p=this.settings.search,m=p.ajax?p.ajax:!1,v=this._model.data,x=null,S=[],N=[],j,O;if(this._data.search.res.length&&!d&&this.clear_search(),a===R&&(a=p.show_only_matches),g===R&&(g=p.show_only_matches_children),!s&&m!==!1)return f.vakata.is_function(m)?m.call(this,r,(function(D){D&&D.d&&(D=D.d),this._load_nodes(f.vakata.is_array(D)?f.vakata.array_unique(D):[],function(){this.search(r,!0,a,i,d,g)})}).bind(this),i):(m=f.extend({},m),m.data||(m.data={}),m.data.str=r,i&&(m.data.inside=i),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=f.ajax(m).fail((function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(m)},this.settings.core.error.call(this,this._data.core.last_error)}).bind(this)).done((function(D){D&&D.d&&(D=D.d),this._load_nodes(f.vakata.is_array(D)?f.vakata.array_unique(D):[],function(){this.search(r,!0,a,i,d,g)})}).bind(this)),this._data.search.lastRequest);if(d||(this._data.search.str=r,this._data.search.dom=f(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=a,this._data.search.smc=g),x=new f.vakata.search(r,!0,{caseSensitive:p.case_sensitive,fuzzy:p.fuzzy}),f.each(v[i||f.jstree.root].children_d,function(D,G){var re=v[G];re.text&&!re.state.hidden&&(!p.search_leaves_only||re.state.loaded&&re.children.length===0)&&(p.search_callback&&p.search_callback.call(this,r,re)||!p.search_callback&&x.search(re.text).isMatch)&&(S.push(G),N=N.concat(re.parents))}),S.length){for(N=f.vakata.array_unique(N),j=0,O=N.length;j<O;j++)N[j]!==f.jstree.root&&v[N[j]]&&this.open_node(N[j],null,0)===!0&&this._data.search.opn.push(N[j]);d?(this._data.search.dom=this._data.search.dom.add(f(this.element[0].querySelectorAll("#"+f.map(S,function(D){return"0123456789".indexOf(D[0])!==-1?"\\3"+D[0]+" "+D.substr(1).replace(f.jstree.idregex,"\\$&"):D.replace(f.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=f.vakata.array_unique(this._data.search.res.concat(S))):(this._data.search.dom=f(this.element[0].querySelectorAll("#"+f.map(S,function(D){return"0123456789".indexOf(D[0])!==-1?"\\3"+D[0]+" "+D.substr(1).replace(f.jstree.idregex,"\\$&"):D.replace(f.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=S),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:r,res:this._data.search.res,show_only_matches:a})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=f(this.element[0].querySelectorAll("#"+f.map(this._data.search.res,function(r){return"0123456789".indexOf(r[0])!==-1?"\\3"+r[0]+" "+r.substr(1).replace(f.jstree.idregex,"\\$&"):r.replace(f.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=f()},this.redraw_node=function(r,s,a,i){if(r=o.redraw_node.apply(this,arguments),r&&f.inArray(r.id,this._data.search.res)!==-1){var d,g,p=null;for(d=0,g=r.childNodes.length;d<g;d++)if(r.childNodes[d]&&r.childNodes[d].className&&r.childNodes[d].className.indexOf("jstree-anchor")!==-1){p=r.childNodes[d];break}p&&(p.className+=" jstree-search")}return r}},function(e){e.vakata.search=function(o,r,s){s=s||{},s=e.extend({},e.vakata.search.defaults,s),s.fuzzy!==!1&&(s.fuzzy=!0),o=s.caseSensitive?o:o.toLowerCase();var a=s.location,i=s.distance,d=s.threshold,g=o.length,p,m,v,x;return g>32&&(s.fuzzy=!1),s.fuzzy&&(p=1<<g-1,m=function(){var S={},N=0;for(N=0;N<g;N++)S[o.charAt(N)]=0;for(N=0;N<g;N++)S[o.charAt(N)]|=1<<g-N-1;return S}(),v=function(S,N){var j=S/g,O=Math.abs(a-N);return i?j+O/i:O?1:j}),x=function(S){if(S=s.caseSensitive?S.toString():S.toString().toLowerCase(),o===S||S.indexOf(o)!==-1)return{isMatch:!0,score:0};if(!s.fuzzy)return{isMatch:!1,score:1};var N,j,O=S.length,D=d,G=S.indexOf(o,a),re,U,ce=g+O,Se,ve,$,he,Ce,Ae=1;for(G!==-1&&(D=Math.min(v(0,G),D),G=S.lastIndexOf(o,a+g),G!==-1&&(D=Math.min(v(0,G),D))),G=-1,N=0;N<g;N++){for(re=0,U=ce;re<U;)v(N,a+U)<=D?re=U:ce=U,U=Math.floor((ce-re)/2+re);for(ce=U,ve=Math.max(1,a-U+1),$=Math.min(a+U,O)+g,he=new Array($+2),he[$+1]=(1<<N)-1,j=$;j>=ve;j--)if(Ce=m[S.charAt(j-1)],N===0?he[j]=(he[j+1]<<1|1)&Ce:he[j]=(he[j+1]<<1|1)&Ce|((Se[j+1]|Se[j])<<1|1)|Se[j+1],he[j]&p&&(Ae=v(N,j-1),Ae<=D))if(D=Ae,G=j-1,G>a)ve=Math.max(1,2*a-G);else break;if(v(N+1,a)>D)break;Se=he}return{isMatch:G>=0,score:Ae}},r===!0?{search:x}:x(r)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(f),f.jstree.defaults.sort=function(e,o){return this.get_text(e)>this.get_text(o)?1:-1},f.jstree.plugins.sort=function(e,o){this.bind=function(){o.bind.call(this),this.element.on("model.jstree",(function(r,s){this.sort(s.parent,!0)}).bind(this)).on("rename_node.jstree create_node.jstree",(function(r,s){this.sort(s.parent||s.node.parent,!1),this.redraw_node(s.parent||s.node.parent,!0)}).bind(this)).on("move_node.jstree copy_node.jstree",(function(r,s){this.sort(s.parent,!1),this.redraw_node(s.parent,!0)}).bind(this))},this.sort=function(r,s){var a,i;if(r=this.get_node(r),r&&r.children&&r.children.length&&(r.children.sort(this.settings.sort.bind(this)),s))for(a=0,i=r.children_d.length;a<i;a++)this.sort(r.children_d[a],!1)}};var te=!1;f.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},f.jstree.plugins.state=function(e,o){this.bind=function(){o.bind.call(this);var r=(function(){this.element.on(this.settings.state.events,(function(){te&&clearTimeout(te),te=setTimeout((function(){this.save_state()}).bind(this),100)}).bind(this)),this.trigger("state_ready")}).bind(this);this.element.on("ready.jstree",(function(s,a){this.element.one("restore_state.jstree",r),this.restore_state()||r()}).bind(this))},this.save_state=function(){var r=this.get_state();this.settings.state.preserve_loaded||delete r.core.loaded;var s={state:r,ttl:this.settings.state.ttl,sec:+new Date};f.vakata.storage.set(this.settings.state.key,JSON.stringify(s))},this.restore_state=function(){var r=f.vakata.storage.get(this.settings.state.key);if(r)try{r=JSON.parse(r)}catch{return!1}return r&&r.ttl&&r.sec&&+new Date-r.sec>r.ttl?!1:(r&&r.state&&(r=r.state),r&&f.vakata.is_function(this.settings.state.filter)&&(r=this.settings.state.filter.call(this,r)),r?(this.settings.state.preserve_loaded||delete r.core.loaded,this.element.one("set_state.jstree",function(s,a){a.instance.trigger("restore_state",{state:f.extend(!0,{},r)})}),this.set_state(r),!0):!1)},this.clear_state=function(){return f.vakata.storage.del(this.settings.state.key)}},function(e,o){e.vakata.storage={set:function(r,s){return window.localStorage.setItem(r,s)},get:function(r){return window.localStorage.getItem(r)},del:function(r){return window.localStorage.removeItem(r)}}}(f),f.jstree.defaults.types={default:{}},f.jstree.defaults.types[f.jstree.root]={},f.jstree.plugins.types=function(e,o){this.init=function(r,s){var a,i;if(s&&s.types&&s.types.default){for(a in s.types)if(a!=="default"&&a!==f.jstree.root&&s.types.hasOwnProperty(a))for(i in s.types.default)s.types.default.hasOwnProperty(i)&&s.types[a][i]===R&&(s.types[a][i]=s.types.default[i])}o.init.call(this,r,s),this._model.data[f.jstree.root].type=f.jstree.root},this.refresh=function(r,s){o.refresh.call(this,r,s),this._model.data[f.jstree.root].type=f.jstree.root},this.bind=function(){this.element.on("model.jstree",(function(r,s){var a=this._model.data,i=s.nodes,d=this.settings.types,g,p,m="default",v;for(g=0,p=i.length;g<p;g++){if(m="default",a[i[g]].original&&a[i[g]].original.type&&d[a[i[g]].original.type]&&(m=a[i[g]].original.type),a[i[g]].data&&a[i[g]].data.jstree&&a[i[g]].data.jstree.type&&d[a[i[g]].data.jstree.type]&&(m=a[i[g]].data.jstree.type),a[i[g]].type=m,a[i[g]].icon===!0&&d[m].icon!==R&&(a[i[g]].icon=d[m].icon),d[m].li_attr!==R&&typeof d[m].li_attr=="object"){for(v in d[m].li_attr)if(d[m].li_attr.hasOwnProperty(v)){if(v==="id")continue;a[i[g]].li_attr[v]===R?a[i[g]].li_attr[v]=d[m].li_attr[v]:v==="class"&&(a[i[g]].li_attr.class=d[m].li_attr.class+" "+a[i[g]].li_attr.class)}}if(d[m].a_attr!==R&&typeof d[m].a_attr=="object"){for(v in d[m].a_attr)if(d[m].a_attr.hasOwnProperty(v)){if(v==="id")continue;a[i[g]].a_attr[v]===R?a[i[g]].a_attr[v]=d[m].a_attr[v]:v==="href"&&a[i[g]].a_attr[v]==="#"?a[i[g]].a_attr.href=d[m].a_attr.href:v==="class"&&(a[i[g]].a_attr.class=d[m].a_attr.class+" "+a[i[g]].a_attr.class)}}}a[f.jstree.root].type=f.jstree.root}).bind(this)),o.bind.call(this)},this.get_json=function(r,s,a){var i,d,g=this._model.data,p=s?f.extend(!0,{},s,{no_id:!1}):{},m=o.get_json.call(this,r,p,a);if(m===!1)return!1;if(f.vakata.is_array(m))for(i=0,d=m.length;i<d;i++)m[i].type=(m[i].id||m[i].id===0)&&g[m[i].id]&&g[m[i].id].type?g[m[i].id].type:"default",s&&s.no_id&&(delete m[i].id,m[i].li_attr&&m[i].li_attr.id&&delete m[i].li_attr.id,m[i].a_attr&&m[i].a_attr.id&&delete m[i].a_attr.id);else m.type=(m.id||m.id===0)&&g[m.id]&&g[m.id].type?g[m.id].type:"default",s&&s.no_id&&(m=this._delete_ids(m));return m},this._delete_ids=function(r){if(f.vakata.is_array(r)){for(var s=0,a=r.length;s<a;s++)r[s]=this._delete_ids(r[s]);return r}return delete r.id,r.li_attr&&r.li_attr.id&&delete r.li_attr.id,r.a_attr&&r.a_attr.id&&delete r.a_attr.id,r.children&&f.vakata.is_array(r.children)&&(r.children=this._delete_ids(r.children)),r},this.check=function(r,s,a,i,d){if(o.check.call(this,r,s,a,i,d)===!1)return!1;s=s&&(s.id||s.id===0)?s:this.get_node(s),a=a&&(a.id||a.id===0)?a:this.get_node(a);var g=s&&(s.id||s.id===0)?d&&d.origin?d.origin:f.jstree.reference(s.id):null,p,m,v,x;switch(g=g&&g._model&&g._model.data?g._model.data:null,r){case"create_node":case"move_node":case"copy_node":if(r!=="move_node"||f.inArray(s.id,a.children)===-1){if(p=this.get_rules(a),p.max_children!==R&&p.max_children!==-1&&p.max_children===a.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+r,data:JSON.stringify({chk:r,pos:i,obj:s&&(s.id||s.id===0)?s.id:!1,par:a&&(a.id||a.id===0)?a.id:!1})},!1;if(p.valid_children!==R&&p.valid_children!==-1&&f.inArray(s.type||"default",p.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+r,data:JSON.stringify({chk:r,pos:i,obj:s&&(s.id||s.id===0)?s.id:!1,par:a&&(a.id||a.id===0)?a.id:!1})},!1;if(g&&s.children_d&&s.parents){for(m=0,v=0,x=s.children_d.length;v<x;v++)m=Math.max(m,g[s.children_d[v]].parents.length);m=m-s.parents.length+1}(m<=0||m===R)&&(m=1);do{if(p.max_depth!==R&&p.max_depth!==-1&&p.max_depth<m)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+r,data:JSON.stringify({chk:r,pos:i,obj:s&&(s.id||s.id===0)?s.id:!1,par:a&&(a.id||a.id===0)?a.id:!1})},!1;a=this.get_node(a.parent),p=this.get_rules(a),m++}while(a)}break}return!0},this.get_rules=function(r){if(r=this.get_node(r),!r)return!1;var s=this.get_type(r,!0);return s.max_depth===R&&(s.max_depth=-1),s.max_children===R&&(s.max_children=-1),s.valid_children===R&&(s.valid_children=-1),s},this.get_type=function(r,s){return r=this.get_node(r),r?s?f.extend({type:r.type},this.settings.types[r.type]):r.type:!1},this.set_type=function(r,s){var a=this._model.data,i,d,g,p,m,v,x,S;if(f.vakata.is_array(r)){for(r=r.slice(),d=0,g=r.length;d<g;d++)this.set_type(r[d],s);return!0}if(i=this.settings.types,r=this.get_node(r),!i[s]||!r)return!1;if(x=this.get_node(r,!0),x&&x.length&&(S=x.children(".jstree-anchor")),p=r.type,m=this.get_icon(r),r.type=s,(m===!0||!i[p]||i[p].icon!==R&&m===i[p].icon)&&this.set_icon(r,i[s].icon!==R?i[s].icon:!0),i[p]&&i[p].li_attr!==R&&typeof i[p].li_attr=="object"){for(v in i[p].li_attr)if(i[p].li_attr.hasOwnProperty(v)){if(v==="id")continue;v==="class"?(a[r.id].li_attr.class=(a[r.id].li_attr.class||"").replace(i[p].li_attr[v],""),x&&x.removeClass(i[p].li_attr[v])):a[r.id].li_attr[v]===i[p].li_attr[v]&&(a[r.id].li_attr[v]=null,x&&x.removeAttr(v))}}if(i[p]&&i[p].a_attr!==R&&typeof i[p].a_attr=="object"){for(v in i[p].a_attr)if(i[p].a_attr.hasOwnProperty(v)){if(v==="id")continue;v==="class"?(a[r.id].a_attr.class=(a[r.id].a_attr.class||"").replace(i[p].a_attr[v],""),S&&S.removeClass(i[p].a_attr[v])):a[r.id].a_attr[v]===i[p].a_attr[v]&&(v==="href"?(a[r.id].a_attr[v]="#",S&&S.attr("href","#")):(delete a[r.id].a_attr[v],S&&S.removeAttr(v)))}}if(i[s].li_attr!==R&&typeof i[s].li_attr=="object"){for(v in i[s].li_attr)if(i[s].li_attr.hasOwnProperty(v)){if(v==="id")continue;a[r.id].li_attr[v]===R?(a[r.id].li_attr[v]=i[s].li_attr[v],x&&(v==="class"?x.addClass(i[s].li_attr[v]):x.attr(v,i[s].li_attr[v]))):v==="class"&&(a[r.id].li_attr.class=i[s].li_attr[v]+" "+a[r.id].li_attr.class,x&&x.addClass(i[s].li_attr[v]))}}if(i[s].a_attr!==R&&typeof i[s].a_attr=="object"){for(v in i[s].a_attr)if(i[s].a_attr.hasOwnProperty(v)){if(v==="id")continue;a[r.id].a_attr[v]===R?(a[r.id].a_attr[v]=i[s].a_attr[v],S&&(v==="class"?S.addClass(i[s].a_attr[v]):S.attr(v,i[s].a_attr[v]))):v==="href"&&a[r.id].a_attr[v]==="#"?(a[r.id].a_attr.href=i[s].a_attr.href,S&&S.attr("href",i[s].a_attr.href)):v==="class"&&(a[r.id].a_attr.class=i[s].a_attr.class+" "+a[r.id].a_attr.class,S&&S.addClass(i[s].a_attr[v]))}}return!0}},f.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,o){return e+" ("+o+")"}},f.jstree.plugins.unique=function(e,o){this.check=function(r,s,a,i,d){if(o.check.call(this,r,s,a,i,d)===!1)return!1;if(s=s&&(s.id||s.id===0)?s:this.get_node(s),a=a&&(a.id||a.id===0)?a:this.get_node(a),!a||!a.children)return!0;var g=r==="rename_node"?i:s.text,p=[],m=this.settings.unique.case_sensitive,v=this.settings.unique.trim_whitespace,x=this._model.data,S,N,j;for(S=0,N=a.children.length;S<N;S++)j=x[a.children[S]].text,m||(j=j.toLowerCase()),v&&(j=j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),p.push(j);switch(m||(g=g.toLowerCase()),v&&(g=g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),r){case"delete_node":return!0;case"rename_node":return j=s.text||"",m||(j=j.toLowerCase()),v&&(j=j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),S=f.inArray(g,p)===-1||s.text&&j===g,S||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+g+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:i,obj:s&&(s.id||s.id===0)?s.id:!1,par:a&&(a.id||a.id===0)?a.id:!1})}),S;case"create_node":return S=f.inArray(g,p)===-1,S||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+g+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:i,obj:s&&(s.id||s.id===0)?s.id:!1,par:a&&(a.id||a.id===0)?a.id:!1})}),S;case"copy_node":return S=f.inArray(g,p)===-1,S||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+g+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:i,obj:s&&(s.id||s.id===0)?s.id:!1,par:a&&(a.id||a.id===0)?a.id:!1})}),S;case"move_node":return S=s.parent===a.id&&(!d||!d.is_multi)||f.inArray(g,p)===-1,S||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+g+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:i,obj:s&&(s.id||s.id===0)?s.id:!1,par:a&&(a.id||a.id===0)?a.id:!1})}),S}return!0},this.create_node=function(r,s,a,i,d){if(!s||typeof s=="object"&&s.text===R){if(r===null&&(r=f.jstree.root),r=this.get_node(r),!r)return o.create_node.call(this,r,s,a,i,d);if(a=a===R?"last":a,!a.toString().match(/^(before|after)$/)&&!d&&!this.is_loaded(r))return o.create_node.call(this,r,s,a,i,d);s||(s={});var g,p,m,v,x,S=this._model.data,N=this.settings.unique.case_sensitive,j=this.settings.unique.trim_whitespace,O=this.settings.unique.duplicate,D;for(p=g=this.get_string("New node"),m=[],v=0,x=r.children.length;v<x;v++)D=S[r.children[v]].text,N||(D=D.toLowerCase()),j&&(D=D.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),m.push(D);for(v=1,D=p,N||(D=D.toLowerCase()),j&&(D=D.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));f.inArray(D,m)!==-1;)p=O.call(this,g,++v).toString(),D=p,N||(D=D.toLowerCase()),j&&(D=D.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));s.text=p}return o.create_node.call(this,r,s,a,i,d)}};var He=Q.createElement("DIV");if(He.setAttribute("unselectable","on"),He.setAttribute("role","presentation"),He.className="jstree-wholerow",He.innerHTML="&#160;",f.jstree.plugins.wholerow=function(e,o){this.bind=function(){o.bind.call(this),this.element.on("ready.jstree set_state.jstree",(function(){this.hide_dots()}).bind(this)).on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-wholerow-ul")}).bind(this)).on("deselect_all.jstree",(function(r,s){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}).bind(this)).on("changed.jstree",(function(r,s){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var a=!1,i,d;for(i=0,d=s.selected.length;i<d;i++)a=this.get_node(s.selected[i],!0),a&&a.length&&a.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("open_node.jstree",(function(r,s){this.get_node(s.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("hover_node.jstree dehover_node.jstree",(function(r,s){r.type==="hover_node"&&this.is_disabled(s.node)||this.get_node(s.node,!0).children(".jstree-wholerow")[r.type==="hover_node"?"addClass":"removeClass"]("jstree-wholerow-hovered")}).bind(this)).on("contextmenu.jstree",".jstree-wholerow",(function(r){if(this._data.contextmenu){r.preventDefault();var s=f.Event("contextmenu",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,pageX:r.pageX,pageY:r.pageY});f(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s)}}).bind(this)).on("click.jstree",".jstree-wholerow",function(r){r.stopImmediatePropagation();var s=f.Event("click",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});f(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(r){r.stopImmediatePropagation();var s=f.Event("dblclick",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});f(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",(function(r){r.stopImmediatePropagation();var s=f.Event("click",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});f(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s).trigger("focus")}).bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",(function(r){return r.stopImmediatePropagation(),this.is_disabled(r.currentTarget)||this.hover_node(r.currentTarget),!1}).bind(this)).on("mouseleave.jstree",".jstree-node",(function(r){this.dehover_node(r.currentTarget)}).bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),o.teardown.call(this)},this.redraw_node=function(r,s,a,i){if(r=o.redraw_node.apply(this,arguments),r){var d=He.cloneNode(!0);f.inArray(r.id,this._data.core.selected)!==-1&&(d.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===r.id&&(d.className+=" jstree-wholerow-hovered"),r.insertBefore(d,r.childNodes[0])}return r}},window.customElements&&Object&&Object.create){var Z=Object.create(HTMLElement.prototype);Z.createdCallback=function(){var e={core:{},plugins:[]},o;for(o in f.jstree.plugins)f.jstree.plugins.hasOwnProperty(o)&&this.attributes[o]&&(e.plugins.push(o),this.getAttribute(o)&&JSON.parse(this.getAttribute(o))&&(e[o]=JSON.parse(this.getAttribute(o))));for(o in f.jstree.defaults.core)f.jstree.defaults.core.hasOwnProperty(o)&&this.attributes[o]&&(e.core[o]=JSON.parse(this.getAttribute(o))||this.getAttribute(o));f(this).jstree(e)};try{window.customElements.define("vakata-jstree",function(){},{prototype:Z})}catch{}}}})}(fi)),fi.exports}Yr();document.addEventListener("DOMContentLoaded",()=>{const me=document.getElementById("knob");me&&Le(me).knob({min:0,max:100,width:120,height:120,fgColor:"#ff0000",bgColor:"#eeeeee",thickness:.2,displayInput:!0})});const Jr=document.getElementById("tree");Jr&&Le.getJSON("/get-tree-data",function(me){Le("#tree").jstree({core:{data:me,themes:{dots:!0,icons:!0},multiple:!1},types:{default:{}},plugins:["types","search","contextmenu"],contextmenu:{items:function(f){return{addItem:{label:"ááááªááá¢áááá¡ áááááááá",action:function(R){var _e=Le.jstree.reference(R.reference),ke=_e.create_node(f,{text:"New Node"});_e.edit(ke)},icon:"fa fa-arrow-right"}}}}}),Le("#tree").on("select_node.jstree",function(f,R){var _e=R.node.text;document.getElementById("organisation_name").value=_e;var ke=document.querySelector(".share-form");if(_e!=""){ke.style.display="block";var fe=document.querySelector(".share-form");fe&&fe.scrollIntoView({behavior:"smooth",block:"start"})}}),Le("#search-input").on("keyup",function(){var f=Le(this).val();if(!f)Le("#tree").jstree("show_all"),Le("#tree").jstree("deselect_all"),Le("#tree").jstree("close_all");else{Le("#tree").jstree("search",f);var R=Le("#tree").jstree("get_search").nodes;R.each(function(_e,ke){var fe=Le(ke).parents();fe.each(function(){Le("#tree").jstree("show_node",this)})})}})});document.addEventListener("DOMContentLoaded",function(){document.getElementById("tree");var me=document.getElementById("organisation_name"),f=document.querySelector(".share-form");me.value.trim()===""&&(f.style.display="none")});(function(){var me=document.createElement("script"),f=document.getElementsByTagName("script")[0];me.async=!0,me.src="https://embed.tawk.to/5f43c8171e7ade5df4437232/default",me.charset="UTF-8",me.setAttribute("crossorigin","*"),f.parentNode.insertBefore(me,f)})();
